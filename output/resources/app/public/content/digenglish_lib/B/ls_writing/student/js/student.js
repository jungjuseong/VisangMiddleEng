!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=20)}([function(t,e){t.exports=React},function(t,e,n){t.exports=n(39)()},function(t,e){t.exports=mobxReact},function(t,e){t.exports=mobx},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var o=n(12),i=n(5);function s(t){if(!t)return t;t.displayMode=""+t.displayMode=="2"?"2":"1";var e=t.thumb?t.thumb:"";return(e.startsWith("static/")||""===e)&&(e=e.endsWith("w.jpg")?"".concat("/content/digenglish_lib/","/images/default_member_w.jpg"):"".concat("/content/digenglish_lib/","/images/default_member_m.jpg")),t.thumb=e,t}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,c;return e=t,c=[{key:"pub_init",value:function(){var e=navigator.userAgent;t._isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e)||/android/i.test(e),t._tempBnd=document.createElement("div"),t._tempBnd.style.display="none",t._tempEl=document.createElement("div"),t._tempBnd.appendChild(t._tempEl),null===document.body?document.addEventListener("DOMContentLoaded",(function(e){document.body.appendChild(t._tempBnd)})):document.body.appendChild(t._tempBnd)}},{key:"pub_load",value:function(e,n,r,o,i,c){t._lesson=o,t._book=r,t._nextBook=i,t._prevBook=c,t._students=[],e&&e.forEach((function(e,n){t._students[n]=s(e)})),t._student=s(n)}},{key:"pub_reloadStudents",value:function(e){i.getStudents((function(n,r){for(;t._students.length>0;)t._students.pop();for(;t._students_inited.length>0;)t._students_inited.pop();for(var o=0,i=n.length;o<i;o++)t.isDvlp?t._students[o]=s(n[o]):t._students[o]=s({id:n[o].id,name:n[o].name,thumb:n[o].defaultThumbnail,avatar:n[o].profileThumbnail,nickname:n[o].nickName,displayMode:n[o].displayMode,inited:!0}),t._students_inited.push(n[o].id);e()}))}},{key:"pub_parseStyle",value:function(e){return t._tempEl.style.cssText=e,t._tempEl.style}},{key:"pub_initAudio",value:function(){t._common_audio=document.getElementById("common_audio"),t._ding_audio=document.getElementById("ding_audio"),t._dingend_audio=document.getElementById("dingend_audio"),t._btn_audio=document.getElementById("btn_audio"),t._correct_audio=document.getElementById("correct_audio"),t._wrong_audio=document.getElementById("wrong_audio"),t._topad_audio=document.getElementById("topad_audio"),t._goodjob_audio=document.getElementById("goodjob_audio"),t._btn_back_audio=document.getElementById("btn_back_audio"),t._btn_page_audio=document.getElementById("btn_page_audio"),t._card_audio=document.getElementById("card_audio"),t._popup_audio=document.getElementById("popup_audio"),t._flips_audio=document.getElementById("card_flips"),t._clock_audio=document.getElementById("clock_audio"),t._write_audio=document.getElementById("write_audio"),t._like_bubble_audio=document.getElementById("like_bubble"),t._all_btn_click_audio=document.getElementById("all_btn_click")}},{key:"pub_playAllBtnClick",value:function(){t._all_btn_click_audio&&(t._all_btn_click_audio.currentTime=0,t._all_btn_click_audio.play())}},{key:"pub_playLikeBubble",value:function(){t._like_bubble_audio&&(t._like_bubble_audio.currentTime=0,t._like_bubble_audio.play())}},{key:"pub_playWrite",value:function(){t._write_audio&&(t._write_audio.currentTime=0,t._write_audio.play())}},{key:"pub_playClock",value:function(){t._clock_audio&&(t._clock_audio.currentTime=4.5,t._clock_audio.play())}},{key:"pub_playFlips",value:function(){t._flips_audio&&(t._flips_audio.currentTime=0,t._flips_audio.play())}},{key:"pub_playPopup",value:function(){t._popup_audio&&(t._popup_audio.currentTime=0,t._popup_audio.play())}},{key:"pub_playCard",value:function(){t._card_audio&&(t._card_audio.currentTime=0,t._card_audio.play())}},{key:"pub_playBtnPage",value:function(){t._btn_page_audio&&(t._btn_page_audio.currentTime=0,t._btn_page_audio.play())}},{key:"pub_playBtnBack",value:function(){t._btn_back_audio&&(t._btn_back_audio.currentTime=0,t._btn_back_audio.play())}},{key:"pub_playGoodjob",value:function(){t._goodjob_audio&&(t._goodjob_audio.currentTime=0,t._goodjob_audio.play())}},{key:"pub_playDing",value:function(){t._ding_audio&&(t._ding_audio.currentTime=0,t._ding_audio.play())}},{key:"pub_playDingend",value:function(){t._dingend_audio&&(t._dingend_audio.currentTime=0,t._dingend_audio.play())}},{key:"pub_playToPad",value:function(){t._topad_audio&&(t._topad_audio.currentTime=0,t._topad_audio.play())}},{key:"pub_playBtnTab",value:function(){t._btn_audio&&(t._btn_audio.currentTime=0,t._btn_audio.play())}},{key:"pub_playCorrect",value:function(){t._correct_audio&&(t._correct_audio.currentTime=0,t._correct_audio.play())}},{key:"pub_playWrong",value:function(){t._wrong_audio&&(t._wrong_audio.currentTime=0,t._wrong_audio.play())}},{key:"pub_playStudentBubble",value:function(){var t=document.getElementById("student_bubble");t&&(t.currentTime=0,t.paused&&t.play())}},{key:"pub_stop",value:function(){null!=t._common_audio.onended&&t._common_audio.onended.call(t._common_audio,new Event("ended")),t._common_audio.oncanplaythrough=null,isNaN(t._common_audio.duration)||t._common_audio.paused||t._common_audio.pause()}},{key:"pub_play",value:function(e,n){t.pub_stop(),e=o.nteString(e,"");var r=o.nteString(t._common_audio.getAttribute("src"),"");if(""!==e||""!==r){""!==e&&r!==e&&(t._common_audio.src=e);var i=function e(r){t._common_audio.onended=null,null!==n&&n(!0),t._common_audio.removeEventListener("error",e)};t._common_audio.onended=function(e){t._common_audio.onended=null,null!==n&&n(!!e),t._common_audio.removeEventListener("error",i)},t._common_audio.addEventListener("error",i),isNaN(t._common_audio.duration)?(t._common_audio.oncanplaythrough=function(e){0!==t._common_audio.currentTime&&(t._common_audio.currentTime=0),t._common_audio.play(),t._common_audio.oncanplaythrough=null},t._common_audio.load()):(0!==t._common_audio.currentTime&&(t._common_audio.currentTime=0),t._common_audio.oncanplaythrough=null,t._common_audio.play())}else null!=n&&n(!0)}},{key:"pub_set",value:function(e,n,r){t._isDvlp=n,t._lang=r,i.set(n)}},{key:"pub_addInitedStudent",value:function(e){for(var n=!0,r=0,o=t._students_inited.length;r<o;r++)t._students_inited[r]===e.id&&(n=!1);n&&t._students_inited.push(e.id);var i=t._start_idx>0&&t._students.length>0&&t._students_inited.length>=t._students.length;return i&&(window.clearTimeout(t._start_idx),t._start_idx=-1),i}},{key:"pub_start",value:function(e){0===t._students.length||t._students_inited.length>=t._students.length?e():t._start_idx=window.setTimeout(e,2e3)}},{key:"pub_clear",value:function(){for(;t._students.length>0;)t._students.pop();for(;t._students_inited.length>0;)t._students_inited.pop()}},{key:"isMobile",get:function(){return t._isMobile}},{key:"tempEl",get:function(){return t._tempEl}},{key:"students",get:function(){return t._students}},{key:"student",get:function(){return t._student}},{key:"lang",get:function(){return t._lang}},{key:"isDvlp",get:function(){return t._isDvlp}},{key:"data_url",get:function(){return t._data_url}},{key:"lesson",get:function(){return t._lesson}},{key:"book",get:function(){return t._book}},{key:"nextBook",get:function(){return t._nextBook}},{key:"prevBook",get:function(){return t._prevBook}}],(n=null)&&r(e.prototype,n),c&&r(e,c),t}();e.App=c,c._isMobile=!1,c._students=[],c._students_inited=[],c._student=null,c._lang="ko",c._isDvlp=!1,c._data_url="../data/",c._lesson="",c._book="",c._nextBook=!1,c._prevBook=!1,c._start_idx=-1,c.isStarted=!1},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getPreviewResultMember=e.getPreviewResultClass=e.getPreviewDmsResult=e.getPreviewResult=e.uploadInclassReport=e.stopVideoRecord=e.startVideoRecord=e.switchCamera=e.stopCamera=e.startCustomCamera=e.startCamera=e.getStudents=e.uploadImageToServer=e.uploadFileToServer=e.stopVoiceRecord=e.startVoiceRecord=e.sendTeacher=e.disableSoftwareKeyboard=e.sendPAD=e.sendPADToID=e.sendLauncher=e.uploadStudentReport=e.addStudentForStudentReportType6=e.hideStudentReportListPage=e.showStudentReportListPage=e.showStudentReportUI=e.hideStudentReportUI=e.startStudentReportProcess=e.finishContentPage=e.set=void 0;var o=n(6),i=!1;e.set=function(t){i=t},e.finishContentPage=function(){if(!i)try{window.tsoc_o.finishContentPage()}catch(t){}},e.startStudentReportProcess=function(t,e,n){if(!i)try{window.tsoc_o.startStudentReportProcess(t,e,n)}catch(t){}},e.hideStudentReportUI=function(){if(!i)try{window.tsoc_o.hideStudentReportUI()}catch(t){}},e.showStudentReportUI=function(){if(!i)try{window.tsoc_o.showStudentReportUI()}catch(t){}},e.showStudentReportListPage=function(){if(!i)try{window.tsoc_o.showStudentReportListPage()}catch(t){}},e.hideStudentReportListPage=function(){if(!i)try{window.tsoc_o.hideStudentReportListPage()}catch(t){}},e.addStudentForStudentReportType6=function(t){if(!i)try{window.tsoc_o.addStudentForStudentReportType6(t)}catch(t){}},e.uploadStudentReport=function(t,e,n){if(!i)try{window.psoc_o.uploadStudentReport(t,e,n)}catch(t){}},e.sendLauncher=function(t,e){if(5!==t||i)if(6!==t||i)if(7!==t||i){if(8===t)if(i)try{window.top.tsoc_o.gotoPrevBook()}catch(t){}else try{window.tsoc_o.gotoPrevBook()}catch(t){}else if(9===t)if(i)try{window.top.tsoc_o.gotoNextBook()}catch(t){}else try{window.tsoc_o.gotoNextBook()}catch(t){}}else try{window.tsoc_o.setTitleBar(e)}catch(t){}else try{window.tsoc_o.showTitleBar()}catch(t){}else try{window.tsoc_o.hideTitleBar()}catch(t){}},e.sendPADToID=function(t,e,n){var r={type:e,data:n};if(i)try{window.top.tsoc_o.sendPADToID(t,r)}catch(t){}else try{window.tsoc_o.sendPADToID(t,r)}catch(t){}},e.sendPAD=function(t,e){var n={type:t,data:e};if(i)try{window.top.tsoc_o.sendAll(n)}catch(t){}else try{window.tsoc_o.sendAll(n)}catch(t){}},e.disableSoftwareKeyboard=function(){try{window.psoc_o.disableSoftwareKeyboard()}catch(t){}},e.sendTeacher=function(t,e){var n={type:t,data:e};if(i)try{window.opener.tsoc_o.sendTeacher(n)}catch(t){}else try{window.psoc_o.sendTeacher(n)}catch(t){}},e.startVoiceRecord=function(){try{window.psoc_o.startVoiceRecord()}catch(t){}},e.stopVoiceRecord=function(){try{window.psoc_o.stopVoiceRecord()}catch(t){}},e.uploadFileToServer=function(t){try{window.psoc_o.uploadFileToServer(t)}catch(t){}},e.uploadImageToServer=function(t){try{window.psoc_o.uploadImageToServer(t)}catch(t){}},e.getStudents=function(t){if(i)if(window.top.tsoc_o)try{window.top.tsoc_o.getStudents(t)}catch(t){}else t([],!1);else try{window.tsoc_o.getStudents(t)}catch(t){}},e.startCamera=function(){if(!i)try{window.psoc_o.startCamera()}catch(t){}},e.startCustomCamera=function(t){if(!i)try{window.psoc_o.startCustomCamera(t)}catch(t){}},e.stopCamera=function(){if(!i)try{window.psoc_o.stopCamera()}catch(t){}},e.switchCamera=function(){if(!i)try{window.psoc_o.switchCamera()}catch(t){}},e.startVideoRecord=function(){if(!i)try{window.psoc_o.startVideoRecord()}catch(t){}},e.stopVideoRecord=function(){if(!i)try{window.psoc_o.stopVideoRecord()}catch(t){}},e.uploadInclassReport=function(t){if(!i)try{window.tsoc_o.uploadInclassReport(t)}catch(t){}},e.getPreviewResult=function(t){return r(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(i)e([]);else{var n=!1;window.tsoc_o.getPreviewResult((function(t){n||(n=!0,e(t))}),t),o.delay((function(){n||(n=!0,e([]))}),5e3)}})));case 1:case"end":return e.stop()}}),e)})))},e.getPreviewDmsResult=function(t){return r(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(i)e([]);else{var n=!1;window.tsoc_o.getPreviewDmsResult((function(t){n||(n=!0,e(t))}),t),o.delay((function(){n||(n=!0,e([]))}),5e3)}})));case 1:case"end":return e.stop()}}),e)})))},e.getPreviewResultClass=function(t){return r(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(i)e([]);else{var n=!1;window.tsoc_o.getPreviewResultClass((function(t){n||(n=!0,e(t))}),t),o.delay((function(){n||(n=!0,e([]))}),5e3)}})));case 1:case"end":return e.stop()}}),e)})))},e.getPreviewResultMember=function(t){return r(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(i)e([]);else{var n=!1;window.tsoc_o.getPreviewResultMember((function(t){n||(n=!0,e(t))}),t),o.delay((function(){n||(n=!0,e([]))}),5e3)}})));case 1:case"end":return e.stop()}}),e)})))}},function(t,e){t.exports=_},function(t,e,n){"use strict";function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ImgBtn=e.AudioBtn=e.ToggleBtn=void 0;var m=n(0),y=n(3),_=n(2),v=function(t){c(n,t);var e=u(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).m_pID=-1,r._inited=r._inited.bind(p(r)),r._onClick=r._onClick.bind(p(r)),r}return s(n,[{key:"_inited",value:function(t){var e=this;!this.m_el&&t&&(this.m_el=t,this.props.onRef&&this.props.onRef(t),t.setAttribute("touch-action","none"),t.addEventListener("pointerdown",(function(n){if(!(e.m_pID>=0)){if(e.m_pID=n.pointerId,!e.props.disableCapture)try{t.setPointerCapture(e.m_pID)}catch(t){}e.props.onMouseDown&&e.props.onMouseDown(n)}})),t.addEventListener("pointerup",(function(n){if(e.m_pID===n.pointerId){try{t.releasePointerCapture(e.m_pID)}catch(t){}e.m_pID=-1,e.props.onMouseUp&&e.props.onMouseUp(n)}})),t.addEventListener("pointerleave",(function(n){if(e.props.disableCapture){if(e.m_pID!==n.pointerId)return;try{t.releasePointerCapture(e.m_pID)}catch(t){}e.m_pID=-1}e.props.onMouseLeave&&e.props.onMouseLeave(n)})),t.addEventListener("pointercancel",(function(n){if(e.m_pID===n.pointerId){try{t.releasePointerCapture(e.m_pID)}catch(t){}e.m_pID=-1,e.props.onMouseLeave&&e.props.onMouseLeave(n)}})))}},{key:"_onClick",value:function(t){this.props.onClick&&this.props.onClick(t),this.props.preventEvent&&(t.preventDefault(),t.stopPropagation())}},{key:"componentDidUpdate",value:function(t){if((this.props.disabled&&!t.disabled||!this.props.view&&t.view)&&this.m_pID>=0){try{this.m_el&&this.m_el.releasePointerCapture(this.m_pID)}catch(t){}this.m_pID=-1}}}]),n}(m.Component);h([y.observable],v.prototype,"m_pID",void 0);var b=function(t){c(n,t);var e=u(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).m_on=!1,r.m_on=!0===t.on,r}return s(n,[{key:"componentWillReceiveProps",value:function(t){this.props.on!==t.on&&(this.m_on=!0===t.on)}},{key:"render",value:function(){var t=[];this.props.className&&t.push(this.props.className),this.m_on&&t.push("on"),this.m_pID>0&&t.push("down");var e=t.join(" "),n=this.props.style;return!1===this.props.view&&(n||(n={}),n.display="none"),m.createElement("button",{id:this.props.id,className:e,onClick:this._onClick,ref:this._inited,disabled:!0===this.props.disabled,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:n},this.props.children)}}]),n}(v);h([y.observable],b.prototype,"m_on",void 0),b=h([_.observer],b),e.ToggleBtn=b;var g=function(t){c(n,t);var e=u(n);function n(t){return o(this,n),e.call(this,t)}return s(n,[{key:"play",value:function(){var t=this;this.m_on||(this.m_on=!0,this.props.playFnc(this.props.src,(function(e){t.m_on&&(t.m_on=!1,t.props.onPause&&t.props.onPause(e))})))}},{key:"_onClick",value:function(t){this.m_on?(this.props.pauseFnc(),this.m_on=!1):this.play(),r(f(n.prototype),"_onClick",this).call(this,t)}}]),n}(b);h([y.action],g.prototype,"play",null),h([y.action],g.prototype,"_onClick",null),g=h([_.observer],g),e.AudioBtn=g;var w=function(t){c(n,t);var e=u(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).m_on=!1,r.m_on=!0===t.on,r}return s(n,[{key:"componentWillReceiveProps",value:function(t){this.props.on!==t.on&&(this.m_on=!0===t.on)}},{key:"render",value:function(){var t=[];this.props.className&&t.push(this.props.className),this.m_on&&t.push("on"),this.m_pID>0&&t.push("down"),!0===this.props.disabled&&t.push("disable");var e=t.join(" "),n=this.props.style;return!1===this.props.view&&(n||(n={}),n.display="none"),m.createElement("img",{id:this.props.id,className:e,onClick:this._onClick,ref:this._inited,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:n,src:this.props.src,useMap:this.props.useMap})}}]),n}(v);h([y.observable],w.prototype,"m_on",void 0),w=h([_.observer],w),e.ImgBtn=w},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getBounds=e.getTimeStr=e.wait=void 0;var o=n(6);e.wait=function(t){return r(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){o.delay(e,t)})));case 1:case"end":return e.stop()}}),e)})))},e.getTimeStr=function(t,e){var n=Math.round(e/1e3),r=Math.round(t/1e3),o=Math.floor(r/60),i=Math.floor(o/60),s="";return o%=60,i>0||n>=3600?(s=i+":",s+=o>=10?o+":":"0"+o+":"):n>=600?s+=o>=10?o+":":"0"+o+":":s=o+":",s+=(r%=60)>=10?r:"0"+r},e.getBounds=function(t){var e={left:0,top:0,width:0,height:0};if(!t)return e;try{var n=t.getBoundingClientRect();e.left=n.left,e.top=n.top,e.width=n.width,e.height=n.height}catch(t){}var r=t.ownerDocument,o=r.body,i=r.documentElement;e.left=e.left-(i.clientLeft||o.clientLeft||0),e.top=e.top-(i.clientTop||o.clientTop||0);var s=r.defaultView;return e.left+=s.pageXOffset||i.scrollLeft||o.scrollLeft,e.top+=s.pageYOffset||i.scrollTop||o.scrollTop,e}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=ReactDOM},function(t,e,n){"use strict";t.exports=n(22)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._toStringTimestamp=e.getDateStr=e.nteArray=e.intToHTMLcolor=e.nteBool=e.nteString=e.nteFloat=e.nteInt=e.nteUInt=e.getUnicUrl=e.getUnicNum=e.getUnic=void 0;var r=n(13);Date.now||(Date.now=function(){return(new Date).getTime()});var o=0;function i(){return s().toString(36)}function s(){var t=Date.now();return t>o?o=t:o+=1,o}e.getUnic=i,e.getUnicNum=s,e.getUnicUrl=function(t){if(!t)return"";var e=t=t.trim();return 0!==e.indexOf("http://")&&0!==e.indexOf("https://")||(e=e.indexOf("?")>0?e+"&t="+i():e+"?t="+i()),e},e.nteUInt=function(t,e){if(r.isNullOrUndefined(t))return e;if(r.isNumber(t))return isNaN(t)||t<0?e:Math.round(t);var n=parseInt(String(t),10);return isNaN(n)||n<0?e:n},e.nteInt=function(t,e){if(r.isNullOrUndefined(t))return e;if(r.isNumber(t))return Math.round(t);var n=parseInt(String(t),10);return isNaN(n)?e:n},e.nteFloat=function(t,e){if(r.isNullOrUndefined(t))return e;if(r.isNumber(t))return t;var n=parseFloat(String(t));return isNaN(n)?e:n},e.nteString=function(t,e){return r.isNullOrUndefined(t)?e:String(t)},e.nteBool=function(t,e){if(r.isNullOrUndefined(t))return e;if(r.isBoolean(t))return t;var n=String(t);return"true"===n||"false"!==n&&e},e.intToHTMLcolor=function(t){var e=t-0,n=(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16);return n="#000000".substring(0,7-n.length)+n},e.nteArray=function(t){if(t){if(Array.isArray(t))return t;if("string"==typeof t){var e=t;if(e.indexOf("[")>=0&&e.indexOf("]")>0)try{return JSON.parse(e)}catch(t){}}var n=[];return n.push(t),n}return[]},e.getDateStr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",e=new Date,n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),i=r<10?"0"+r:""+r,s=o<10?"0"+o:""+o;return n+t+i+t+s},e._toStringTimestamp=function(t){var e=t.getFullYear(),n=t.getMonth()+1+"";parseInt(n,10)<10&&(n="0"+n);var r=t.getDate()+"";return parseInt(r,10)<10&&(r="0"+r),e+"-"+n+"-"+r+" "+t.toTimeString().substr(0,8)}},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(c(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(t).replace(o,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),a=r[n];n<i;a=r[++n])m(a)||!g(a)?s+=" "+a:s+=" "+c(a);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,s={};function c(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),l(r,t,r.depth)}function a(t,e){var n=c.styles[e];return n?"["+c.colors[n][0]+"m"+t+"["+c.colors[n][1]+"m":t}function u(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return _(o)||(o=l(t,o,r)),o}var i=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(h(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,n);if(i)return i;var s=Object.keys(n),c=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),O(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(n);if(0===s.length){if(E(n)){var a=n.name?": "+n.name:"";return t.stylize("[Function"+a+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(O(n))return p(n)}var u,g="",P=!1,S=["{","}"];(d(n)&&(P=!0,S=["[","]"]),E(n))&&(g=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(g=" "+RegExp.prototype.toString.call(n)),w(n)&&(g=" "+Date.prototype.toUTCString.call(n)),O(n)&&(g=" "+p(n)),0!==s.length||P&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=P?function(t,e,n,r,o){for(var i=[],s=0,c=e.length;s<c;++s)j(e,String(s))?i.push(f(t,e,n,r,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(f(t,e,n,r,o,!0))})),i}(t,n,r,c,s):s.map((function(e){return f(t,n,r,c,e,P)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,g,S)):S[0]+g+S[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,o,i){var s,c,a;if((a=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?c=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(c=t.stylize("[Setter]","special")),j(r,o)||(s="["+o+"]"),c||(t.seen.indexOf(a.value)<0?(c=m(n)?l(t,a.value,null):l(t,a.value,n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+c.split("\n").map((function(t){return"   "+t})).join("\n")):c=t.stylize("[Circular]","special")),v(s)){if(i&&o.match(/^\d+$/))return c;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+c}function d(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function m(t){return null===t}function y(t){return"number"==typeof t}function _(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return g(t)&&"[object RegExp]"===P(t)}function g(t){return"object"==typeof t&&null!==t}function w(t){return g(t)&&"[object Date]"===P(t)}function O(t){return g(t)&&("[object Error]"===P(t)||t instanceof Error)}function E(t){return"function"==typeof t}function P(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(v(i)&&(i=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=h,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=_,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.isObject=g,e.isDate=w,e.isError=O,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(24);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),k[t.getMonth()],e].join(" ")}function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",R(),e.format.apply(e,arguments))},e.inherits=n(25),e._extend=function(t,e){if(!e||!g(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var x="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(x&&t[x]){var e;if("function"!=typeof(e=t[x]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,x,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),x&&Object.defineProperty(e,x,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=x,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(T,e,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(23))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),p=n(3),f=n(2),d=n(37),h=n(12),m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(a,t);var e,n,s,c=i(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=c.call(this,t)).m_btnH=0,e.m_max=0,e.m_sy=-1,e.m_vy=-1,e.m_time=-1,e.m_bSend=!1,e.m_state={y:0,alpha:1,tDur:0,aDur:0,isOn:!1,disabled:!1},e._ref=function(t){if(!(e.m_max>0)&&t){t.setAttribute("touch-action","none");var n=window.getComputedStyle(t),r=h.nteFloat(n.height,0),o=h.nteFloat(n.bottom,0);r>0&&(e.m_btnH=r,e.m_max=r+o+10,e.props.view||(e.m_state.y=e.m_max))}},e._down=function(t){e.m_state.isOn||e.m_state.disabled||(e.m_state.y=e.props.originY,e.m_state.alpha=1,e.m_state.tDur=0,e.m_state.aDur=0,e.m_state.isOn=!0,e.m_vy=0,e.m_time=Date.now())},e._start=function(t,n){e.m_sy=n.y,e.m_bSend=!0},e._drag=function(t,n){if(e.m_state.isOn&&!e.m_state.disabled){var r=n.y-e.m_sy;"teacher"===e.props.type?(n.deltaY<-1?e.m_bSend=!1:n.deltaY>=0&&(e.m_bSend=!0),r<0&&(r=0)):(n.deltaY>1?e.m_bSend=!1:n.deltaY<=0&&(e.m_bSend=!0),r>0&&(r=0)),!1===e.props.preventDrag&&(e.m_state.y=r+e.props.originY);var o=Date.now();e.m_vy=n.deltaY/(o-e.m_time),e.m_time=o}},e._stop=function(t,n){if(e.m_state.isOn&&!e.m_state.disabled)if(e.m_bSend){var r=.5*e.m_vy*1e3,o=n.y-e.m_sy;"teacher"===e.props.type?(r<e.m_btnH?r=e.m_btnH:r>4*e.m_btnH&&(r=4*e.m_btnH),o<0&&(o=0)):(-1*r<e.m_btnH?r=-e.m_btnH:-1*r>4*e.m_btnH&&(r=-4*e.m_btnH),o>0&&(o=0)),e.m_state.tDur=.5,e.m_state.aDur=.5,e.m_state.alpha=0,e.m_state.y=o+r+e.props.originY,e.props.onSend()}else e.m_state.isOn=!1,e.m_state.tDur=.3,e.m_state.aDur=0,e.m_state.y=e.props.originY},t.sended?(e.m_state.alpha=0,e.m_state.disabled=!0):t.view?(e.m_state.y=t.originY,e.m_state.alpha=1,e.m_state.tDur=.3,e.m_state.aDur=0,e.m_state.isOn=!1,e.m_state.disabled=!1):t.view||(e.m_state.y=t.originY,e.m_state.alpha=0,e.m_state.tDur=.3,e.m_state.aDur=.3,e.m_state.isOn=!1,e.m_state.disabled=!0),e}return e=a,(n=[{key:"componentWillReceiveProps",value:function(t){t.sended&&!this.props.sended?(this.m_state.alpha=0,this.m_state.disabled=!0):t.view&&!this.props.view?(this.m_state.y=t.originY,this.m_state.alpha=1,t.preventUpWhenView?(this.m_state.tDur=0,this.m_state.aDur=.3):(this.m_state.tDur=.3,this.m_state.aDur=0),this.m_state.isOn=!1,this.m_state.disabled=!1):!t.view&&this.props.view?(this.m_state.y=this.m_max,this.m_state.alpha=0,this.m_state.tDur=.3,this.m_state.aDur=.3,this.m_state.isOn=!1,this.m_state.disabled=!0):!t.view||t.sended||this.m_state.isOn||t.originY===this.props.originY||(this.m_state.y=t.originY,this.m_state.tDur=.3,this.m_state.aDur=0)}},{key:"render",value:function(){var t=this.m_state,e=t.y,n=t.tDur,r=t.aDur,o=t.alpha,i=t.isOn,s=t.disabled,c={transform:"translateY(".concat(e,"px)"),transition:"transform ".concat(n,"s, opacity ").concat(r/2,"s ").concat(r/2,"s"),opacity:o,pointerEvents:s||!this.props.view?"none":"auto"},a=[];return"pad"===this.props.type?a.push("fel_toteacher"):a.push("fel_topad"),i&&a.push("on"),l.createElement(d.DraggableCore,{onMouseDown:this._down,onDrag:this._drag,onStart:this._start,onStop:this._stop},l.createElement("button",{ref:this._ref,className:a.join(" "),style:c}))}}])&&r(e.prototype,n),s&&r(e,s),a}(l.Component);u([p.observable],m.prototype,"m_state",void 0),m=u([f.observer],m),e.default=m},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),p=n(3),f=n(2),d=n(17),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(a,t);var e,n,s,c=i(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=c.call(this,t))._div=null,e._bndW=0,e._width=0,e._fontSize=0,e._myW=0,e._numOfLine=0,e._ref=function(t){!e._div&&t&&(e._div=t,e.props.onRef&&e.props.onRef(t))},e._aniFrame=function(t){e._canCalc()&&(e._calc(),window.requestAnimationFrame(e._aniFrame))},e._resized=function(t,n){e._myW=t,window.requestAnimationFrame(e._aniFrame)},e._fontSize=e.props.maxSize?e.props.maxSize:0,e}return e=a,(n=[{key:"_canCalc",value:function(){return!(!this.props.view||this._myW<=0||!this._div||this._width>0)}},{key:"_calc",value:function(){if(this._canCalc()&&this._div){var t=this._div.getBoundingClientRect(),e=this._myW-t.width;if(!(e<-1||e>1)){var n=this._div.childNodes;if(0!==n.length){var r=0,o=-100,i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,c=0;n.forEach((function(t,e){var n=0,a=0;if(t instanceof HTMLElement){var u=t,l=window.getComputedStyle(u);if("absolute"===l.position);else if("inline"===l.display){var p=l.marginRight?parseInt(l.marginRight,10):0,f=l.marginLeft?parseInt(l.marginLeft,10):0;isNaN(p)&&(p=0),isNaN(f)&&(f=0);for(var d=u.getClientRects(),h=0;h<d.length;h++){var m=d.item(h);if(m){var y=m.top,_=m.bottom,v=m.left-f,b=m.right+p;0===c?(o=(y+_)/2,r=1):(o<y||o>_)&&(o=(y+_)/2,r++),i=Math.min(i,v),s=Math.max(s,b),c++}}}else{var g=u.getBoundingClientRect(),w=l.marginRight?parseInt(l.marginRight,10):0,O=l.marginLeft?parseInt(l.marginLeft,10):0;isNaN(w)&&(w=0),isNaN(O)&&(O=0),n=w,a=O;var E=g.top,P=g.bottom,S=g.left-a,k=g.right+n;P-E>0&&(0===c?(o=(E+P)/2,r=1):(o<E||o>P)&&(o=(E+P)/2,r++),i=Math.min(i,S),s=Math.max(s,k),c++)}}else{var R=document.createRange();R.selectNodeContents(t);for(var j=R.getClientRects(),x=0;x<j.length;x++){var T=j.item(x);if(T){var C=T.top,D=T.bottom,N=T.left,M=T.right;0===c?(o=(C+D)/2,r=1):(o<C||o>D)&&(o=(C+D)/2,r++),i=Math.min(i,N),s=Math.max(s,M),c++}}}})),this._numOfLine=r;var a=this.props.maxLineNum?this.props.maxLineNum:1;if(a<1&&(a=1),r>a){var u=this.props.minSize?this.props.minSize:0;this._fontSize>0&&u>0&&this._fontSize>u?this._fontSize--:this._width=Math.ceil(s-i+2)}else c>0&&(this._width=Math.ceil(s-i+2))}}}}},{key:"componentDidUpdate",value:function(t){this.props.view&&!t.view?(this._fontSize=this.props.maxSize?this.props.maxSize:0,this._width=0,window.requestAnimationFrame(this._aniFrame)):!this.props.view&&t.view&&(this._width=0),this.props.view&&this.props.rcalcNum&&this.props.rcalcNum!==t.rcalcNum&&(this._fontSize=this.props.maxSize?this.props.maxSize:0,this._width=0,window.requestAnimationFrame(this._aniFrame)),0===this._fontSize&&this.props.maxSize&&(this._fontSize=this.props.maxSize)}},{key:"render",value:function(){var t,e=this.props.className,n={whiteSpace:"normal"};return this._fontSize>0&&(n.fontSize=this._fontSize+"px"),this.props.lineHeight&&(n.lineHeight=this.props.lineHeight+"%"),this._width>0?(n.width=this._width+"px",n.display="inline-block",t=this.props.textAlign?this.props.textAlign:this._numOfLine<=1?"center":"left",n.textAlign=t):(n.width="100%",n.display="inline-block",this.props.viewWhenInit||(n.opacity=.01),t=this.props.textAlign?this.props.textAlign:this._numOfLine<=1?"center":"left",n.textAlign=t),l.createElement(l.Fragment,null,l.createElement("div",{ref:this._ref,className:e,style:n,onClick:this.props.onClick},this.props.children,l.createElement(d.default,{handleWidth:!0,handleHeight:!0,onResize:this._resized})))}}])&&r(e.prototype,n),s&&r(e,s),a}(l.Component);u([p.observable],h.prototype,"_width",void 0),u([p.observable],h.prototype,"_fontSize",void 0),h=u([f.observer],h),e.default=h},function(t,e){t.exports=ReactIdSwiper},function(t,e,n){"use strict";n.r(e),n.d(e,"withResizeDetector",(function(){return dt}));var r=n(0),o=n.n(r),i=n(10),s=n(18),c=function(t){var e=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e=o,n||(n=requestAnimationFrame((function(){n=null,t.apply(void 0,e)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r},a=n(1);var u=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},l=n(19),p="object"==typeof self&&self&&self.Object===Object&&self,f=l.a||p||Function("return this")(),d=function(){return f.Date.now()},h=f.Symbol,m=Object.prototype,y=m.hasOwnProperty,_=m.toString,v=h?h.toStringTag:void 0;var b=function(t){var e=y.call(t,v),n=t[v];try{t[v]=void 0;var r=!0}catch(t){}var o=_.call(t);return r&&(e?t[v]=n:delete t[v]),o},g=Object.prototype.toString;var w=function(t){return g.call(t)},O=h?h.toStringTag:void 0;var E=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":O&&O in Object(t)?b(t):w(t)};var P=function(t){return null!=t&&"object"==typeof t};var S=function(t){return"symbol"==typeof t||P(t)&&"[object Symbol]"==E(t)},k=/^\s+|\s+$/g,R=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,x=/^0o[0-7]+$/i,T=parseInt;var C=function(t){if("number"==typeof t)return t;if(S(t))return NaN;if(u(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=u(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(k,"");var n=j.test(t);return n||x.test(t)?T(t.slice(2),n?2:8):R.test(t)?NaN:+t},D=Math.max,N=Math.min;var M=function(t,e,n){var r,o,i,s,c,a,l=0,p=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=r,i=o;return r=o=void 0,l=e,s=t.apply(i,n)}function y(t){return l=t,c=setTimeout(v,e),p?m(t):s}function _(t){var n=t-a;return void 0===a||n>=e||n<0||f&&t-l>=i}function v(){var t=d();if(_(t))return b(t);c=setTimeout(v,function(t){var n=e-(t-a);return f?N(n,i-(t-l)):n}(t))}function b(t){return c=void 0,h&&r?m(t):(r=o=void 0,s)}function g(){var t=d(),n=_(t);if(r=arguments,o=this,a=t,n){if(void 0===c)return y(a);if(f)return clearTimeout(c),c=setTimeout(v,e),m(a)}return void 0===c&&(c=setTimeout(v,e)),s}return e=C(e)||0,u(n)&&(p=!!n.leading,i=(f="maxWait"in n)?D(C(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),g.cancel=function(){void 0!==c&&clearTimeout(c),l=0,r=a=o=c=void 0},g.flush=function(){return void 0===c?s:b(d())},g};var I=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return u(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),M(t,e,{leading:r,maxWait:e,trailing:o})},A={debounce:M,throttle:I},q=function(t){return"function"==typeof t},B=function(){return"undefined"==typeof window};function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function V(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(s,t);var e,n,r,o,i=(e=s,function(){var t,n=Y(e);if(F()){var r=Y(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return V(this,t)});function s(){return L(this,s),i.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return this.props.children}}])&&U(n.prototype,r),o&&U(n,o),s}(r.PureComponent);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?Q(t):e}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(p,t);var e,n,a,u,l=(e=p,function(){var t,n=Z(e);if(K()){var r=Z(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return $(this,t)});function p(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),tt(Q(e=l.call(this,t)),"cancelHandler",(function(){e.resizeHandler&&e.resizeHandler.cancel&&(e.resizeHandler.cancel(),e.resizeHandler=null)})),tt(Q(e),"rafClean",(function(){e.raf&&e.raf.cancel&&(e.raf.cancel(),e.raf=null)})),tt(Q(e),"toggleObserver",(function(t){var n=e.getElement();n&&e.resizeObserver[t]&&e.resizeObserver[t](n)})),tt(Q(e),"getElement",(function(){var t=e.props,n=t.querySelector,r=t.targetDomEl;if(!B()){if(n)return document.querySelector(n);if(r&&((o=r)instanceof Element||o instanceof HTMLDocument))return r;var o,s=e.element&&Object(i.findDOMNode)(e.element);if(s)return s.parentElement}})),tt(Q(e),"createUpdater",(function(){return e.rafClean(),e.raf=c((function(t){var n=t.width,r=t.height,o=e.props.onResize;q(o)&&o(n,r),e.setState({width:n,height:r})})),e.raf})),tt(Q(e),"createResizeHandler",(function(t){var n=e.state,r=n.width,o=n.height,i=e.props,s=i.handleWidth,c=i.handleHeight;if(s||c){var a=e.createUpdater();t.forEach((function(t){var n=t&&t.contentRect||{},i=n.width,u=n.height,l=s&&r!==i||c&&o!==u;!e.skipOnMount&&l&&!B()&&a({width:i,height:u}),e.skipOnMount=!1}))}})),tt(Q(e),"onRef",(function(t){e.element=t})),tt(Q(e),"getRenderType",(function(){var t=e.props,n=t.render,o=t.children;return q(n)?"renderProp":q(o)?"childFunction":Object(r.isValidElement)(o)?"child":Array.isArray(o)?"childArray":"parent"})),tt(Q(e),"getTargetComponent",(function(){var t=e.props,n=t.render,o=t.children,i=t.nodeType,s=e.state,c={width:s.width,height:s.height};switch(e.getRenderType()){case"renderProp":return Object(r.cloneElement)(n(c),{key:"resize-detector"});case"childFunction":return Object(r.cloneElement)(o(c));case"child":return Object(r.cloneElement)(o,c);case"childArray":return o.map((function(t){return!!t&&Object(r.cloneElement)(t,c)}));default:return Object(r.createElement)(i)}}));var n=t.skipOnMount,o=t.refreshMode,a=t.refreshRate,u=t.refreshOptions;e.state={width:void 0,height:void 0},e.skipOnMount=n,e.raf=null,e.element=null,e.unmounted=!1;var f=A[o];return e.resizeHandler=f?f(e.createResizeHandler,a,u):e.createResizeHandler,e.resizeObserver=new s.a(e.resizeHandler),e}return n=p,(a=[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return o.a.createElement(G,{ref:this.onRef},this.getTargetComponent())}}])&&X(n.prototype,a),u&&X(n,u),p}(r.PureComponent);et.propTypes={handleWidth:a.bool,handleHeight:a.bool,skipOnMount:a.bool,refreshRate:a.number,refreshMode:a.string,refreshOptions:Object(a.shape)({leading:a.bool,trailing:a.bool}),querySelector:a.string,targetDomEl:a.any,onResize:a.func,render:a.func,children:a.any,nodeType:a.node},et.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,onResize:null,render:void 0,children:null,nodeType:"div"};var nt=et;function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e,n){return e&&it(t.prototype,e),n&&it(t,n),t}function ct(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t){return function(){var e,n=ft(t);if(pt()){var r=ft(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return lt(this,e)}}function lt(t,e){return!e||"object"!==rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return function(n){ct(i,n);var r=ut(i);function i(){return ot(this,i),r.apply(this,arguments)}return st(i,[{key:"render",value:function(){return o.a.createElement(nt,e,o.a.createElement(t,this.props))}}]),i}(r.Component)};e.default=nt},function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];t.call(e,o[1],o[0])}},e}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,a=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,o=0;function s(){n&&(n=!1,t()),r&&a()}function c(){i(s)}function a(){var t=Date.now();if(n){if(t-o<2)return;r=!0}else n=!0,r=!1,setTimeout(c,e);o=t}return a}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;s.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),u=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},l=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},p=_(0,0,0,0);function f(t){return parseFloat(t)||0}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+f(t["border-"+n+"-width"])}),0)}function h(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var r=l(t).getComputedStyle(t),o=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=t["padding-"+o];e[o]=f(i)}return e}(r),i=o.left+o.right,s=o.top+o.bottom,c=f(r.width),a=f(r.height);if("border-box"===r.boxSizing&&(Math.round(c+i)!==e&&(c-=d(r,"left","right")+i),Math.round(a+s)!==n&&(a-=d(r,"top","bottom")+s)),!function(t){return t===l(t).document.documentElement}(t)){var u=Math.round(c+i)-e,h=Math.round(a+s)-n;1!==Math.abs(u)&&(c-=u),1!==Math.abs(h)&&(a-=h)}return _(o.left,o.top,c,a)}var m="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof l(t).SVGGraphicsElement}:function(t){return t instanceof l(t).SVGElement&&"function"==typeof t.getBBox};function y(t){return r?m(t)?function(t){var e=t.getBBox();return _(0,0,e.width,e.height)}(t):h(t):p}function _(t,e,n,r){return{x:t,y:e,width:n,height:r}}var v=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=y(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),b=function(t,e){var n,r,o,i,s,c,a,l=(r=(n=e).x,o=n.y,i=n.width,s=n.height,c="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(c.prototype),u(a,{x:r,y:o,width:i,height:s,top:o,right:r+i,bottom:s+o,left:r}),a);u(this,{target:t,contentRect:l})},g=function(){function t(t,e,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new v(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof l(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new b(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),w="undefined"!=typeof WeakMap?new WeakMap:new n,O=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=a.getInstance(),r=new g(e,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){O.prototype[t]=function(){var e;return(e=w.get(this))[t].apply(e,arguments)}}));var E=void 0!==o.ResizeObserver?o.ResizeObserver:O;e.a=E}).call(this,n(9))},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(9))},function(t,e,n){t.exports=n(21)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),o=n(0),i=n(10),s=n(4),c=n(5),a=n(26);r.setConfig({ErrorOverlay:function(t){return o.createElement("div",null)}});var u,l={clear:s.App.pub_clear,importLink:a.importLink,importHTML:a.importHTML},p=!0;u=n(27),p=!1;var f=!1,d=u,h=d.default,m=d.AppProvider,y=d.appContext;l.set=function(t,e,n){s.App.pub_set(t,e,n),y.setData(t)},l.render=function(){s.App.pub_initAudio(),i.render(o.createElement(m,null,o.createElement(h,null)),document.getElementById("wrap"))},p?(l.init=function(t,e,n,r,o){s.App.pub_load(t,null,e,n,r,o)},l.start=function(){f=!0,setTimeout((function(){return y.start()}),500)},l.receive=function(t){if(4===t.type){var e=t.data;f?e&&e.id&&""!==e.id&&c.sendPADToID(e.id,s.App.isStarted?0:1,null):s.App.pub_addInitedStudent(e)&&(f||(f=!0,y.start()))}else y.receive(t)},l.teachingTool=function(t){}):(l.init=function(t,e,n,r,o){s.App.pub_load(null,t,e,n,r,o),c.sendTeacher(4,t)},l.receive=function(t){null!=s.App.student&&y.receive(t)},l.notifyUploadToServerResult=function(t){console.log("app_o['notifyUploadToServerResult']"),y.uploaded(t)},l.notify=function(t){y.notify(t)},l.notifyVideoRecord=function(t){y.notifyVideoRecord(t)},l.notifyStartVoice=function(){y.notify("notifyStartVoice")},l.notifyVoiceRecordResult=function(t){y.notifyRecorded(t)},l.notifyTakePicture=function(t,e){y.notifyTakePicture&&y.notifyTakePicture(t,e)}),n(48),t.app_o=l}).call(this,n(9))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r;function i(t){return i.warnAboutHMRDisabled&&(i.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),o.Children.only(t.children)}i.warnAboutHMRDisabled=!1;var s=function t(){return t.shouldWrapWithAppContainer?function(t){return function(e){return o.createElement(i,null,o.createElement(t,e))}}:function(t){return t}};s.shouldWrapWithAppContainer=!1;e.AppContainer=i,e.hot=s,e.areComponentsEqual=function(t,e){return t===e},e.setConfig=function(){},e.cold=function(t){return t},e.configureComponent=function(){}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,u=[],l=!1,p=-1;function f(){l&&a&&(l=!1,a.length?u=a.concat(u):p=-1,u.length&&d())}function d(){if(!l){var t=c(f);l=!0;for(var e=u.length;e;){for(a=u,u=[];++p<e;)a&&a[p].run();p=-1,e=u.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||l||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.importLink=e.importHTML=void 0,e.importHTML=function(t){return new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="document",r.onload=function(t){if(t){var o=r.response;o&&o.body&&o.body.firstElementChild?e(o.body.firstElementChild):o&&o.documentElement?e(o.documentElement):n("error")}},r.onerror=function(t){n(t)},r.send(null)}))},e.importLink=function(t,e){return new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="document",r.onload=function(t){if(t){var n=r.response;e(n)}},r.onerror=function(t){n(t)},r.send(null)}))}},function(t,e,n){"use strict";(function(t){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.appContext=e.AppProvider=void 0;var p=n(0),f=n(2),d=n(11),h=n(29),m=n(30),y=n(32);Object.defineProperty(e,"appContext",{enumerable:!0,get:function(){return y.sContext}}),Object.defineProperty(e,"AppProvider",{enumerable:!0,get:function(){return y.StudentProvider}});var _=n(34),v=n(35);n(46),n(47);var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(u,t);var e,n,c,a=s(u);function u(){return r(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var t=this.props,e=t.state,n=t.actions,r="direction"===e.viewDiv?0:-1280;return p.createElement(p.Fragment,null,p.createElement("div",{id:"preload_hidden",style:{opacity:0}},p.createElement("span",null,"가나다라"),p.createElement("span",{style:{fontWeight:"bold"}},"가나다라")),p.createElement("div",{className:"content-container"},p.createElement("div",{className:"content-wrapper",style:{left:r+"px"}},p.createElement("div",null,p.createElement(m.default,{className:"video-direction",view:"direction"===e.viewDiv,on:e.directionON,isTeacher:!1,video_url:"/content/digenglish_lib/direction/ls_writing.webp",video_frame:125})),p.createElement("div",null,p.createElement(v.default,{view:"content"===e.viewDiv,qsMode:e.qsMode,scriptMode:e.scriptMode,questionView:e.questionView,questionProg:e.questionProg,scriptProg:e.scriptProg,state:e,actions:n}),p.createElement(_.Loading,{view:e.loading}),p.createElement(h.SVGAni,{className:"goodjob-svg",view:e.goodjob,delay:3e3,data:"".concat("/content/digenglish_lib/","images/goodjob_ls.svg"),onComplete:n.goodjobComplete}),p.createElement(h.SVGEmbed,{className:"eyeon_svg",data:"".concat("/content/digenglish_lib/","images/eyeon_ls.svg"),view:"eyeon"===e.viewDiv||"direction"===e.viewDiv,bPlay:!1})))))}}])&&o(e.prototype,n),c&&o(e,c),u}(p.Component);b=l([f.observer],b);var g=y.useStudent((function(t){return p.createElement(f.Observer,null,(function(){return p.createElement(b,{state:t.state,actions:t.actions})}))}));e.default=d.hot(t)(g)}).call(this,n(28)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.SVGAni=e.SVGBg=e.SVGEmbed=void 0;var m=n(0),y=n(13),_=n(2),v=n(3),b=n(6),g=function(t){c(n,t);var e=u(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).m_obj=null,r.m_svg=null,r.m_bPlay=!1,r._ref=r._ref.bind(p(r)),r}return s(n,[{key:"_init",value:function(){if(!this.m_svg&&this.m_obj){var t=this.m_obj;null===this.m_svg&&null!==t.contentDocument&&null!==t.contentDocument.firstElementChild&&"svg"===t.contentDocument.firstElementChild.tagName.toLowerCase()&&(this.m_svg=t.contentDocument.firstElementChild)}}},{key:"_ref",value:function(t){var e=this;!this.m_obj&&t&&(this.m_obj=t,null==t.contentDocument||null==t.contentDocument.firstElementChild||"svg"!==t.contentDocument.firstElementChild.tagName.toLowerCase()?t.onload=t.oncanplay=t.onloadeddata=function(t){e.m_svg||(e._init(),e.m_bPlay?e._play(-1):e._pause(-1))}:this._pause(-1))}},{key:"_play",value:function(t){if(this.m_bPlay=!0,this._init(),null!=this.m_svg)try{t>=0&&this.m_svg.setCurrentTime(t),this.m_svg.animationsPaused()&&this.m_svg.unpauseAnimations()}catch(t){}}},{key:"_pause",value:function(t){if(this.m_bPlay=!1,this._init(),null!=this.m_svg)try{t>=0&&this.m_svg.setCurrentTime(t),this.m_svg.animationsPaused()||this.m_svg.pauseAnimations()}catch(t){}}},{key:"componentDidUpdate",value:function(t){if(this.props.bPlay!==t.bPlay||this.props.time!==t.time){var e=y.isUndefined(this.props.time)?-1:this.props.time;this.props.bPlay?this._play(e):this._pause(e)}}},{key:"render",value:function(){var t={};return this.props.view||(t.zIndex=-1,t.visibility="hidden",t.pointerEvents="none"),m.createElement("object",{className:this.props.className,ref:this._ref,data:this.props.data,type:"image/svg+xml",style:t})}}]),n}(m.Component);e.SVGEmbed=g;var w=function(t){c(n,t);var e=u(n);function n(){var t;return o(this,n),(t=e.apply(this,arguments)).m_character=null,t}return s(n,[{key:"_init",value:function(){r(f(n.prototype),"_init",this).call(this),!this.m_character&&this.m_svg&&(this.m_character=this.m_svg.querySelector("#character"),this.m_character&&this.m_character.setAttribute("opacity",this.props.viewCharactor?"1":"0"))}},{key:"componentDidUpdate",value:function(t){r(f(n.prototype),"componentDidUpdate",this).call(this,t),this.m_character&&this.props.viewCharactor!==t.viewCharactor&&this.m_character.setAttribute("opacity",this.props.viewCharactor?"1":"0")}}]),n}(g);e.SVGBg=w;var O=function(t){c(n,t);var e=u(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).m_play=!1,r}return s(n,[{key:"componentDidUpdate",value:function(t){var e=this;if(this.props.view&&!t.view){this.m_play=!0;var n=this.props.delay;n||(n=800),b.delay((function(){e.props.onComplete()}),n)}else!this.props.view&&t.view&&(this.m_play=!1)}},{key:"render",value:function(){return m.createElement(g,{className:this.props.className,data:this.props.data,view:this.props.view,time:0,bPlay:this.m_play})}}]),n}(m.Component);h([v.observable],O.prototype,"m_play",void 0),O=h([_.observer],O),e.SVGAni=O},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},p=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var f=n(0),d=n(3),h=n(2),m=n(6),y=n(8),_=n(31),v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,s,a=i(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).m_on=!1,e.m_clipView=!1,e.m_imgDiv=null,e._refImg=function(t){t&&void 0!==e.props.video_url&&""!==e.props.video_url&&(e.m_imgDiv=t,e.m_clipView||m.delay((function(){e.m_imgDiv&&(e.m_clipView=!0)}),1250))},e._onClick=function(){e.props.isTeacher&&e._off()},e._off=function(){return p(c(e),void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.props.view||!this.m_on){t.next=6;break}return this.m_on=!1,this.props.onEndStart&&this.props.onEndStart(),t.next=5,y.wait(500);case 5:this.props.view&&!this.m_on&&this.props.onEnd&&this.props.onEnd();case 6:case"end":return t.stop()}}),t,this)})))},e.m_on=t.view&&t.on,e}return e=u,(n=[{key:"_on",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.m_on=!0;case 1:case"end":return t.stop()}}),t,this)})))}},{key:"componentDidUpdate",value:function(t){this.props.view?t.view?this.props.on&&!t.on?this._on():!this.props.on&&t.on&&this._off():this.props.on?this._on():this.m_on=!1:this.m_on=!1}},{key:"render",value:function(){var t=[];return t.push(this.props.className),this.props.view?this.m_on&&t.push("on"):t.push("hide"),f.createElement("div",{className:t.join(" "),onClick:this._onClick},this.props.children,f.createElement("img",{className:"movieclip",src:this.props.video_url,ref:this._refImg,style:this.m_clipView?void 0:_.HIDE}),f.createElement("div",{className:"direction"}))}}])&&r(e.prototype,n),s&&r(e,s),u}(f.Component);l([d.observable],v.prototype,"m_on",void 0),l([d.observable],v.prototype,"m_clipView",void 0),l([d.action],v.prototype,"_off",void 0),v=l([h.observer],v),e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HIDE_ANI=e.NONE=e.HIDE=void 0;e.HIDE={opacity:0,pointerEvents:"none"};e.HIDE_ANI={opacity:0,pointerEvents:"none",transitionProperty:"opacity",transitionDuration:"0.6s"};e.NONE={display:"none"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.SPROG=e.QPROG=e.useStudent=e.StudentContext=e.StudentConsumer=e.StudentProvider=e.sContext=void 0;var h,m,y=n(0),_=n(3),v=n(33);!function(t){t[t.UNINIT=0]="UNINIT",t[t.READYA=1]="READYA",t[t.ON=2]="ON",t[t.SENDING=3]="SENDING",t[t.SENDED=4]="SENDED",t[t.COMPLETE=5]="COMPLETE"}(h||(h={})),e.QPROG=h,function(t){t[t.UNMOUNT=0]="UNMOUNT",t[t.MOUNTED=1]="MOUNTED",t[t.YESORNO=2]="YESORNO",t[t.SELECTING=3]="SELECTING",t[t.SENDING=4]="SENDING",t[t.SENDED=5]="SENDED"}(m||(m={})),e.SPROG=m;var b=function(t){c(n,t);var e=u(n);function n(){var t;return r(this,n),(t=e.call(this)).uploaded=function(t){},t.notify=function(t){},t.notifyRecorded=function(t){},t.state.questionView=!1,t.state.questionProg=0,t.state.scriptProg=0,t.state.scriptMode="COMPREHENSION",t.state.qsMode="",t.state.roll="",t.state.viewClue=!1,t.state.focusIdx=-1,t.state.isPlay=!1,t.state.shadowing=!1,t.actions.getData=function(){return t._data},t}return i(n,[{key:"_setViewDiv",value:function(t){this.state.viewDiv!==t&&(this.state.questionView=!1,this.state.questionProg<5&&(this.state.questionProg=0),this.state.scriptProg=0,this.state.qsMode="",this.state.roll="",this.state.viewClue=!1,this.state.shadowing=!1,this.state.isPlay=!1,this.state.focusIdx=-1),s(p(n.prototype),"_setViewDiv",this).call(this,t)}},{key:"receive",value:function(t){if(s(p(n.prototype),"receive",this).call(this,t),10===t.type&&t.data){var e=t.data;if("quiz_send"===e.msgtype)this.state.scriptProg=0,this.state.questionView=!0,this.state.questionProg=2,this.state.viewDiv="content",this.state.scriptMode="COMPREHENSION",this.state.qsMode="question",this.state.roll="",this.state.shadowing=!1;else if("quiz_end"===e.msgtype){var r=this.state.questionProg;if("content"!==this.state.viewDiv)return;if(2!==r&&3!==r&&4!==r)return;this.state.questionProg=5}else if("script_send"===e.msgtype){if(0!==this.state.scriptProg)return;this.state.questionProg<5&&(this.state.questionProg=1),this.state.questionView=!0,this.state.scriptProg=1,this.state.viewDiv="content",this.state.scriptMode="COMPREHENSION",this.state.qsMode="script",this.state.roll="",this.state.shadowing=!1}else if("view_clue"===e.msgtype){if("content"!==this.state.viewDiv)return;if(0===this.state.scriptProg)return;this.state.qsMode="script",this.state.viewClue=!0}else if("hide_clue"===e.msgtype){if("content"!==this.state.viewDiv)return;if(0===this.state.scriptProg)return;this.state.viewClue=!1}else if("qna_send"===e.msgtype){if("content"!==this.state.viewDiv)return;if(1!==this.state.scriptProg)return;this.state.focusIdx=-1,this.state.scriptProg=2}else if("qna_end"===e.msgtype){if("content"!==this.state.viewDiv)return;if(this.state.scriptProg<1)return;this.state.scriptProg=1}else if("dialogue_send"===e.msgtype)this.state.scriptProg=0,this.state.questionProg<5&&(this.state.questionProg=0),this.state.viewDiv="content",this.state.scriptMode="DIALOGUE",this.state.qsMode="script",this.state.roll="",this.state.shadowing=!1,this.state.viewClue=!1,this.state.focusIdx=-1;else if("dialogue_end"===e.msgtype)this.state.roll="",this.state.shadowing=!1,this.state.isPlay=!1,this.state.focusIdx=-1;else if("roll_send"===e.msgtype){if("content"!==this.state.viewDiv)return;if("DIALOGUE"!==this.state.scriptMode)return;if("script"!==this.state.qsMode)return;var o=e;this.state.roll=o.roll,this.state.shadowing=!1,this.state.focusIdx=-1}else if("shadowing_send"===e.msgtype){if("content"!==this.state.viewDiv)return;if("DIALOGUE"!==this.state.scriptMode)return;if("script"!==this.state.qsMode)return;this.state.roll="",this.state.shadowing=!0,this.state.focusIdx=-1}else if("playing"===e.msgtype||"paused"===e.msgtype){if("content"!==this.state.viewDiv)return;this.state.isPlay="playing"===e.msgtype}else if("focusidx"===e.msgtype){if("content"!==this.state.viewDiv)return;if("COMPREHENSION"===this.state.scriptMode)return;var i=e;this.state.focusIdx=i.idx}}}},{key:"setData",value:function(t){this._data=t;var e=this._data.scripts,n=this._data.speakerA.name,r=this._data.speakerB.name,o=this._data.speakerC.name;this._data.speakerD||(this._data.speakerD={name:"",image_s:"",image_l:""}),this._data.speakerE||(this._data.speakerE={name:"",image_s:"",image_l:""});for(var i=this._data.speakerD.name,s=(this._data.speakerE.name,0);s<this._data.quizs.length;s++){var c=this._data.quizs[s],a=c.question.split("<br>");c.app_question=y.createElement(y.Fragment,null,a.map((function(t,e){return e>0?y.createElement(y.Fragment,{key:e},y.createElement("br",null),t):t})))}e.forEach((function(t){t.dms_speaker===n?t.roll="A":t.dms_speaker===r?t.roll="B":t.dms_speaker===o?t.roll="C":t.dms_speaker===i?t.roll="D":t.roll="E"}))}}]),n}(v.StudentContextBase);d([_.observable],b.prototype,"state",void 0),d([_.action],b.prototype,"_setViewDiv",null),d([_.action],b.prototype,"receive",null),d([_.action],b.prototype,"notify",void 0),d([_.action],b.prototype,"notifyRecorded",void 0),e.StudentContext=b;var g=new b;e.sContext=g;var w=y.createContext(g),O=w.Provider,E=w.Consumer;e.StudentConsumer=E;var P=function(t){c(n,t);var e=u(n);function n(){return r(this,n),e.apply(this,arguments)}return i(n,[{key:"render",value:function(){return y.createElement(O,{value:g},this.props.children)}}]),n}(y.Component);e.StudentProvider=P,e.useStudent=function(t){return function(e){return y.createElement(E,null,(function(e){return y.createElement(t,Object.assign({},e))}))}}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=this&&this.__decorate||function(t,e,n,r){var i,s=arguments.length,c=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":o(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,n,c):i(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(e,"__esModule",{value:!0}),e.StudentContextBase=void 0;var s=n(3),c=n(4),a=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={viewDiv:"direction",directionON:!1,loading:!1,goodjob:!1,likeSet:{on:!1,id:""},likeSoundOff:!1,svg_bg:{view:!0,bPlay:!1,viewCharactor:!0}},this.actions={startGoodJob:function(){e.state.goodjob=!0},goodjobComplete:function(){e.state.goodjob=!1},setLoading:function(t){e.state.loading=t}},this.uploaded=function(t){},this.notify=function(t){},this.notifyRecorded=function(t){},this.notifyVideoRecord=function(t){}}var e,n,o;return e=t,(n=[{key:"_setViewDiv",value:function(t){this.state.viewDiv!==t&&(c.App.pub_stop(),"direction"===t?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0):(this.state.directionON=!1,this.state.svg_bg.bPlay=!1,this.state.svg_bg.viewCharactor=!1),this.state.loading=!1,this.state.goodjob=!1,this.state.likeSet.on=!1,this.state.likeSet.id="",this.state.viewDiv=t)}},{key:"start",value:function(){}},{key:"receive",value:function(t){switch(t.type){case 1:"direction"===this.state.viewDiv?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0):this._setViewDiv("direction");break;case 3:this.state.directionON=!1;break;case 0:this._setViewDiv("eyeon");break;case 12:var e=t.data;"content"===this.state.viewDiv&&(this.state.likeSet.on=e.on,this.state.likeSet.id=e.id),this.state.likeSoundOff=!1;break;case 17:this.state.likeSoundOff=!0;break;case 16:this.state.likeSoundOff=!1}}}])&&r(e.prototype,n),o&&r(e,o),t}();i([s.observable],a.prototype,"state",void 0),i([s.action],a.prototype,"_setViewDiv",null),i([s.action],a.prototype,"receive",null),e.StudentContextBase=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Loading=void 0;var r=n(0);e.Loading=function(t){var e=t.view,n={position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat"};return n.backgroundImage='url("'.concat("/content/digenglish_lib/",'images/loading.svg")'),n.backgroundColor="rgba(0, 0, 0, 0.1)",n.zIndex=101,e||(n.visibility="hidden",n.zIndex=-1,n.pointerEvents="none"),r.createElement("div",{style:n})}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},f=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var d=n(0),h=n(2),m=n(3),y=n(6),_=n(4),v=n(7),b=n(8),g=n(5),w=n(36),O=n(43),E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,t);var e,n,c,u=s(l);function l(){var t;return r(this,l),(t=u.apply(this,arguments))._img_pop_on=!1,t._stime=0,t._clickYes=function(){0===t._stime&&(t._stime=Date.now());var e=t.props.state;2===e.scriptProg&&"COMPREHENSION"===e.scriptMode&&(_.App.pub_playBtnTab(),e.qsMode="script",e.scriptProg=3,t._img_pop_on=!0,y.delay((function(){t._img_pop_on=!1}),2e3))},t._clickNo=function(){return f(a(t),void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this._stime&&(this._stime=Date.now()),2===(e=this.props.state).scriptProg){t.next=6;break}return t.abrupt("return");case 6:if("COMPREHENSION"===e.scriptMode){t.next=8;break}return t.abrupt("return");case 8:if(_.App.pub_playBtnTab(),e.scriptProg=5,_.App.student){t.next=12;break}return t.abrupt("return");case 12:return this.props.actions.getData().scripts[this.props.state.focusIdx],n={msgtype:"qna_return",id:_.App.student.id,returns:[],stime:this._stime,etime:Date.now()},g.sendTeacher(11,n),t.next=17,b.wait(300);case 17:_.App.pub_playGoodjob(),this.props.actions.startGoodJob();case 19:case"end":return t.stop()}}),t,this)})))},t}return e=l,(n=[{key:"componentWillUpdate",value:function(t){}},{key:"render",value:function(){var t=this.props,e=t.view,n=t.state,r=t.actions,o=t.questionProg,i=t.scriptProg,s=t.scriptMode,c=t.qsMode,a={};return e||(a.opacity=0,a.zIndex=-1,a.pointerEvents="none"),d.createElement("div",{className:"s_content",style:a},d.createElement(O.default,{view:this.props.view&&i>0,questionProg:o,scriptProg:i,scriptMode:s,qsMode:c,state:n,actions:r}),d.createElement(w.default,{view:this.props.view&&this.props.questionView,questionView:this.props.questionView,questionProg:o,scriptProg:i,scriptMode:s,qsMode:c,state:n,actions:r}),d.createElement("div",{className:"img_pop"+(this._img_pop_on?" on":"")}),d.createElement("div",{className:"btn_box"+(2===i?" on":"")},d.createElement(v.ToggleBtn,{className:"btn_yes",onClick:this._clickYes,on:3===i}),d.createElement(v.ToggleBtn,{className:"btn_no",onClick:this._clickNo,on:5===i})))}}])&&o(e.prototype,n),c&&o(e,c),l}(d.Component);p([m.observable],E.prototype,"_img_pop_on",void 0),E=p([h.observer],E),e.default=E},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},h=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var m=n(0),y=n(2),_=n(3),v=n(4),b=n(5),g=n(7),w=n(8),O=n(14),E=n(38),P=n(16).default,S=function(t){s(n,t);var e=a(n);function n(){var t;return r(this,n),(t=e.apply(this,arguments))._click=function(){t.props.onClick(t.props.idx)},t}return i(n,[{key:"render",value:function(){var t=this.props,e=t.idx,n=t.on;return m.createElement("span",{className:this.props.OX+(n?" on":""),onClick:this._click},e+1)}}]),n}(m.Component),k=function(t){s(n,t);var e=a(n);function n(t){var o;r(this,n),(o=e.call(this,t))._curIdx=0,o._curIdx_tgt=0,o._choices=[],o._style={},o._swiper=null,o._refSwiper=function(t){if(!o._swiper&&t){var e=t.swiper;e.on("transitionStart",(function(){o._curIdx=-1})),e.on("transitionEnd",(function(){o.props.view&&(o._curIdx=e.activeIndex,o._curIdx_tgt=o._curIdx)})),o._swiper=e}},o._onPage=function(t){2!==o.props.questionProg&&(v.App.pub_playBtnTab(),o._curIdx_tgt=t,o._swiper&&o._swiper.slideTo(t))},o._onSend=function(){return h(l(o),void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(2===this.props.questionProg){t.next=2;break}return t.abrupt("return");case 2:if(v.App.pub_playToPad(),this.props.state.questionProg=3,!v.App.student){t.next=12;break}return e=[],this._choices.forEach((function(t,n){e.push({answer:t.answer,stime:t.stime,etime:t.etime})})),n={msgtype:"quiz_return",id:v.App.student.id,returns:e},b.sendTeacher(11,n),t.next=11,w.wait(600);case 11:3===this.props.state.questionProg&&(this.props.state.questionProg=4,v.App.pub_playGoodjob(),this.props.actions.startGoodJob());case 12:case"end":return t.stop()}}),t,this)})))},o._onNext=function(){var t=o.props.questionProg,e=o._curIdx>=0?o._choices[o._curIdx]:void 0,n=(e?e.answer:0)>0&&2===t,r=o._curIdx===o._choices.length-1;n&&!r&&o._swiper&&(o._choices[o._curIdx+1]&&(o._choices[o._curIdx+1].stime=Date.now()),o._swiper.slideNext(),v.App.pub_playBtnTab())},o._onChoice=function(t,e){2===o.props.questionProg&&t===o._curIdx&&(v.App.pub_playBtnTab(),o._choices[t]&&(o._choices[t].answer=e,o._choices[t].etime=Date.now()))},o._gotoScript=function(){"script"!==o.props.state.qsMode&&(v.App.pub_playBtnTab(),o.props.state.qsMode="script")};for(var i=t.actions.getData().quizs,s=0;s<i.length;s++)o._choices[s]={answer:0,stime:0,etime:0};return o}return i(n,[{key:"_setStyle",value:function(t){"COMPREHENSION"===t.scriptMode&&t.questionView&&t.scriptProg>0?this._style.transition="left 0.3s":this._style.transition="","COMPREHENSION"===t.scriptMode&&t.questionView&&"question"===t.qsMode?this._style.left="0px":this._style.left="1280px"}},{key:"componentWillMount",value:function(){this._setStyle(this.props)}},{key:"componentWillReceiveProps",value:function(t){t.questionProg===this.props.questionProg&&t.scriptProg===this.props.scriptProg&&t.scriptMode===this.props.scriptMode&&t.qsMode===this.props.qsMode||this._setStyle(t)}},{key:"componentDidUpdate",value:function(t){if(this.props.view&&!t.view){if(this._curIdx=0,this._curIdx_tgt=0,this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update()),this.props.questionProg<5)for(var e=0;e<this._choices.length;e++)this._choices[e].answer=0,this._choices[e].stime=Date.now(),this._choices[e].etime=0}else if(!this.props.view&&t.view&&this.props.questionProg<5)for(var n=0;n<this._choices.length;n++)this._choices[n].answer=0,this._choices[n].stime=Date.now(),this._choices[n].etime=0;5===this.props.questionProg&&t.questionProg<5&&this._swiper&&this._swiper.slideTo(0),"script"===this.props.qsMode&&"question"===t.qsMode&&this._swiper&&this._swiper.slideTo(0)}},{key:"render",value:function(){var t=this,e=this.props,n=e.view,r=e.state,o=e.actions,i=e.questionProg,s=o.getData().quizs,c=2===i,a=this._curIdx>=0?this._choices[this._curIdx]:void 0,u=a?a.answer:0,l=u>0&&2===i,p=this._curIdx===s.length-1;return m.createElement("div",{className:"s_question",style:Object.assign({},this._style)},m.createElement(g.ToggleBtn,{className:"btn_SCRIPT",onClick:this._gotoScript,view:r.scriptProg>0}),m.createElement("div",{className:"btn_page_box"},s.map((function(e,n){var r="";if(5===i){var o=t._choices[n];r=o&&o.answer===e.answer?"O":"X"}return m.createElement(S,{key:n,on:n===t._curIdx_tgt,idx:n,OX:r,onClick:t._onPage})}))),m.createElement("div",{className:"question"},m.createElement(P,{ref:this._refSwiper},s.map((function(e,r){return m.createElement("div",{key:r,className:"q-item"+(c?" swiper-no-swiping":"")},m.createElement(E.default,{view:n,idx:r,choice:t._choices[r].answer,quiz:e,questionProg:i,onChoice:t._onChoice}))})))),m.createElement(g.ToggleBtn,{className:"btn_next",view:l&&!p,onClick:this._onNext}),m.createElement(O.default,{view:u>0&&(2===i||3===i)&&p,type:"pad",sended:!1,originY:0,onSend:this._onSend}))}}]),n}(m.Component);d([_.observable],k.prototype,"_curIdx",void 0),d([_.observable],k.prototype,"_curIdx_tgt",void 0),d([_.observable],k.prototype,"_choices",void 0),k=d([y.observer],k),e.default=k},function(t,e){t.exports=ReactDraggable},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),p=n(15),f=n(41),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(u,t);var e,n,r,a=c(u);function u(){var t;return o(this,u),(t=a.apply(this,arguments))._onChoice=function(e){t.props.onChoice(t.props.idx,e)},t}return e=u,(n=[{key:"render",value:function(){var t=this.props,e=t.view,n=(t.idx,t.choice),r=t.quiz,o=t.questionProg,i=r.answer;return l.createElement(l.Fragment,null,l.createElement("div",{className:"quiz"},l.createElement("div",null,l.createElement(p.default,{view:e},r.app_question))),l.createElement("div",{className:"choice"},l.createElement(f.default,{view:e,choice:1,answer:i,on:1===n,questionProg:o,onClick:this._onChoice},r.choice_1),l.createElement(f.default,{view:e,choice:2,answer:i,on:2===n,questionProg:o,onClick:this._onChoice},r.choice_2),l.createElement(f.default,{view:e,choice:3,answer:i,on:3===n,questionProg:o,onClick:this._onChoice},r.choice_3)))}}])&&i(e.prototype,n),r&&i(e,r),u}(l.Component);e.default=d},function(t,e,n){"use strict";var r=n(40);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,s){if(s!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),p=n(15),f=n(42),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(u,t);var e,n,r,a=c(u);function u(){var t;return o(this,u),(t=a.apply(this,arguments))._click=function(){t.props.onClick(t.props.choice)},t}return e=u,(n=[{key:"render",value:function(){var t=this.props,e=t.choice,n=t.on,r=t.questionProg,o=t.answer,i=n,s=["btn_choice"];return 5!==r&&1!==r||(e===o?s.push("correct"):n&&s.push("wrong"),i=!1),l.createElement(f.default,{className:s.join(" "),num:e,on:i,onClick:this._click,disabled:2!==r},l.createElement(p.default,{view:this.props.view,maxLineNum:1,minSize:38,maxSize:44,lineHeight:120,textAlign:"left"},this.props.children))}}])&&i(e.prototype,n),r&&i(e,r),u}(l.Component);e.default=d},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),p=n(7),f=n(4),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(u,t);var e,n,r,a=c(u);function u(){var t;return o(this,u),(t=a.apply(this,arguments))._onClick=function(){t.props.disabled||(f.App.pub_playBtnTab(),t.props.onClick(t.props.num))},t}return e=u,(n=[{key:"render",value:function(){return l.createElement(p.ToggleBtn,{className:this.props.className+" btn-mc-"+this.props.num,on:this.props.on,onClick:this._onClick,disabled:this.props.disabled},this.props.children)}}])&&i(e.prototype,n),r&&i(e,r),u}(l.Component);e.default=d},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},f=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var d=n(0),h=n(2),m=n(3),y=n(7),_=n(8),v=n(14),b=n(44),g=n(4),w=n(5),O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,t);var e,n,c,u=s(l);function l(){var t;return r(this,l),(t=u.apply(this,arguments))._selected=[],t._stime=0,t._clickText=function(e,n){if(0===t._stime&&(t._stime=Date.now()),3===t.props.scriptProg){var r=t._selected.indexOf(e);r<0?t._selected.push(e):t._selected.splice(r,1)}},t._onSend=function(){return f(a(t),void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g.App.student&&3===this.props.scriptProg){t.next=2;break}return t.abrupt("return");case 2:return g.App.pub_playToPad(),e={msgtype:"qna_return",id:g.App.student.id,returns:this._selected.slice(0),stime:this._stime,etime:Date.now()},w.sendTeacher(11,e),this.props.state.scriptProg=4,t.next=8,_.wait(600);case 8:4===this.props.state.scriptProg&&(this.props.state.scriptProg=5,g.App.pub_playGoodjob(),this.props.actions.startGoodJob());case 9:case"end":return t.stop()}}),t,this)})))},t._gotoQuestion=function(){"COMPREHENSION"===t.props.state.scriptMode&&"question"!==t.props.state.qsMode&&(g.App.pub_playBtnTab(),t.props.state.qsMode="question")},t}return e=l,(n=[{key:"componentWillReceiveProps",value:function(t){if(t.scriptProg!==this.props.scriptProg&&t.scriptProg<3){for(;this._selected.length>0;)this._selected.pop();this._stime=0}}},{key:"render",value:function(){var t=this.props,e=(t.view,t.scriptProg),n=t.actions,r=t.state,o=t.questionProg,i=n.getData();return d.createElement("div",{className:"s_script "+r.scriptMode},d.createElement(y.ToggleBtn,{className:"btn_QUESTION",view:"COMPREHENSION"===r.scriptMode&&5===o,onClick:this._gotoQuestion}),d.createElement("div",{className:"script_container"},d.createElement(b.default,{view:"content"===r.viewDiv,data:i,focusIdx:r.focusIdx,selected:this._selected,qnaReturns:[],roll:r.roll,shadowing:r.shadowing,noSwiping:"DIALOGUE"===r.scriptMode&&r.isPlay,compDiv:this.props.scriptMode,viewClue:r.viewClue,viewScript:!0,viewTrans:!1,clickThumb:this._clickText,clickText:this._clickText})),d.createElement(v.default,{view:this.props.view&&(3===e||4===e)&&this._selected.length>0,type:"pad",sended:!1,originY:0,onSend:this._onSend}))}}])&&o(e.prototype,n),c&&o(e,c),l}(d.Component);p([m.observable],O.prototype,"_selected",void 0),O=p([h.observer],O),e.default=O},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var p=n(0),f=n(2),d=n(45),h=n(16).default,m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(u,t);var e,n,c,a=s(u);function u(){var t;return r(this,u),(t=a.apply(this,arguments)).m_soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,noSwipingClass:"swiper-no-swiping",scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},t._refSwiper=function(e){!t.m_swiper&&e&&(t.m_swiper=e.swiper)},t}return e=u,(n=[{key:"scrollTo",value:function(t,e){(t-=1)<0&&(t=0),this.m_swiper.slideTo(t,e)}},{key:"componentDidUpdate",value:function(t){if(this.m_swiper){var e=!1;if(t.focusIdx!==this.props.focusIdx&&this.props.focusIdx>=0){var n=this.props.focusIdx-1;n<0&&(n=0),this.m_swiper.slideTo(n)}this.props.view!==t.view&&(e=!0,this.m_swiper.slideTo(0,0)),this.props.compDiv!==t.compDiv&&(e=!0,this.m_swiper.slideTo(0,0)),this.props.roll!==t.roll&&""!==this.props.roll&&(e=!0,this.m_swiper.slideTo(0)),this.props.shadowing&&!t.shadowing&&(e=!0,this.m_swiper.slideTo(0)),this.props.noSwiping!==t.noSwiping&&(e=!0,this.m_soption.noSwiping=this.props.noSwiping,this.m_swiper.params.noSwiping=this.props.noSwiping,this.m_soption.followFinger=!this.props.noSwiping,this.m_swiper.params.followFinger=!this.props.noSwiping,this.m_soption.scrollbar&&(this.m_soption.scrollbar.draggable=!this.props.noSwiping),this.m_swiper.params.scrollbar&&(this.m_swiper.params.scrollbar.draggable=!this.props.noSwiping),this.props.noSwiping?(this.m_soption.noSwipingClass="swiper-wrapper",this.m_swiper.params.noSwipingClass="swiper-wrapper"):(this.m_soption.noSwipingClass="swiper-no-swiping",this.m_swiper.params.noSwipingClass="swiper-no-swiping"));var r=-1;if(this.props.viewTrans!==t.viewTrans&&(this.props.noSwiping||(r=this.m_swiper.activeIndex),e=!0),this.props.viewClue&&!t.viewClue&&(e=!0,r<=0))for(var o=this.props.data.scripts,i=0;i<o.length;i++)if(void 0!==o[i].qnums&&o[i].qnums.length>0&&o[i].qnums.indexOf(1)>=0){r=i>1?i-1:0;break}e&&this.props.view&&(this.m_swiper.update(),this.m_swiper.scrollbar&&this.m_swiper.scrollbar.updateSize(),r>=0&&this.m_swiper.slideTo(r,0))}}},{key:"render",value:function(){var t=this,e=this.props,n=e.data,r=e.selected,o=e.qnaReturns,i=n.speakerA.image_s,s=n.speakerB.image_s,c=n.speakerC.image_s,a=n.speakerD.image_s,u=n.speakerE.image_s,l=["script_box"];l.push("student"),l.push("DIALOGUE");var f=l.join(" ");return p.createElement(p.Fragment,null,p.createElement(h,Object.assign({},this.m_soption,{ref:this._refSwiper}),n.scripts.map((function(e,n){var l;l="E"===e.roll?u:"D"===e.roll?a:"C"===e.roll?c:"B"===e.roll?s:i;var h=r.indexOf(n),m=n<o.length?o[n].num:0;return p.createElement("div",{className:f,key:"script_"+n},p.createElement(d.default,{view:t.props.view,script:e,image_s:l,idx:n,focus:n===t.props.focusIdx,selected:h>=0,numOfReturn:m,roll:e.roll,sroll:t.props.roll,shadowing:t.props.shadowing,clickThumb:t.props.clickThumb,clickText:t.props.clickText,qnaReturnsClick:t.props.qnaReturnsClick,compDiv:t.props.compDiv,viewClue:t.props.viewClue,viewScript:t.props.viewScript,viewTrans:t.props.viewTrans}))}))),p.createElement("div",{style:{display:"none"}},this.props.numRender))}}])&&o(e.prototype,n),c&&o(e,c),u}(p.Component);m=l([f.observer],m),e.default=m},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),p=n(3),f=n(2),d=n(17),h=n(4),m=n(7);function y(t,e,n,r){return{r:t,g:e,b:n,a:r}}function _(t){var e=t.r,n=t.g,r=t.b,o=t.a;return"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(o,")")}var v=y(255,250,23,1),b=y(0,0,0,.2),g=y(150,40,202,1),w=y(0,42,227,1),O=y(193,55,169,1),E=y(255,114,0,1),P=y(0,146,238,1),S=y(150,40,202,1),k=y(0,42,227,1),R=y(193,55,169,1),j=y(255,114,0,1),x=y(0,146,238,1),T={brdThick:4,bgColor:g,brdColor:v,shadowX:0,shadowY:0,shadowBlur:0,shadowColor:v},C={brdThick:4,bgColor:w,brdColor:v,shadowX:0,shadowY:0,shadowBlur:0,shadowColor:v},D={brdThick:4,bgColor:O,brdColor:v,shadowX:0,shadowY:0,shadowBlur:0,shadowColor:v},N={brdThick:4,bgColor:E,brdColor:v,shadowX:0,shadowY:0,shadowBlur:0,shadowColor:v},M={brdThick:4,bgColor:P,brdColor:v,shadowX:0,shadowY:0,shadowBlur:0,shadowColor:v},I=(y(255,255,255,1),y(0,0,0,.2),{brdThick:2,bgColor:b,brdColor:S,shadowX:2,shadowY:6,shadowBlur:10,shadowColor:y(0,0,0,.2)}),A={brdThick:2,bgColor:b,brdColor:k,shadowX:2,shadowY:6,shadowBlur:10,shadowColor:y(0,0,0,.2)},q={brdThick:2,bgColor:b,brdColor:R,shadowX:2,shadowY:6,shadowBlur:10,shadowColor:y(0,0,0,.2)},B={brdThick:2,bgColor:b,brdColor:j,shadowX:2,shadowY:6,shadowBlur:10,shadowColor:y(0,0,0,.2)},z={brdThick:2,bgColor:b,brdColor:x,shadowX:2,shadowY:6,shadowBlur:10,shadowColor:y(0,0,0,.2)},L=-1,U=Number.MIN_VALUE,H=Number.MIN_VALUE,V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(a,t);var e,n,s,c=i(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=c.call(this,t)).m_width=0,e.m_height=0,e.m_viewScript=!0,e._refCanvas=function(t){!e.m_ctx&&t&&(e.m_canvas=t,e.m_ctx=t.getContext("2d"),e._draw())},e._onResize=function(t,n){e.m_width===t&&e.m_height===n||e.m_ctx&&(e.m_width=t,e.m_height=n,e._draw())},e._onClickThumb=function(t){e.props.clickThumb(e.props.idx,e.props.script)},e._onTextDown=function(t){var n=t.target;n&&n.classList.contains("btn_student"),L=e.props.idx,U=t.clientX,H=t.clientY},e._onTextUp=function(t){var n=L===e.props.idx&&Math.abs(U-t.clientX)<30&&Math.abs(H-t.clientY)<30;L=-1,U=Number.MIN_VALUE,H=Number.MIN_VALUE,n&&e.props.clickText&&e.props.clickText(e.props.idx,e.props.script)},e._onTextCancel=function(t){L=-1,U=Number.MIN_VALUE,H=Number.MIN_VALUE};var n=t.script.dms_eng,r=(n=n.replace(/<\s*br\s*\/*\s*>/gi,"<br>")).split("<br>");return e.m_jsx=l.createElement(l.Fragment,null,r.map((function(t,e){var n=t.split(" ").map((function(t,n){return 0===n?l.createElement("span",{key:e+"_"+n,className:"block"},t):l.createElement(l.Fragment,{key:e+"_"+n},l.createElement("span",{className:"space"}," "),l.createElement("span",{className:"block"},t))}));return 0===e?n:l.createElement(l.Fragment,{key:e},l.createElement("br",null),n)}))),r=(n=(n=t.script.dms_kor[h.App.lang]).replace(/<\s*br\s*\/*\s*>/gi,"<br>")).split("<br>"),e.m_trans=l.createElement(l.Fragment,null,r.map((function(t,e){var n=t.split(" ").map((function(t,n){return 0===n?l.createElement("span",{key:e+"_"+n,className:"block"},t):l.createElement(l.Fragment,{key:e+"_"+n},l.createElement("span",{className:"space"}," "),l.createElement("span",{className:"block"},t))}));return 0===e?n:l.createElement(l.Fragment,{key:e},l.createElement("br",null),n)}))),t.script.qnums&&t.script.qnums.length>0?e.m_clue=l.createElement("div",{className:"clue_qnum"},t.script.qnums.map((function(t,e){return l.createElement("span",{key:e,className:"qnum"+t},t)}))):e.m_clue=l.createElement(l.Fragment,null),e.m_prog=l.createElement(l.Fragment,null),e}return e=a,(n=[{key:"_draw",value:function(){if(this.m_canvas&&0!==this.m_width&&0!==this.m_height&&(this.m_ctx.clearRect(0,0,this.m_canvas.width,this.m_canvas.height),this.m_canvas.width=this.m_width+15,this.m_canvas.height=this.m_height+20,this.props.view&&(this.props.compDiv,1))){var t,e,n,r,o,i,s=this.props;s.focus||s.selected?"A"===s.roll?(t=T).brdColor=S:"B"===s.roll?(t=C).brdColor=k:"C"===s.roll?(t=D).brdColor=R:"D"===s.roll?(t=N).brdColor=j:(t=M).brdColor=x:t="A"===s.roll?I:"B"===s.roll?A:"C"===s.roll?q:"D"===s.roll?B:z,n=16,r=10,e=20,o=2,i=58,function(t,e,n,r,o,i,s,c,a){var u=a.brdThick,l=a.brdColor,p=a.bgColor,f=a.shadowX,d=a.shadowY,h=a.shadowBlur,m=a.shadowColor,y=1.8*(e-i),v=(0!==f||0!==d||h>0)&&m.a>0,b=p.a;v&&b<1&&(p.a=1),t.lineWidth=u,t.lineCap="butt",t.lineJoin="miter",t.strokeStyle=_(l),t.fillStyle=_(p),t.beginPath(),t.moveTo(e+r,n+o-c),c>0&&t.arc(e+r-c,n+o-c,c,0,Math.PI/2),t.lineTo(e+c,n+o),c>0&&t.arc(e+c,n+o-c,c,Math.PI/2,Math.PI),t.lineTo(e,s+y/2),t.lineTo(i,s),t.lineTo(e,s-y/2),t.lineTo(e,n+c),c>0&&t.arc(e+c,n+c,c,Math.PI,3*Math.PI/2),t.lineTo(e+r-c,n),c>0&&t.arc(e+r-c,n+c,c,3*Math.PI/2,2*Math.PI),t.closePath(),v?(t.shadowColor=_(m),t.shadowBlur=h,t.shadowOffsetX=f,t.shadowOffsetY=d,t.fill(),b<1?(t.globalCompositeOperation="destination-out",t.shadowColor="rgba(0, 0, 0, 0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.fill(),u>0&&t.stroke(),t.globalCompositeOperation="source-over",p.a=b,t.fillStyle=_(p),t.fill(),u>0&&t.stroke()):u>0&&(t.shadowColor="rgba(0, 0, 0, 0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.stroke())):(t.fill(),u>0&&t.stroke()),t.globalCompositeOperation="source-over"}(this.m_ctx,n,r,this.m_width-n-1,this.m_height,o,i,e,t)}}},{key:"componentDidUpdate",value:function(t){this.props.focus===t.focus&&this.props.selected===t.selected&&this.props.view===t.view&&this.props.compDiv===t.compDiv&&this.props.viewTrans===t.viewTrans&&this.props.sroll===t.sroll&&this.props.shadowing===t.shadowing||(L=-1,U=Number.MIN_VALUE,H=Number.MIN_VALUE,this._draw()),this.m_viewScript=!0}},{key:"render",value:function(){var t,e=this.props,n=e.script,r=e.roll,o=e.sroll,i=e.focus,s=e.viewClue,c=e.viewTrans,a=e.shadowing,u=e.numOfReturn,p=["roll"+r];p.push("student"),this.props.selected&&p.push("focus"),s&&n.qnums&&n.qnums.length>0?(p.push("clue qnum"+n.qnums[0]),t=!0):t=!1,this.m_viewScript||p.push("hide-script"),""!==o&&o===r&&(p.push("in-roll"),i&&p.push("on-roll")),i&&a&&p.push("shadowing");var f=c?this.m_trans:this.m_jsx,y=p.join(" ");return l.createElement(l.Fragment,null,l.createElement("div",{className:"thumb "+y,onClick:this._onClickThumb},l.createElement("div",{className:"progress"},this.m_prog),l.createElement("img",{className:"img_cls",src:h.App.data_url+this.props.image_s,draggable:!1}),l.createElement("div",{className:"img_cls"}),l.createElement("span",null)),l.createElement("div",{className:"ballon "+y,onPointerDown:this._onTextDown,onPointerUp:this._onTextUp,onPointerCancel:this._onTextCancel,onPointerLeave:this._onTextCancel},l.createElement("canvas",{ref:this._refCanvas}),l.createElement("span",{className:c?"view-trans":""},l.createElement("span",null,f),l.createElement("div",{className:"student-clue"},l.createElement(m.ToggleBtn,{className:"btn_student"+(t?"":" single"),view:u>0},u),this.m_clue)),l.createElement(d.default,{handleHeight:!0,handleWidth:!0,onResize:this._onResize})))}}])&&r(e.prototype,n),s&&r(e,s),a}(l.Component);u([p.observable],V.prototype,"m_viewScript",void 0),V=u([f.observer],V),e.default=V},function(t,e,n){},function(t,e,n){},function(t,e,n){}]);