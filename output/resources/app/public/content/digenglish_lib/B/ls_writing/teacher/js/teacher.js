!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=11)}([function(t,e){t.exports=React},function(t,e){t.exports=mobx},function(t,e){t.exports=mobxReact},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var o=n(7),i=n(5);function a(t){if(!t)return t;t.displayMode=""+t.displayMode=="2"?"2":"1";var e=t.thumb?t.thumb:"";return(e.startsWith("static/")||""===e)&&(e=e.endsWith("w.jpg")?"".concat("/content/digenglish_lib/","/images/default_member_w.jpg"):"".concat("/content/digenglish_lib/","/images/default_member_m.jpg")),t.thumb=e,t}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,s;return e=t,s=[{key:"pub_init",value:function(){var e=navigator.userAgent;t._isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e)||/android/i.test(e),t._tempBnd=document.createElement("div"),t._tempBnd.style.display="none",t._tempEl=document.createElement("div"),t._tempBnd.appendChild(t._tempEl),null===document.body?document.addEventListener("DOMContentLoaded",(function(e){document.body.appendChild(t._tempBnd)})):document.body.appendChild(t._tempBnd)}},{key:"pub_load",value:function(e,n,r,o,i,s){t._lesson=o,t._book=r,t._nextBook=i,t._prevBook=s,t._students=[],e&&e.forEach((function(e,n){t._students[n]=a(e)})),t._student=a(n)}},{key:"pub_reloadStudents",value:function(e){i.getStudents((function(n,r){for(;t._students.length>0;)t._students.pop();for(;t._students_inited.length>0;)t._students_inited.pop();for(var o=0,i=n.length;o<i;o++)t.isDvlp?t._students[o]=a(n[o]):t._students[o]=a({id:n[o].id,name:n[o].name,thumb:n[o].defaultThumbnail,avatar:n[o].profileThumbnail,nickname:n[o].nickName,displayMode:n[o].displayMode,inited:!0}),t._students_inited.push(n[o].id);e()}))}},{key:"pub_parseStyle",value:function(e){return t._tempEl.style.cssText=e,t._tempEl.style}},{key:"pub_initAudio",value:function(){t._common_audio=document.getElementById("common_audio"),t._ding_audio=document.getElementById("ding_audio"),t._dingend_audio=document.getElementById("dingend_audio"),t._btn_audio=document.getElementById("btn_audio"),t._correct_audio=document.getElementById("correct_audio"),t._wrong_audio=document.getElementById("wrong_audio"),t._topad_audio=document.getElementById("topad_audio"),t._goodjob_audio=document.getElementById("goodjob_audio"),t._btn_back_audio=document.getElementById("btn_back_audio"),t._btn_page_audio=document.getElementById("btn_page_audio"),t._card_audio=document.getElementById("card_audio"),t._popup_audio=document.getElementById("popup_audio"),t._flips_audio=document.getElementById("card_flips"),t._clock_audio=document.getElementById("clock_audio"),t._write_audio=document.getElementById("write_audio"),t._like_bubble_audio=document.getElementById("like_bubble"),t._all_btn_click_audio=document.getElementById("all_btn_click")}},{key:"pub_playAllBtnClick",value:function(){t._all_btn_click_audio&&(t._all_btn_click_audio.currentTime=0,t._all_btn_click_audio.play())}},{key:"pub_playLikeBubble",value:function(){t._like_bubble_audio&&(t._like_bubble_audio.currentTime=0,t._like_bubble_audio.play())}},{key:"pub_playWrite",value:function(){t._write_audio&&(t._write_audio.currentTime=0,t._write_audio.play())}},{key:"pub_playClock",value:function(){t._clock_audio&&(t._clock_audio.currentTime=4.5,t._clock_audio.play())}},{key:"pub_playFlips",value:function(){t._flips_audio&&(t._flips_audio.currentTime=0,t._flips_audio.play())}},{key:"pub_playPopup",value:function(){t._popup_audio&&(t._popup_audio.currentTime=0,t._popup_audio.play())}},{key:"pub_playCard",value:function(){t._card_audio&&(t._card_audio.currentTime=0,t._card_audio.play())}},{key:"pub_playBtnPage",value:function(){t._btn_page_audio&&(t._btn_page_audio.currentTime=0,t._btn_page_audio.play())}},{key:"pub_playBtnBack",value:function(){t._btn_back_audio&&(t._btn_back_audio.currentTime=0,t._btn_back_audio.play())}},{key:"pub_playGoodjob",value:function(){t._goodjob_audio&&(t._goodjob_audio.currentTime=0,t._goodjob_audio.play())}},{key:"pub_playDing",value:function(){t._ding_audio&&(t._ding_audio.currentTime=0,t._ding_audio.play())}},{key:"pub_playDingend",value:function(){t._dingend_audio&&(t._dingend_audio.currentTime=0,t._dingend_audio.play())}},{key:"pub_playToPad",value:function(){t._topad_audio&&(t._topad_audio.currentTime=0,t._topad_audio.play())}},{key:"pub_playBtnTab",value:function(){t._btn_audio&&(t._btn_audio.currentTime=0,t._btn_audio.play())}},{key:"pub_playCorrect",value:function(){t._correct_audio&&(t._correct_audio.currentTime=0,t._correct_audio.play())}},{key:"pub_playWrong",value:function(){t._wrong_audio&&(t._wrong_audio.currentTime=0,t._wrong_audio.play())}},{key:"pub_playStudentBubble",value:function(){var t=document.getElementById("student_bubble");t&&(t.currentTime=0,t.paused&&t.play())}},{key:"pub_stop",value:function(){null!=t._common_audio.onended&&t._common_audio.onended.call(t._common_audio,new Event("ended")),t._common_audio.oncanplaythrough=null,isNaN(t._common_audio.duration)||t._common_audio.paused||t._common_audio.pause()}},{key:"pub_play",value:function(e,n){t.pub_stop(),e=o.nteString(e,"");var r=o.nteString(t._common_audio.getAttribute("src"),"");if(""!==e||""!==r){""!==e&&r!==e&&(t._common_audio.src=e);var i=function e(r){t._common_audio.onended=null,null!==n&&n(!0),t._common_audio.removeEventListener("error",e)};t._common_audio.onended=function(e){t._common_audio.onended=null,null!==n&&n(!!e),t._common_audio.removeEventListener("error",i)},t._common_audio.addEventListener("error",i),isNaN(t._common_audio.duration)?(t._common_audio.oncanplaythrough=function(e){0!==t._common_audio.currentTime&&(t._common_audio.currentTime=0),t._common_audio.play(),t._common_audio.oncanplaythrough=null},t._common_audio.load()):(0!==t._common_audio.currentTime&&(t._common_audio.currentTime=0),t._common_audio.oncanplaythrough=null,t._common_audio.play())}else null!=n&&n(!0)}},{key:"pub_set",value:function(e,n,r){t._isDvlp=n,t._lang=r,i.set(n)}},{key:"pub_addInitedStudent",value:function(e){for(var n=!0,r=0,o=t._students_inited.length;r<o;r++)t._students_inited[r]===e.id&&(n=!1);n&&t._students_inited.push(e.id);var i=t._start_idx>0&&t._students.length>0&&t._students_inited.length>=t._students.length;return i&&(window.clearTimeout(t._start_idx),t._start_idx=-1),i}},{key:"pub_start",value:function(e){0===t._students.length||t._students_inited.length>=t._students.length?e():t._start_idx=window.setTimeout(e,2e3)}},{key:"pub_clear",value:function(){for(;t._students.length>0;)t._students.pop();for(;t._students_inited.length>0;)t._students_inited.pop()}},{key:"isMobile",get:function(){return t._isMobile}},{key:"tempEl",get:function(){return t._tempEl}},{key:"students",get:function(){return t._students}},{key:"student",get:function(){return t._student}},{key:"lang",get:function(){return t._lang}},{key:"isDvlp",get:function(){return t._isDvlp}},{key:"data_url",get:function(){return t._data_url}},{key:"lesson",get:function(){return t._lesson}},{key:"book",get:function(){return t._book}},{key:"nextBook",get:function(){return t._nextBook}},{key:"prevBook",get:function(){return t._prevBook}}],(n=null)&&r(e.prototype,n),s&&r(e,s),t}();e.App=s,s._isMobile=!1,s._students=[],s._students_inited=[],s._student=null,s._lang="ko",s._isDvlp=!1,s._data_url="../data/",s._lesson="",s._book="",s._nextBook=!1,s._prevBook=!1,s._start_idx=-1,s.isStarted=!1},function(t,e){t.exports=_},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getPreviewResultMember=e.getPreviewResultClass=e.getPreviewDmsResult=e.getPreviewResult=e.uploadInclassReport=e.stopVideoRecord=e.startVideoRecord=e.switchCamera=e.stopCamera=e.startCustomCamera=e.startCamera=e.getStudents=e.uploadImageToServer=e.uploadFileToServer=e.stopVoiceRecord=e.startVoiceRecord=e.sendTeacher=e.disableSoftwareKeyboard=e.sendPAD=e.sendPADToID=e.sendLauncher=e.uploadStudentReport=e.addStudentForStudentReportType6=e.hideStudentReportListPage=e.showStudentReportListPage=e.showStudentReportUI=e.hideStudentReportUI=e.startStudentReportProcess=e.finishContentPage=e.set=void 0;var o=n(4),i=!1;e.set=function(t){i=t},e.finishContentPage=function(){if(!i)try{window.tsoc_o.finishContentPage()}catch(t){}},e.startStudentReportProcess=function(t,e,n){if(!i)try{window.tsoc_o.startStudentReportProcess(t,e,n)}catch(t){}},e.hideStudentReportUI=function(){if(!i)try{window.tsoc_o.hideStudentReportUI()}catch(t){}},e.showStudentReportUI=function(){if(!i)try{window.tsoc_o.showStudentReportUI()}catch(t){}},e.showStudentReportListPage=function(){if(!i)try{window.tsoc_o.showStudentReportListPage()}catch(t){}},e.hideStudentReportListPage=function(){if(!i)try{window.tsoc_o.hideStudentReportListPage()}catch(t){}},e.addStudentForStudentReportType6=function(t){if(!i)try{window.tsoc_o.addStudentForStudentReportType6(t)}catch(t){}},e.uploadStudentReport=function(t,e,n){if(!i)try{window.psoc_o.uploadStudentReport(t,e,n)}catch(t){}},e.sendLauncher=function(t,e){if(5!==t||i)if(6!==t||i)if(7!==t||i){if(8===t)if(i)try{window.top.tsoc_o.gotoPrevBook()}catch(t){}else try{window.tsoc_o.gotoPrevBook()}catch(t){}else if(9===t)if(i)try{window.top.tsoc_o.gotoNextBook()}catch(t){}else try{window.tsoc_o.gotoNextBook()}catch(t){}}else try{window.tsoc_o.setTitleBar(e)}catch(t){}else try{window.tsoc_o.showTitleBar()}catch(t){}else try{window.tsoc_o.hideTitleBar()}catch(t){}},e.sendPADToID=function(t,e,n){var r={type:e,data:n};if(i)try{window.top.tsoc_o.sendPADToID(t,r)}catch(t){}else try{window.tsoc_o.sendPADToID(t,r)}catch(t){}},e.sendPAD=function(t,e){var n={type:t,data:e};if(i)try{window.top.tsoc_o.sendAll(n)}catch(t){}else try{window.tsoc_o.sendAll(n)}catch(t){}},e.disableSoftwareKeyboard=function(){try{window.psoc_o.disableSoftwareKeyboard()}catch(t){}},e.sendTeacher=function(t,e){var n={type:t,data:e};if(i)try{window.opener.tsoc_o.sendTeacher(n)}catch(t){}else try{window.psoc_o.sendTeacher(n)}catch(t){}},e.startVoiceRecord=function(){try{window.psoc_o.startVoiceRecord()}catch(t){}},e.stopVoiceRecord=function(){try{window.psoc_o.stopVoiceRecord()}catch(t){}},e.uploadFileToServer=function(t){try{window.psoc_o.uploadFileToServer(t)}catch(t){}},e.uploadImageToServer=function(t){try{window.psoc_o.uploadImageToServer(t)}catch(t){}},e.getStudents=function(t){if(i)if(window.top.tsoc_o)try{window.top.tsoc_o.getStudents(t)}catch(t){}else t([],!1);else try{window.tsoc_o.getStudents(t)}catch(t){}},e.startCamera=function(){if(!i)try{window.psoc_o.startCamera()}catch(t){}},e.startCustomCamera=function(t){if(!i)try{window.psoc_o.startCustomCamera(t)}catch(t){}},e.stopCamera=function(){if(!i)try{window.psoc_o.stopCamera()}catch(t){}},e.switchCamera=function(){if(!i)try{window.psoc_o.switchCamera()}catch(t){}},e.startVideoRecord=function(){if(!i)try{window.psoc_o.startVideoRecord()}catch(t){}},e.stopVideoRecord=function(){if(!i)try{window.psoc_o.stopVideoRecord()}catch(t){}},e.uploadInclassReport=function(t){if(!i)try{window.tsoc_o.uploadInclassReport(t)}catch(t){}},e.getPreviewResult=function(t){return r(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(i)e([]);else{var n=!1;window.tsoc_o.getPreviewResult((function(t){n||(n=!0,e(t))}),t),o.delay((function(){n||(n=!0,e([]))}),5e3)}})));case 1:case"end":return e.stop()}}),e)})))},e.getPreviewDmsResult=function(t){return r(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(i)e([]);else{var n=!1;window.tsoc_o.getPreviewDmsResult((function(t){n||(n=!0,e(t))}),t),o.delay((function(){n||(n=!0,e([]))}),5e3)}})));case 1:case"end":return e.stop()}}),e)})))},e.getPreviewResultClass=function(t){return r(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(i)e([]);else{var n=!1;window.tsoc_o.getPreviewResultClass((function(t){n||(n=!0,e(t))}),t),o.delay((function(){n||(n=!0,e([]))}),5e3)}})));case 1:case"end":return e.stop()}}),e)})))},e.getPreviewResultMember=function(t){return r(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(i)e([]);else{var n=!1;window.tsoc_o.getPreviewResultMember((function(t){n||(n=!0,e(t))}),t),o.delay((function(){n||(n=!0,e([]))}),5e3)}})));case 1:case"end":return e.stop()}}),e)})))}},function(t,e,n){"use strict";function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var _=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ImgBtn=e.AudioBtn=e.ToggleBtn=void 0;var m=n(0),h=n(1),v=n(2),y=function(t){s(n,t);var e=u(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).m_pID=-1,r._inited=r._inited.bind(p(r)),r._onClick=r._onClick.bind(p(r)),r}return a(n,[{key:"_inited",value:function(t){var e=this;!this.m_el&&t&&(this.m_el=t,this.props.onRef&&this.props.onRef(t),t.setAttribute("touch-action","none"),t.addEventListener("pointerdown",(function(n){if(!(e.m_pID>=0)){if(e.m_pID=n.pointerId,!e.props.disableCapture)try{t.setPointerCapture(e.m_pID)}catch(t){}e.props.onMouseDown&&e.props.onMouseDown(n)}})),t.addEventListener("pointerup",(function(n){if(e.m_pID===n.pointerId){try{t.releasePointerCapture(e.m_pID)}catch(t){}e.m_pID=-1,e.props.onMouseUp&&e.props.onMouseUp(n)}})),t.addEventListener("pointerleave",(function(n){if(e.props.disableCapture){if(e.m_pID!==n.pointerId)return;try{t.releasePointerCapture(e.m_pID)}catch(t){}e.m_pID=-1}e.props.onMouseLeave&&e.props.onMouseLeave(n)})),t.addEventListener("pointercancel",(function(n){if(e.m_pID===n.pointerId){try{t.releasePointerCapture(e.m_pID)}catch(t){}e.m_pID=-1,e.props.onMouseLeave&&e.props.onMouseLeave(n)}})))}},{key:"_onClick",value:function(t){this.props.onClick&&this.props.onClick(t),this.props.preventEvent&&(t.preventDefault(),t.stopPropagation())}},{key:"componentDidUpdate",value:function(t){if((this.props.disabled&&!t.disabled||!this.props.view&&t.view)&&this.m_pID>=0){try{this.m_el&&this.m_el.releasePointerCapture(this.m_pID)}catch(t){}this.m_pID=-1}}}]),n}(m.Component);_([h.observable],y.prototype,"m_pID",void 0);var b=function(t){s(n,t);var e=u(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).m_on=!1,r.m_on=!0===t.on,r}return a(n,[{key:"componentWillReceiveProps",value:function(t){this.props.on!==t.on&&(this.m_on=!0===t.on)}},{key:"render",value:function(){var t=[];this.props.className&&t.push(this.props.className),this.m_on&&t.push("on"),this.m_pID>0&&t.push("down");var e=t.join(" "),n=this.props.style;return!1===this.props.view&&(n||(n={}),n.display="none"),m.createElement("button",{id:this.props.id,className:e,onClick:this._onClick,ref:this._inited,disabled:!0===this.props.disabled,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:n},this.props.children)}}]),n}(y);_([h.observable],b.prototype,"m_on",void 0),b=_([v.observer],b),e.ToggleBtn=b;var g=function(t){s(n,t);var e=u(n);function n(t){return o(this,n),e.call(this,t)}return a(n,[{key:"play",value:function(){var t=this;this.m_on||(this.m_on=!0,this.props.playFnc(this.props.src,(function(e){t.m_on&&(t.m_on=!1,t.props.onPause&&t.props.onPause(e))})))}},{key:"_onClick",value:function(t){this.m_on?(this.props.pauseFnc(),this.m_on=!1):this.play(),r(f(n.prototype),"_onClick",this).call(this,t)}}]),n}(b);_([h.action],g.prototype,"play",null),_([h.action],g.prototype,"_onClick",null),g=_([v.observer],g),e.AudioBtn=g;var w=function(t){s(n,t);var e=u(n);function n(t){var r;return o(this,n),(r=e.call(this,t)).m_on=!1,r.m_on=!0===t.on,r}return a(n,[{key:"componentWillReceiveProps",value:function(t){this.props.on!==t.on&&(this.m_on=!0===t.on)}},{key:"render",value:function(){var t=[];this.props.className&&t.push(this.props.className),this.m_on&&t.push("on"),this.m_pID>0&&t.push("down"),!0===this.props.disabled&&t.push("disable");var e=t.join(" "),n=this.props.style;return!1===this.props.view&&(n||(n={}),n.display="none"),m.createElement("img",{id:this.props.id,className:e,onClick:this._onClick,ref:this._inited,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:n,src:this.props.src,useMap:this.props.useMap})}}]),n}(y);_([h.observable],w.prototype,"m_on",void 0),w=_([v.observer],w),e.ImgBtn=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._toStringTimestamp=e.getDateStr=e.nteArray=e.intToHTMLcolor=e.nteBool=e.nteString=e.nteFloat=e.nteInt=e.nteUInt=e.getUnicUrl=e.getUnicNum=e.getUnic=void 0;var r=n(17);Date.now||(Date.now=function(){return(new Date).getTime()});var o=0;function i(){return a().toString(36)}function a(){var t=Date.now();return t>o?o=t:o+=1,o}e.getUnic=i,e.getUnicNum=a,e.getUnicUrl=function(t){if(!t)return"";var e=t=t.trim();return 0!==e.indexOf("http://")&&0!==e.indexOf("https://")||(e=e.indexOf("?")>0?e+"&t="+i():e+"?t="+i()),e},e.nteUInt=function(t,e){if(r.isNullOrUndefined(t))return e;if(r.isNumber(t))return isNaN(t)||t<0?e:Math.round(t);var n=parseInt(String(t),10);return isNaN(n)||n<0?e:n},e.nteInt=function(t,e){if(r.isNullOrUndefined(t))return e;if(r.isNumber(t))return Math.round(t);var n=parseInt(String(t),10);return isNaN(n)?e:n},e.nteFloat=function(t,e){if(r.isNullOrUndefined(t))return e;if(r.isNumber(t))return t;var n=parseFloat(String(t));return isNaN(n)?e:n},e.nteString=function(t,e){return r.isNullOrUndefined(t)?e:String(t)},e.nteBool=function(t,e){if(r.isNullOrUndefined(t))return e;if(r.isBoolean(t))return t;var n=String(t);return"true"===n||"false"!==n&&e},e.intToHTMLcolor=function(t){var e=t-0,n=(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16);return n="#000000".substring(0,7-n.length)+n},e.nteArray=function(t){if(t){if(Array.isArray(t))return t;if("string"==typeof t){var e=t;if(e.indexOf("[")>=0&&e.indexOf("]")>0)try{return JSON.parse(e)}catch(t){}}var n=[];return n.push(t),n}return[]},e.getDateStr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",e=new Date,n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),i=r<10?"0"+r:""+r,a=o<10?"0"+o:""+o;return n+t+i+t+a},e._toStringTimestamp=function(t){var e=t.getFullYear(),n=t.getMonth()+1+"";parseInt(n,10)<10&&(n="0"+n);var r=t.getDate()+"";return parseInt(r,10)<10&&(r="0"+r),e+"-"+n+"-"+r+" "+t.toTimeString().substr(0,8)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},_=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SENDPROG=e.useTeacher=e.tContext=e.TeacherConsumer=e.TeacherProvider=e.TeacherContext=void 0;var m,h=n(0),v=n(4),y=n(1),b=n(3),g=n(5),w=n(27),O=n(7);!function(t){t[t.READY=0]="READY",t[t.SENDING=1]="SENDING",t[t.SENDED=2]="SENDED",t[t.COMPLETE=3]="COMPLETE"}(m||(m={})),e.SENDPROG=m;var S=function(t){s(n,t);var e=u(n);function n(){var t;return r(this,n),(t=e.call(this))._result=[],t._returnUsers=[],t._returnUsersForQuiz=[],t._qnaReturns=[],t._uploadInclassReport=function(t){var e=[];e.length>0&&(console.log("inclassReport(LogFromContentTeacher): ",e),g.uploadInclassReport(e))},t.state.hasPreview=!1,t.state.questionProg=0,t.state.confirmProg=0,t.state.additionalProg=0,t.state.dictationProg=0,t.state.scriptProg=0,t.state.qnaProg=0,t.state.dialogueProg=0,t.actions.getData=function(){return t._data},t.actions.getResult=function(){return t._result},t.actions.gotoDirection=function(){return t._setViewDiv("direction")},t.actions.gotoNextBook=function(){g.sendLauncher(9,null)},t.actions.getReturnUsers=function(){return t._returnUsers},t.actions.clearReturnUsers=function(){t._returnUsers=[]},t.actions.getReturnUsersForQuiz=function(){return t._returnUsersForQuiz},t.actions.clearReturnUsersForQuiz=function(){t._returnUsersForQuiz=[]},t.actions.getQnaReturns=function(){return t._qnaReturns},t.actions.quizComplete=function(){t.state.questionProg=3},t.actions.clearQnaReturns=function(){t._returnUsers=[],t.actions.setRetCnt(0)},t.actions.init=function(){t.state.scriptProg=0,t.state.qnaProg=0,t.state.dialogueProg=0,t._returnUsers=[],t.state.questionProg<3&&(t.state.questionProg=0,t._returnUsersForQuiz=[])},t}return i(n,[{key:"_setViewDiv",value:function(t){this.state.viewDiv!==t&&"content"!==t&&v.delay(this.actions.init,300),a(p(n.prototype),"_setViewDiv",this).call(this,t)}},{key:"receive",value:function(t){if(a(p(n.prototype),"receive",this).call(this,t),11===t.type&&t.data){var e=t.data;if("quiz_return"===e.msgtype){if(2===this.state.questionProg){for(var r=e,o=-1,i=0;i<b.App.students.length;i++)if(b.App.students[i].id===r.id){o=i;break}var s=this._returnUsersForQuiz.indexOf(r.id);o>=0&&s<0&&(this._returnUsersForQuiz.push(r.id),g.addStudentForStudentReportType6(r.id),this.actions.setRetCnt(this._returnUsersForQuiz.length),this._uploadInclassReport(r))}}else if("qna_return"===e.msgtype&&2===this.state.qnaProg){for(var c=e,u=-1,l=0;l<b.App.students.length;l++)if(b.App.students[l].id===c.id){u=l;break}var f=this._returnUsers.indexOf(c.id);if(u>=0&&f<0){for(var d=0;d<c.returns.length;d++){var _=c.returns[d];if(_<this._qnaReturns.length){var m=this._qnaReturns[_].users;m.indexOf(c.id)<0&&m.push(c.id),this._qnaReturns[_].num=m.length}}this._returnUsers.push(c.id),g.addStudentForStudentReportType6(c.id),this.actions.setRetCnt(this._returnUsers.length)}var h=[],v=O._toStringTimestamp(new Date(c.stime)),y=O._toStringTimestamp(new Date(c.etime));h.push({std_cont_seq:0,studentId:c.id,ans_tf:0===c.returns.length?"0":"1",ans_submit:"qna;",ans_starttime:v||"",ans_endtime:y||"",sc_div1:"",sc_div2:"",sc_div3:"",sc_div4:"",files:null,ans_correct:"",tab_index:"5"}),h.length>0&&(console.log("inclassReport(LogFromContentTeacher): ",h),g.uploadInclassReport(h))}}}},{key:"setData",value:function(t){return _(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,o,i,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(t,e,n){for(var r=0;r<n.length;r++)t.includes(n[r].textValue)||(t.push(n[r].textValue),e.push({sum:0,cnt:0,avg:0,txt:""}));for(var o=function(r){var o=n[r].textValue,i=n[r].avgPercent,a=t.findIndex((function(t){return t===o}));e[a].sum+=i,e[a].cnt+=1,e[a].avg=Math.round(e[a].sum/e[a].cnt),e[a].txt=o},i=0;i<n.length;i++)o(i)},this._data=t,this.state.hasPreview=!0,r=[],console.log("previewMsg~~~",r.length,r),0,a=[],s=[],b.App.isDvlp||"ko"!==b.App.lang){e.next=14;break}return e.next=11,g.getPreviewResultClass(r);case 11:if(o=e.sent,o.length>0)for(i=o.filter((function(t,e){return 6===t.mttSeq})),n(a,s,i),console.log("text_arr",a,"val_arr",s),c=[],u=0;u<c.length;u++)c[u].app_preview=s[u].avg;case 14:case"end":return e.stop()}}),e,this)})))}}]),n}(w.TeacherContextBase);d([y.observable],S.prototype,"state",void 0),d([y.action],S.prototype,"_setViewDiv",null),e.TeacherContext=S;var P=new S;e.tContext=P;var E=h.createContext(P),R=E.Provider,k=E.Consumer;e.TeacherConsumer=k;var N=function(t){s(n,t);var e=u(n);function n(){return r(this,n),e.apply(this,arguments)}return i(n,[{key:"render",value:function(){return h.createElement(R,{value:P},this.props.children)}}]),n}(h.Component);e.TeacherProvider=N,e.useTeacher=function(t){return function(e){return h.createElement(k,null,(function(e){return h.createElement(t,Object.assign({},e))}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._getBlockJSX=e._getJSX=e._splitSpace=e._sentence2jsx=void 0;var r=n(0);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,s=new RegExp(/\{(.*?)\}/g),c={key:0},u=[],l=t.replace(/\s\s+/gi," ").replace(/<\s*br\s*\/*\s*>/gi,"<br>").split("<br>");return l.forEach((function(t,l){if(e){for(var p=s.exec(t),f=0,d="",_=[];p;){p.index>f&&(d=t.substring(f,p.index),_.push(i(d,c,a))),d=p[1];var m=n;m||(m=d),o?i(m,c,a):m,_.push(r.createElement("span",{key:c.key++,className:e,"data-correct":d},"aaaaaaaaaa")),f=s.lastIndex,p=s.exec(t)}f<t.length&&(d=t.substring(f),_.push(i(d,c,a))),u[l]=r.createElement(r.Fragment,{key:c.key++},_)}else u[l]=r.createElement(r.Fragment,{key:c.key++},i(t,c,a))})),u}function i(t,e,n){for(var o=t.split(/\s/g),i=new RegExp(/[\.\!\?\s]/g),a=[],s=0;s<o.length;s++){var c=o[s];if(""!==c){for(var u=[],l=i.exec(c),p=0,f="";l;)l.index>p&&(f=c.substring(p,l.index),u.push(r.createElement("span",{key:e.key++},f))),f=l[0],u.push(f),p=i.lastIndex,l=i.exec(c);p<c.length&&(f=c.substring(p),u.push(r.createElement("span",{key:e.key++},f))),a.push(r.createElement("span",{key:e.key++,className:n},u.map((function(t){return t}))))}}return a}e._sentence2jsx=o,e._splitSpace=i,e._getJSX=function(t){var e=o(t,"block",void 0,!0,"word");return r.createElement(r.Fragment,null,e.map((function(t,n){return n===e.length-1?t:r.createElement(r.Fragment,{key:n},t,r.createElement("br",null))})))},e._getBlockJSX=function(t){var e=o(t,"block",void 0,!0,"word");return r.createElement(r.Fragment,null,e.map((function(t,n){return n===e.length-1?t:r.createElement(r.Fragment,{key:n},t,r.createElement("br",null))})))}},function(t,e){t.exports=ReactIdSwiper},function(t,e,n){t.exports=n(12)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),o=n(0),i=n(16),a=n(3),s=n(5),c=n(21);r.setConfig({ErrorOverlay:function(t){return o.createElement("div",null)}});var u,l={clear:a.App.pub_clear,importLink:c.importLink,importHTML:c.importHTML};u=n(22);var p=!1,f=u,d=f.default,_=f.AppProvider,m=f.appContext;l.set=function(t,e,n){a.App.pub_set(t,e,n),m.setData(t)},l.render=function(){a.App.pub_initAudio(),i.render(o.createElement(_,null,o.createElement(d,null)),document.getElementById("wrap"))},l.init=function(t,e,n,r,o){a.App.pub_load(t,null,e,n,r,o)},l.start=function(){p=!0,setTimeout((function(){return m.start()}),500)},l.receive=function(t){if(4===t.type){var e=t.data;p?e&&e.id&&""!==e.id&&s.sendPADToID(e.id,a.App.isStarted?0:1,null):a.App.pub_addInitedStudent(e)&&(p||(p=!0,m.start()))}else m.receive(t)},l.teachingTool=function(t){},n(37),t.app_o=l}).call(this,n(13))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=n(15)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r;function i(t){return i.warnAboutHMRDisabled&&(i.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),o.Children.only(t.children)}i.warnAboutHMRDisabled=!1;var a=function t(){return t.shouldWrapWithAppContainer?function(t){return function(e){return o.createElement(i,null,o.createElement(t,e))}}:function(t){return t}};a.shouldWrapWithAppContainer=!1;e.AppContainer=i,e.hot=a,e.areComponentsEqual=function(t,e){return t===e},e.setConfig=function(){},e.cold=function(t){return t},e.configureComponent=function(){}},function(t,e){t.exports=ReactDOM},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(t).replace(o,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),c=r[n];n<i;c=r[++n])m(c)||!g(c)?a+=" "+c:a+=" "+s(c);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),_(n)?r.showHidden=n:n&&e._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,t,r.depth)}function c(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function u(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&S(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return v(o)||(o=l(t,o,r)),o}var i=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(h(e))return t.stylize(""+e,"number");if(_(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(S(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(O(n))return p(n)}var u,g="",P=!1,E=["{","}"];(d(n)&&(P=!0,E=["[","]"]),S(n))&&(g=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(g=" "+RegExp.prototype.toString.call(n)),w(n)&&(g=" "+Date.prototype.toUTCString.call(n)),O(n)&&(g=" "+p(n)),0!==a.length||P&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=P?function(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)N(e,String(a))?i.push(f(t,e,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(f(t,e,n,r,o,!0))})),i}(t,n,r,s,a):a.map((function(e){return f(t,n,r,s,e,P)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,g,E)):E[0]+g+E[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),N(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(c.value)<0?(s=m(n)?l(t,c.value,null):l(t,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),y(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t){return Array.isArray(t)}function _(t){return"boolean"==typeof t}function m(t){return null===t}function h(t){return"number"==typeof t}function v(t){return"string"==typeof t}function y(t){return void 0===t}function b(t){return g(t)&&"[object RegExp]"===P(t)}function g(t){return"object"==typeof t&&null!==t}function w(t){return g(t)&&"[object Date]"===P(t)}function O(t){return g(t)&&("[object Error]"===P(t)||t instanceof Error)}function S(t){return"function"==typeof t}function P(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(y(i)&&(i=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=_,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=h,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=y,e.isRegExp=b,e.isObject=g,e.isDate=w,e.isError=O,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(19);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),R[t.getMonth()],e].join(" ")}function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n(20),e._extend=function(t,e){if(!e||!g(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(T&&t[T]){var e;if("function"!=typeof(e=t[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),T&&Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=T,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(x,e,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(18))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&d())}function d(){if(!l){var t=s(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++p<e;)c&&c[p].run();p=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new _(t,e)),1!==u.length||l||s(d)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.importLink=e.importHTML=void 0,e.importHTML=function(t){return new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="document",r.onload=function(t){if(t){var o=r.response;o&&o.body&&o.body.firstElementChild?e(o.body.firstElementChild):o&&o.documentElement?e(o.documentElement):n("error")}},r.onerror=function(t){n(t)},r.send(null)}))},e.importLink=function(t,e){return new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="document",r.onload=function(t){if(t){var n=r.response;e(n)}},r.onerror=function(t){n(t)},r.send(null)}))}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.appContext=e.AppProvider=void 0;var l=n(0),p=n(2),f=n(23);n(24),n(25);var d=n(26),_=n(8),m=n(8);Object.defineProperty(e,"AppProvider",{enumerable:!0,get:function(){return m.TeacherProvider}}),Object.defineProperty(e,"appContext",{enumerable:!0,get:function(){return m.tContext}});var h=n(28),v=n(3),y=n(31),b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(c,t);var e,n,a,s=i(c);function c(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,t)}return e=c,(n=[{key:"render",value:function(){var t=this.props,e=t.state,n=t.actions,r=e.viewDiv;return l.createElement(l.Fragment,null,l.createElement("div",{id:"preload_hidden",style:{opacity:0}},l.createElement("span",null,"Í∞ÄÎÇòÎã§Îùºs"),l.createElement("span",{style:{fontWeight:"bold"}},"Í∞ÄÎÇòÎã§Îùº"),l.createElement("span",{className:"set"})," ",l.createElement("span",{className:"unlimit"})," ",l.createElement("span",{className:"start"}),l.createElement("span",{className:"time1"}),l.createElement("span",{className:"time2"})," ",l.createElement("span",{className:"time3"})),l.createElement("div",{className:"content-container"},l.createElement("div",{className:"content-wrapper",style:{left:("direction"===r?0:-1280)+"px"}},l.createElement("div",null,l.createElement(h.default,{className:"video-direction",view:"direction"===r,on:e.directionON,isTeacher:!0,video_url:"",video_frame:125,onEndStart:n.onDirectionEndStart,onEnd:n.onDirectionEnded},l.createElement("div",{className:"lesson"},v.App.lesson))),l.createElement("div",null,l.createElement(y.default,{view:"content"===r,state:e,actions:n})))),l.createElement(d.Navi,Object.assign({},e.navi,{onLeftClick:n.naviLeft,onRightClick:n.naviRight})))}}])&&r(e.prototype,n),a&&r(e,a),c}(l.Component);b=u([p.observer],b);var g=_.useTeacher((function(t){return l.createElement(p.Observer,null,(function(){return l.createElement(b,{state:t.state,actions:t.actions})}))}));e.default=f.hot(g)},function(t,e,n){e.hot=function(t){return t}},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.Navi=void 0;var l=n(0),p=n(1),f=n(2),d=n(6),_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(c,t);var e,n,a,s=i(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=s.call(this,t)).m_on=!1,e.m_isStarted=!1,e._onClick=function(t){e.m_on=!0},e}return e=c,(n=[{key:"componentDidUpdate",value:function(t){this.m_isStarted||!this.props.view||t.view||(this.m_isStarted=!0,this.m_on=!0)}},{key:"render",value:function(){var t=this.m_on?void 0:"off",e={visibility:this.props.view?"visible":"hidden"};return l.createElement(l.Fragment,null,l.createElement("div",{id:"common_navi_left",className:t,style:e},l.createElement("div",null,l.createElement("div",{onClick:this._onClick},l.createElement(d.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),l.createElement(d.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))),l.createElement("div",{id:"common_navi_right",className:t,style:e},l.createElement("div",null,l.createElement("div",{onClick:this._onClick},l.createElement(d.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),l.createElement(d.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))))}}])&&r(e.prototype,n),a&&r(e,a),c}(l.Component);u([p.observable],_.prototype,"m_on",void 0),_=u([f.observer],_),e.Navi=_},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":o(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(a<3?i(s):a>3?i(e,n,s):i(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.TeacherContextBase=void 0;var a=n(1),s=n(3),c=n(5),u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._naviLeftFnc=null,this._naviRightFnc=null,this.state={viewDiv:"direction",directionON:!1,navi:{view:!1,enableLeft:!1,enableRight:!1},svg_bg:{view:!0,bPlay:!1,viewCharactor:!0},retCnt:0,numOfStudent:0},this.actions={onDirectionEndStart:function(){"direction"===e.state.viewDiv&&c.sendPAD(3,null)},onDirectionEnded:function(){"direction"===e.state.viewDiv&&e._setViewDiv("content"),s.App.isStarted=!0},setNaviView:function(t){e.state.navi.view=t},setNavi:function(t,n){e.state.navi.enableLeft=t,e.state.navi.enableRight=n},setNaviFnc:function(t,n){e._naviLeftFnc=t,e._naviRightFnc=n},naviLeft:function(){"direction"===e.state.viewDiv?c.sendLauncher(8,null):(s.App.pub_playBtnPage(),e._naviLeftFnc?e._naviLeftFnc():e._setViewDiv("direction"))},naviRight:function(){"direction"===e.state.viewDiv?(s.App.pub_playBtnPage(),e.state.directionON=!1):(s.App.pub_playBtnPage(),e._naviRightFnc?e._naviRightFnc():c.sendLauncher(9,null))},setRetCnt:function(t){t>e.state.numOfStudent&&(t=e.state.numOfStudent),e.state.retCnt=t},setNumOfStudent:function(t){e.state.numOfStudent=t}}}var e,n,o;return e=t,(n=[{key:"_setViewDiv",value:function(t){this.state.viewDiv!==t&&(s.App.pub_stop(),"direction"===t?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0,c.sendLauncher(5,null),c.sendPAD(1,null),this.state.navi.view=!0,this.state.navi.enableLeft=s.App.prevBook,this.state.navi.enableRight=!0,this._naviLeftFnc=null,this._naviRightFnc=null):(this.state.directionON=!1,this.state.svg_bg.bPlay=!1,this.state.svg_bg.viewCharactor=!1,c.sendLauncher(6,null),c.sendPAD(0,null)),this._naviLeftFnc=null,this._naviRightFnc=null,this.state.numOfStudent=0,this.state.retCnt=0,this.state.viewDiv=t)}},{key:"start",value:function(){"direction"===this.state.viewDiv&&(this.state.directionON=!0,this.state.navi.view=!0,this.state.navi.enableLeft=s.App.prevBook,this.state.navi.enableRight=!0,this.state.svg_bg.bPlay=!0,c.sendLauncher(5,null),c.sendPAD(1,null))}},{key:"receive",value:function(t){}},{key:"uploaded",value:function(t){}},{key:"notify",value:function(t){}},{key:"notifyRecorded",value:function(t){}},{key:"notifyVideoRecord",value:function(t){}}])&&r(e.prototype,n),o&&r(e,o),t}();i([a.observable],u.prototype,"state",void 0),i([a.action],u.prototype,"_setViewDiv",null),i([a.action],u.prototype,"start",null),e.TeacherContextBase=u},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var f=n(0),d=n(1),_=n(2),m=n(4),h=n(29),v=n(30),y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,a,c=i(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this,t)).m_on=!1,e.m_clipView=!1,e.m_imgDiv=null,e._refImg=function(t){t&&void 0!==e.props.video_url&&""!==e.props.video_url&&(e.m_imgDiv=t,e.m_clipView||m.delay((function(){e.m_imgDiv&&(e.m_clipView=!0)}),1250))},e._onClick=function(){e.props.isTeacher&&e._off()},e._off=function(){return p(s(e),void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.props.view||!this.m_on){t.next=6;break}return this.m_on=!1,this.props.onEndStart&&this.props.onEndStart(),t.next=5,h.wait(500);case 5:this.props.view&&!this.m_on&&this.props.onEnd&&this.props.onEnd();case 6:case"end":return t.stop()}}),t,this)})))},e.m_on=t.view&&t.on,e}return e=u,(n=[{key:"_on",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.m_on=!0;case 1:case"end":return t.stop()}}),t,this)})))}},{key:"componentDidUpdate",value:function(t){this.props.view?t.view?this.props.on&&!t.on?this._on():!this.props.on&&t.on&&this._off():this.props.on?this._on():this.m_on=!1:this.m_on=!1}},{key:"render",value:function(){var t=[];return t.push(this.props.className),this.props.view?this.m_on&&t.push("on"):t.push("hide"),f.createElement("div",{className:t.join(" "),onClick:this._onClick},this.props.children,f.createElement("img",{className:"movieclip",src:this.props.video_url,ref:this._refImg,style:this.m_clipView?void 0:v.HIDE}),f.createElement("div",{className:"direction"}))}}])&&r(e.prototype,n),a&&r(e,a),u}(f.Component);l([d.observable],y.prototype,"m_on",void 0),l([d.observable],y.prototype,"m_clipView",void 0),l([d.action],y.prototype,"_off",void 0),y=l([_.observer],y),e.default=y},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getBounds=e.getTimeStr=e.wait=void 0;var o=n(4);e.wait=function(t){return r(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){o.delay(e,t)})));case 1:case"end":return e.stop()}}),e)})))},e.getTimeStr=function(t,e){var n=Math.round(e/1e3),r=Math.round(t/1e3),o=Math.floor(r/60),i=Math.floor(o/60),a="";return o%=60,i>0||n>=3600?(a=i+":",a+=o>=10?o+":":"0"+o+":"):n>=600?a+=o>=10?o+":":"0"+o+":":a=o+":",a+=(r%=60)>=10?r:"0"+r},e.getBounds=function(t){var e={left:0,top:0,width:0,height:0};if(!t)return e;try{var n=t.getBoundingClientRect();e.left=n.left,e.top=n.top,e.width=n.width,e.height=n.height}catch(t){}var r=t.ownerDocument,o=r.body,i=r.documentElement;e.left=e.left-(i.clientLeft||o.clientLeft||0),e.top=e.top-(i.clientTop||o.clientTop||0);var a=r.defaultView;return e.left+=a.pageXOffset||i.scrollLeft||o.scrollLeft,e.top+=a.pageYOffset||i.scrollTop||o.scrollTop,e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HIDE_ANI=e.NONE=e.HIDE=void 0;e.HIDE={opacity:0,pointerEvents:"none"};e.HIDE_ANI={opacity:0,pointerEvents:"none",transitionProperty:"opacity",transitionDuration:"0.6s"};e.NONE={display:"none"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var d=n(0),_=n(4),m=n(2),h=n(1),v=n(32),y=n(6),b=n(3),g=n(5),w=n(34),O=n(35),S=n(36),P=function(t){a(n,t);var e=c(n);function n(){var t;return r(this,n),(t=e.apply(this,arguments))._click=function(){t.props.onClick(t.props.idx)},t}return i(n,[{key:"render",value:function(){var t=this.props,e=t.idx,n=t.on,r=t.tab;if(["INTRODUCTION","SCRIPT"].includes(r))return d.createElement("span",{className:n?"on":"",onClick:this._click},e+1);if(["CONFIRM","ADDITIONAL","DICTATION"].includes(r)){var o="Î≥¥Ï∂©";return 1===e?o="Í∏∞Î≥∏":2===e&&(o="Ïã¨Ìôî"),d.createElement("span",{className:n?"on":"",onClick:this._click},o)}return d.createElement("span",{className:n?"on":"",onClick:this._click},e+1)}}]),n}(d.Component),E=function(t){a(n,t);var e=c(n);function n(t){var o;return r(this,n),(o=e.call(this,t)).c_popup="off",o._title="COMPREHENSION",o._tab="INTRODUCTION",o._tab_save="INTRODUCTION",o._hint=!1,o._view=!1,o._curQidx=0,o._viewClue=!1,o._viewTrans=!1,o._viewScript=!0,o._letstalk=!1,o._viewQuiz=!0,o._roll="",o._shadowing=!1,o._focusIdx=-1,o._isShadowPlay=!1,o._qselected=[],o._selected=[],o._lastFocusIdx=-1,o._countdown=new w.TimerState(3),o.onSend=function(){var t=o.props,e=(t.actions,t.state);if("COMPREHENSION"===o._title){if("CONFIRM"===o._tab&&0!==e.confirmProg)return;if("ADDITIONAL"===o._tab&&0!==e.additionalProg)return;if("DICTATION"===o._tab&&0!==e.dictationProg)return;if("SCRIPT"===o._tab&&0!==e.scriptProg)return}else if(0!==e.dialogueProg)return;b.App.pub_playToPad(),b.App.pub_reloadStudents((function(){var t;t={msgtype:"quiz_send"},g.sendPAD(10,t),o._setNavi()}))},o._onPopupSend=function(t){var e=o.props,n=e.state;e.actions;if("Q&A"===o.c_popup){if("COMPREHENSION"!==o._title)return;if(n.qnaProg>0)return;n.qnaProg=1,b.App.pub_playToPad();g.sendPAD(10,{msgtype:"qna_send"}),_.delay((function(){"COMPREHENSION"===o._title&&1===n.qnaProg&&(n.qnaProg=2)}),300)}else if("ROLE PLAY"===o.c_popup){if("DIALOGUE"!==o._title)return;if(2!==n.dialogueProg)return;if(""!==o._roll||""===t)return;o._lastFocusIdx=0,o._focusIdx=-1;var r={msgtype:"roll_send",roll:t};g.sendPAD(10,r),_.delay((function(){"DIALOGUE"===o._title&&2===n.dialogueProg&&(o._roll=t)}),300)}else if("SHADOWING"===o.c_popup){if("DIALOGUE"!==o._title)return;if(2!==n.dialogueProg)return;if(o._shadowing)return;o._lastFocusIdx=0,o._focusIdx=-1;g.sendPAD(10,{msgtype:"shadowing_send"}),_.delay((function(){"DIALOGUE"===o._title&&2===n.dialogueProg&&(o._shadowing=!0)}),300)}o.props.actions.setNavi(!1,!1)},o._goToIntro=function(){alert("go to Intro page"),o.props.actions.gotoDirection()},o._clickTranslate=function(){"COMPREHENSION"===o._title&&"SCRIPT"===o._tab&&(b.App.pub_playBtnTab(),o._viewTrans=!o._viewTrans)},o._clickClue=function(){if("COMPREHENSION"===o._title&&"SCRIPT"===o._tab){b.App.pub_playBtnTab();var t={msgtype:o._viewClue?"view_clue":"hide_clue"};g.sendPAD(10,t),o._viewClue=!o._viewClue}},o._onPage=function(t){var e=o.props.actions;b.App.pub_stop(),b.App.pub_playBtnTab(),"COMPREHENSION"===o._title&&(o._curQidx=t,e.setNavi("INTRODUCTION"!==o._tab||0!==o._curQidx,!0),o._hint="SCRIPT"===o._tab)},o._clickCompre=function(t){var e=o.props.actions;"COMPREHENSION"!==o._title&&("A"===o._roll||"B"===o._roll||o._shadowing||(b.App.pub_stop(),b.App.pub_playBtnTab(),o._clearAll(),o._tab="INTRODUCTION",o._title="COMPREHENSION","INTRODUCTION"===o._tab&&0===o._curQidx&&e.setNavi(!1,!0)))},o._clickIntroduction=function(t){var e=o.props,n=e.actions,r=e.state,i=r.questionProg,a=r.qnaProg;"COMPREHENSION"===o._title&&"INTRODUCTION"!==o._tab&&(2===i||1===i||a>=1||(b.App.pub_playBtnTab(),o._hint=!1,o._tab="INTRODUCTION",r.scriptProg>0&&(r.scriptProg=0,g.sendPAD(0,null),n.clearQnaReturns()),0===o._curQidx&&n.setNavi(!1,!0)))},o._clickConfirm=function(t){var e=o.props.actions,n=o.props.state,r=n.questionProg,i=n.qnaProg;"COMPREHENSION"===o._title&&"CONFIRM"!==o._tab&&(2===r||1===r||i>=1||(b.App.pub_stop(),b.App.pub_playBtnTab(),o._hint=!1,o._tab="CONFIRM",e.setNavi(!0,!0)))},o._clickAdditional=function(t){var e=o.props.actions,n=o.props.state,r=n.questionProg,i=n.qnaProg;"COMPREHENSION"===o._title&&"ADDITIONAL"!==o._tab&&(2===r||1===r||i>=1||(b.App.pub_stop(),b.App.pub_playBtnTab(),o._hint=!1,o._tab="ADDITIONAL",e.setNavi(!0,!0)))},o._clickDictation=function(t){var e=o.props.actions,n=o.props.state,r=n.questionProg,i=n.qnaProg;"COMPREHENSION"===o._title&&"DICTATION"!==o._tab&&(2===r||1===r||i>=1||(b.App.pub_stop(),b.App.pub_playBtnTab(),o._hint=!1,o._tab="DICTATION",e.setNavi(!0,!0)))},o._clickScript=function(t){var e=o.props.actions,n=o.props.state,r=n.questionProg,i=n.qnaProg;"COMPREHENSION"===o._title&&"SCRIPT"!==o._tab&&(2===r||1===r||i>=1||(b.App.pub_stop(),b.App.pub_playBtnTab(),o._hint=!1,o._tab="SCRIPT",e.setNavi(!0,!0)))},o._clickReturn=function(){var t=o.props.actions;b.App.pub_playBtnTab(),"COMPREHENSION"===o._title&&"INTRODUCTION"===o._tab?g.startStudentReportProcess(6,t.getReturnUsersForQuiz()):g.startStudentReportProcess(6,t.getReturnUsers())},o._clickPerson=function(t){b.App.pub_playBtnTab();var e=o.props.actions.getResult()[o._curQidx];e&&(1===t?g.startStudentReportProcess(6,e.u1):2===t?g.startStudentReportProcess(6,e.u2):3===t&&g.startStudentReportProcess(6,e.u3))},o._clickAnswer=function(){var t=o.props,e=t.state,n=t.actions,r=e.questionProg;if("COMPREHENSION"===o._title&&"INTRODUCTION"===o._tab&&2===r){b.App.pub_playBtnTab();g.sendPAD(10,{msgtype:"quiz_end"}),n.quizComplete(),o.props.actions.setNavi(!0,!0)}},o._onPopupClosed=function(){var t=o.props,e=t.state,n=t.actions;"COMPREHENSION"===o._title&&"SCRIPT"===o._tab&&0===e.qnaProg?n.setNavi(!0,!0):"DIALOGUE"!==o._title||""!==o._roll||o._shadowing||n.setNavi(!0,!0),o.c_popup="off"},o._letstalkClosed=function(){o._letstalk=!1,o.props.actions.setNaviView(!0)},o.m_data=t.actions.getData(),o}return i(n,[{key:"componentDidMount",value:function(){this.m_data=this.props.actions.getData()}},{key:"_clearAll",value:function(){var t=this.props.actions;b.App.pub_stop(),this._title="COMPREHENSION",this._tab="INTRODUCTION";for(var e=this.m_data.introduction,n=0;n<e.length;n++)this._qselected[n]=-1;this._curQidx=0,this._hint=!1,this.c_popup="off",this._viewClue=!1,this._viewTrans=!1,this._viewScript=!0,this._roll="",this._isShadowPlay=!1,this._shadowing=!1,this._lastFocusIdx=-1,this._focusIdx=-1,t.setNavi(!0,!0),t.init(),g.sendPAD(0,null)}},{key:"_sendFocusIdx",value:function(t){var e={msgtype:"focusidx",idx:t};g.sendPAD(10,e)}},{key:"_sendDialogueEnd",value:function(){g.sendPAD(10,{msgtype:"dialogue_end"})}},{key:"_setNavi",value:function(){var t=this,e=this.props,n=e.state,r=e.actions,o=n.questionProg,i=n.qnaProg;r.setNaviView(!0),0===this._curQidx&&"INTRODUCTION"===this._tab?r.setNavi(!1,!0):2===o?r.setNavi(0!==this._curQidx,this._curQidx!==this.m_data.introduction.length-1):r.setNavi(!0,!0),r.setNaviFnc((function(){if("COMPREHENSION"===t._title)"INTRODUCTION"===t._tab?0===t._curQidx?r.gotoDirection():(t._hint=!1,t._curQidx=t._curQidx-1,t._setNavi()):"CONFIRM"===t._tab?0===t._curQidx?(t._hint=!1,t._tab="INTRODUCTION",t._curQidx=t.m_data.introduction.length-1):(t._hint=!1,t._curQidx=t._curQidx-1,t._setNavi()):"ADDITIONAL"===t._tab?0===t._curQidx?(t._hint=!1,t._tab="CONFIRM",t._curQidx=t.m_data.introduction.length-1):(t._hint=!1,t._curQidx=t._curQidx-1,t._setNavi()):"DICTATION"===t._tab?0===t._curQidx?(t._hint=!1,t._tab="ADDITIONAL",t._curQidx=t.m_data.introduction.length-1):(t._hint=!1,t._curQidx=t._curQidx-1,t._setNavi()):"SCRIPT"===t._tab&&(0===t._curQidx?(t._hint=!1,t._tab="DICTATION",t._curQidx=t.m_data.introduction.length-1):(t._hint=!1,t._curQidx=t._curQidx-1,t._setNavi()));else{if("A"===t._roll||"B"===t._roll||t._shadowing)return;t._clearAll(),t._title="COMPREHENSION",t._tab="SCRIPT",t._curQidx=0}}),(function(){if("COMPREHENSION"===t._title)if("INTRODUCTION"===t._tab)if(t._curQidx===t.m_data.introduction.length-1){if(2===o||1===o||i>=1)return;t._hint=!1,t._tab="CONFIRM",t._curQidx=0}else t._hint=!1,t._curQidx=t._curQidx+1,t._setNavi();else if("CONFIRM"===t._tab)if(t._curQidx===t.m_data.introduction.length-1){if(2===o||1===o||i>=1)return;t._hint=!1,t._tab="ADDITIONAL",t._curQidx=0}else t._hint=!1,t._curQidx=t._curQidx+1,t._setNavi();else if("ADDITIONAL"===t._tab)if(t._curQidx===t.m_data.introduction.length-1){if(2===o||1===o||i>=1)return;t._hint=!1,t._tab="DICTATION",t._curQidx=0}else t._hint=!1,t._curQidx=t._curQidx+1,t._setNavi();else if("DICTATION"===t._tab)if(t._curQidx===t.m_data.introduction.length-1){if(2===o||1===o||i>=1)return;t._hint=!1,t._tab="SCRIPT",t._curQidx=0}else t._hint=!1,t._curQidx=t._curQidx+1,t._setNavi();else"SCRIPT"===t._tab&&t._curQidx!==t.m_data.introduction.length-1&&(t._hint=!1,t._curQidx=t._curQidx+1,t._setNavi());else r.gotoNextBook()}))}},{key:"componentDidUpdate",value:function(t){var e=this.props.view;e&&!t.view?(this._clearAll(),this._view=!0,this._setNavi(),this._letstalk=!1):!e&&t.view&&(this.c_popup="off",this._lastFocusIdx=-1,this._focusIdx=-1,this._roll="",this._isShadowPlay=!1,this._shadowing=!1,b.App.pub_stop())}},{key:"render",value:function(){var t=this,e=this.props,n=e.view,r=e.state,o=e.actions,i=r.questionProg,a=r.qnaProg,s=r.numOfStudent,c=r.retCnt,u=this.m_data.introduction,l=this.m_data.confirm_nomal,p=i>=3,f="COMPREHENSION"===this._title&&(1===i||2===i||a>=1)||"DIALOGUE"===this._title&&("A"===this._roll||"B"===this._roll||this._shadowing),_=o.getResult();p&&(s>0&&Math.round(100*_[this._curQidx].numOfCorrect/s));var m="COMPREHENSION"===this._title&&"INTRODUCTION"===this._tab,h="COMPREHENSION"===this._title&&"CONFIRM"===this._tab,b="COMPREHENSION"===this._title&&"ADDITIONAL"===this._tab,g="COMPREHENSION"===this._title&&"DICTATION"===this._tab,w="COMPREHENSION"===this._title&&"SCRIPT"===this._tab,E=!m&&h&&r.confirmProg<2||b&&r.additionalProg<2||g&&r.dictationProg<2||w&&r.scriptProg<2,R=m&&i>=2||w,k=m&&i>=2||w&&a>=2;return d.createElement("div",{className:"t_writing "+this._title,style:{}},d.createElement("div",{className:"close_box"},d.createElement(y.ToggleBtn,{className:"btn_intro",onClick:this._goToIntro})),d.createElement("div",{className:"btn_tabs"},d.createElement(y.ToggleBtn,{className:"btn_tab_introduction",onClick:this._clickIntroduction,on:"INTRODUCTION"===this._tab,disabled:"INTRODUCTION"===this._tab||f}),d.createElement(y.ToggleBtn,{className:"btn_tab_confirm",onClick:this._clickConfirm,on:"CONFIRM"===this._tab,disabled:"CONFIRM"===this._tab||f}),d.createElement(y.ToggleBtn,{className:"btn_tab_additional",onClick:this._clickAdditional,on:"ADDITIONAL"===this._tab,disabled:"ADDITIONAL"===this._tab||f}),d.createElement(y.ToggleBtn,{className:"btn_tab_dictation",onClick:this._clickDictation,on:"DICTATION"===this._tab,disabled:"DICTATION"===this._tab||f}),d.createElement(y.ToggleBtn,{className:"btn_tab_script",onClick:this._clickScript,on:"SCRIPT"===this._tab,disabled:"SCRIPT"===this._tab||f})),d.createElement("div",{className:"info_box"+(R?" on":"")},d.createElement("div",{className:"return_cnt_box white",style:{display:k?"":"none"},onClick:this._clickReturn},d.createElement("div",null,c,"/",s))),d.createElement("div",{className:"writing_content_box"},d.createElement("div",{className:"btn_page_box"},u.map((function(e,n){return d.createElement(P,{key:n,tab:t._tab,on:n===t._curQidx,idx:n,onClick:t._onPage})}))),d.createElement("div",{className:"question"+(i>=3?" complete":""),style:{display:"INTRODUCTION"===this._tab?"":"none"}},u.map((function(e,r){return d.createElement("div",{key:r,style:{display:r===t._curQidx?"":"none"}},d.createElement(O.default,{view:n&&r===t._curQidx,data:e,onClosed:t._letstalkClosed}))}))),d.createElement("div",{className:"question"+(i>=3?" complete":""),style:{display:"CONFIRM"===this._tab?"":"none"}},d.createElement("div",{key:1},d.createElement(S.default,{view:n&&1===this._curQidx,data:l[0],onClosed:this._letstalkClosed})))),d.createElement(v.default,{view:E,type:"teacher",sended:!1,originY:0,onSend:this.onSend}))}}]),n}(d.Component);f([h.observable],E.prototype,"c_popup",void 0),f([h.observable],E.prototype,"_title",void 0),f([h.observable],E.prototype,"_tab",void 0),f([h.observable],E.prototype,"_hint",void 0),f([h.observable],E.prototype,"_view",void 0),f([h.observable],E.prototype,"_curQidx",void 0),f([h.observable],E.prototype,"_viewClue",void 0),f([h.observable],E.prototype,"_viewTrans",void 0),f([h.observable],E.prototype,"_viewScript",void 0),f([h.observable],E.prototype,"_letstalk",void 0),f([h.observable],E.prototype,"_viewQuiz",void 0),f([h.observable],E.prototype,"_roll",void 0),f([h.observable],E.prototype,"_shadowing",void 0),f([h.observable],E.prototype,"_focusIdx",void 0),f([h.observable],E.prototype,"_isShadowPlay",void 0),f([h.observable],E.prototype,"_qselected",void 0),E=f([m.observer],E),e.default=E},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),p=n(1),f=n(2),d=n(33),_=n(7),m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(c,t);var e,n,a,s=i(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=s.call(this,t)).m_btnH=0,e.m_max=0,e.m_sy=-1,e.m_vy=-1,e.m_time=-1,e.m_bSend=!1,e.m_state={y:0,alpha:1,tDur:0,aDur:0,isOn:!1,disabled:!1},e._ref=function(t){if(!(e.m_max>0)&&t){t.setAttribute("touch-action","none");var n=window.getComputedStyle(t),r=_.nteFloat(n.height,0),o=_.nteFloat(n.bottom,0);r>0&&(e.m_btnH=r,e.m_max=r+o+10,e.props.view||(e.m_state.y=e.m_max))}},e._down=function(t){e.m_state.isOn||e.m_state.disabled||(e.m_state.y=e.props.originY,e.m_state.alpha=1,e.m_state.tDur=0,e.m_state.aDur=0,e.m_state.isOn=!0,e.m_vy=0,e.m_time=Date.now())},e._start=function(t,n){e.m_sy=n.y,e.m_bSend=!0},e._drag=function(t,n){if(e.m_state.isOn&&!e.m_state.disabled){var r=n.y-e.m_sy;"teacher"===e.props.type?(n.deltaY<-1?e.m_bSend=!1:n.deltaY>=0&&(e.m_bSend=!0),r<0&&(r=0)):(n.deltaY>1?e.m_bSend=!1:n.deltaY<=0&&(e.m_bSend=!0),r>0&&(r=0)),!1===e.props.preventDrag&&(e.m_state.y=r+e.props.originY);var o=Date.now();e.m_vy=n.deltaY/(o-e.m_time),e.m_time=o}},e._stop=function(t,n){if(e.m_state.isOn&&!e.m_state.disabled)if(e.m_bSend){var r=.5*e.m_vy*1e3,o=n.y-e.m_sy;"teacher"===e.props.type?(r<e.m_btnH?r=e.m_btnH:r>4*e.m_btnH&&(r=4*e.m_btnH),o<0&&(o=0)):(-1*r<e.m_btnH?r=-e.m_btnH:-1*r>4*e.m_btnH&&(r=-4*e.m_btnH),o>0&&(o=0)),e.m_state.tDur=.5,e.m_state.aDur=.5,e.m_state.alpha=0,e.m_state.y=o+r+e.props.originY,e.props.onSend()}else e.m_state.isOn=!1,e.m_state.tDur=.3,e.m_state.aDur=0,e.m_state.y=e.props.originY},t.sended?(e.m_state.alpha=0,e.m_state.disabled=!0):t.view?(e.m_state.y=t.originY,e.m_state.alpha=1,e.m_state.tDur=.3,e.m_state.aDur=0,e.m_state.isOn=!1,e.m_state.disabled=!1):t.view||(e.m_state.y=t.originY,e.m_state.alpha=0,e.m_state.tDur=.3,e.m_state.aDur=.3,e.m_state.isOn=!1,e.m_state.disabled=!0),e}return e=c,(n=[{key:"componentWillReceiveProps",value:function(t){t.sended&&!this.props.sended?(this.m_state.alpha=0,this.m_state.disabled=!0):t.view&&!this.props.view?(this.m_state.y=t.originY,this.m_state.alpha=1,t.preventUpWhenView?(this.m_state.tDur=0,this.m_state.aDur=.3):(this.m_state.tDur=.3,this.m_state.aDur=0),this.m_state.isOn=!1,this.m_state.disabled=!1):!t.view&&this.props.view?(this.m_state.y=this.m_max,this.m_state.alpha=0,this.m_state.tDur=.3,this.m_state.aDur=.3,this.m_state.isOn=!1,this.m_state.disabled=!0):!t.view||t.sended||this.m_state.isOn||t.originY===this.props.originY||(this.m_state.y=t.originY,this.m_state.tDur=.3,this.m_state.aDur=0)}},{key:"render",value:function(){var t=this.m_state,e=t.y,n=t.tDur,r=t.aDur,o=t.alpha,i=t.isOn,a=t.disabled,s={transform:"translateY(".concat(e,"px)"),transition:"transform ".concat(n,"s, opacity ").concat(r/2,"s ").concat(r/2,"s"),opacity:o,pointerEvents:a||!this.props.view?"none":"auto"},c=[];return"pad"===this.props.type?c.push("fel_toteacher"):c.push("fel_topad"),i&&c.push("on"),l.createElement(d.DraggableCore,{onMouseDown:this._down,onDrag:this._drag,onStart:this._start,onStop:this._stop},l.createElement("button",{ref:this._ref,className:c.join(" "),style:s}))}}])&&r(e.prototype,n),a&&r(e,a),c}(l.Component);u([p.observable],m.prototype,"m_state",void 0),m=u([f.observer],m),e.default=m},function(t,e){t.exports=ReactDraggable},function(t,e,n){"use strict";function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.CountDown2=e.Timer=e.TimerState=void 0;var d,_=n(0),m=n(1),h=n(2),v=n(4),y=n(3);!function(t){t[t.INIT=0]="INIT",t[t.RUNNING=1]="RUNNING",t[t.PAUSE=2]="PAUSE"}(d||(d={}));var b=function(){function t(e){var n=this;c(this,t),this.m_runState=0,this.m_max=60,this.m_playSound=!0,this.start=function(){n.m_runState=1},this.reset=function(){n.m_runState=0},this.pause=function(){n.m_runState=2},this.m_max=e}return l(t,[{key:"setPlaySound",value:function(t){this.m_playSound=t}},{key:"setMax",value:function(t){this.m_max=t}},{key:"runState",get:function(){return this.m_runState}},{key:"isRunning",get:function(){return 1===this.m_runState}},{key:"max",get:function(){return this.m_max}},{key:"playSound",get:function(){return this.m_playSound}}]),t}();function g(t,e,n,r){var o=(r-90)*Math.PI/180;return{x:t+n*Math.cos(o),y:e+n*Math.sin(o)}}function w(t,e,n,r,o){var i;if(o-r>=360)i=["M",t,e,"m",-n,0,"a",n,n,0,"1",0,2*n,0,"a",n,n,0,"1",0,2*-n,0].join(" ");else{var a=o-r<=180?"0":"1",s=g(t,e,n,o),c=g(t,e,n,r);i=["M",s.x,s.y,"A",n,n,0,a,0,c.x,c.y,"L",t,e,"L",s.x,s.y].join(" ")}return i}f([m.observable],b.prototype,"m_runState",void 0),f([m.computed],b.prototype,"runState",null),f([m.observable],b.prototype,"m_max",void 0),f([m.computed],b.prototype,"max",null),f([m.action],b.prototype,"start",void 0),f([m.action],b.prototype,"reset",void 0),f([m.action],b.prototype,"pause",void 0),e.TimerState=b;var O=function(t){r(n,t);var e=i(n);function n(t){var r;return c(this,n),(r=e.call(this,t)).m_runState=0,r.m_sec=0,r.m_stime=0,r.m_text="",r.m_d="",r._start=function(){r.m_sec=r.props.state.max,r.m_text=r._getTime(r.m_sec),r.m_d="",r.m_stime=Date.now(),r._run(0),r.props.onStart&&r.props.onStart()},r._run=function(t){if(r.props&&1===r.m_runState){var e=r.props.state.max,n=Date.now()-r.m_stime,o=e-Math.floor(n/1e3);r.m_sec!==o&&(r.m_text=r._getTime(o),0===o?r.props.state.playSound&&y.App.pub_playDingend():o<5?r.props.state.playSound&&y.App.pub_playDing():o>=5&&o<=10&&r.props.state.playSound&&y.App.pub_playClock()),r.m_sec=o,o>0?(r._drawArc(n),window.requestAnimationFrame(r._run)):(r._drawArc.cancel(),r.m_d=w(32,32,32,0,360),r.props.onComplete())}},r.m_text=r._getTime(r.props.state.max),r.m_d="",m.autorun((function(){if(r.props){var t=r.props.state,e=t.max;1===t.runState&&1!==r.m_runState?(r.m_runState=1,r._start()):0===t.runState&&(r.m_text=r._getTime(e),r.m_d=""),r.m_runState=t.runState}})),r._drawArc=v.throttle((function(t){if(r.props&&1===r.m_runState){var e=1e3*r.props.state.max,n=0;if(r.m_sec<=5){var o=t%1e3;n=0===t?0:0===o?1:o/1e3}else n=t/e;n*=360,r.m_d=w(32,32,32,0,n)}}),50,{trailing:!0}),r}return l(n,[{key:"_getTime",value:function(t){var e=Math.floor(t/60),n=t%60,r="";return r=e<10?"0"+e:""+e,r=n<10?r+":0"+n:r+":"+n}},{key:"render",value:function(){var t=this.m_sec<=5?"#f00":"#ff0";return _.createElement("div",{className:"q_timer",hidden:!this.props.view},_.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64"},_.createElement("path",{fill:t,d:this.m_d})),_.createElement("div",{className:"m_text"},this.m_text))}}]),n}(_.Component);f([m.observable],O.prototype,"m_text",void 0),f([m.observable],O.prototype,"m_d",void 0),O=f([h.observer],O),e.Timer=O;var S=-.5*Math.PI,P=function(t){r(n,t);var e=i(n);function n(t){var r;return c(this,n),(r=e.call(this,t)).m_runState=0,r.m_sec=0,r.m_stime=0,r.m_r=0,r.m_view=!1,r._start=function(){r.m_sec=r.props.state.max,r.m_stime=Date.now(),r._run(0),r.props.onStart&&r.props.onStart()},r._run=function(t){if(r.props&&1===r.m_runState){var e=Date.now()-r.m_stime,n=r.props.state.max-Math.floor(e/1e3);r.m_sec!==n&&(r.m_sec=n,0===n?(r.props.state.playSound&&y.App.pub_playDingend(),r.props.onComplete()):n<=5&&r.props.state.playSound&&y.App.pub_playDing()),n>0?(r._drawArc(e%1e3),window.requestAnimationFrame(r._run)):r._drawArc(1e3)}},r._refCanvas=function(t){!r.m_canvas&&t&&(r.m_canvas=t,r.m_r=t.width/2,r.m_ctx=t.getContext("2d"))},r._onTransEnd=function(){r.props.view||(r.m_view=!1)},r.m_sec=r.props.state.max,r.m_view=t.view,m.autorun((function(){if(r.props){var t=r.props.state;if(1===t.runState&&1!==r.m_runState)r.m_runState=1,r._start();else if(0===t.runState&&0!==r.m_runState&&(r.m_sec=t.max,r.m_ctx)){var e=r.m_r;r.m_ctx.clearRect(0,0,2*e,2*e)}r.m_runState=t.runState}})),r._drawArc=v.throttle((function(t){if(r.m_canvas&&r.props&&1===r.m_runState){var e=2*Math.PI*t/1e3,n=r.m_r;r.m_ctx.clearRect(0,0,2*n,2*n),r.m_ctx.beginPath(),r.m_ctx.fillStyle="#5538EB",r.m_ctx.moveTo(n,n),r.m_ctx.arc(n,n,n,S,e+S),r.m_ctx.fill()}}),50),r}return l(n,[{key:"componentDidUpdate",value:function(t){t.view!==this.props.view&&this.props.view&&(this.m_view=!0)}},{key:"render",value:function(){return _.createElement("div",{className:"countdown2 "+(this.m_view?"":"hide")},_.createElement("div",{className:"countdown "+(this.props.view?"view":"hide"),onTransitionEnd:this._onTransEnd},_.createElement("canvas",{width:"206px",height:"206px",ref:this._refCanvas}),_.createElement("div",null,_.createElement("div",null,this.m_sec))))}}]),n}(_.Component);f([m.observable],P.prototype,"m_sec",void 0),f([m.observable],P.prototype,"m_view",void 0),P=f([h.observer],P),e.CountDown2=P},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),p=n(4),f=n(2),d=n(1),_=n(6),m=n(3),h=n(9),v=n(10).default,y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(c,t);var e,n,a,s=i(c);function c(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=s.call(this,t))._view=!1,e._hint=!1,e._zoom=!1,e._zoomImgUrl="",e._soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},e._viewHint=function(){m.App.pub_playBtnTab(),e._hint=!e._hint,e._swiper&&(e._swiper.slideTo(0,0),e._swiper.update(),e._swiper.scrollbar&&e._swiper.scrollbar.updateSize()),p.delay((function(){e._swiper&&(e._swiper.slideTo(0,0),e._swiper.update(),e._swiper.scrollbar&&e._swiper.scrollbar.updateSize())}),300)},e._refSwiper=function(t){!e._swiper&&t&&(e._swiper=t.swiper)},e._refAudio=function(t){!e._btnAudio&&t&&(e._btnAudio=t)},e._onClick=function(){e._btnAudio&&e._btnAudio.toggle()},e._jsx_sentence=h._getJSX(t.data.questions),e._jsx_hint=h._getJSX(t.data.ex_answer);var n=Math.floor(3*Math.random());return e._character=0===n?"/content/digenglish_lib/B/ls_writing/teacher/images/letstalk_bear.png":1===n?"/content/digenglish_lib/B/ls_writing/teacher/images/letstalk_boy.png":"/content/digenglish_lib/B/ls_writing/teacher/images/letstalk_girl.png",e}return e=c,(n=[{key:"componentDidUpdate",value:function(t){var e=this;this.props.view&&!t.view?(this._view=!0,this._hint=!1,this._zoom=!1,this._zoomImgUrl="",this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize()),p.delay((function(){e._swiper&&(e._swiper.slideTo(0,0),e._swiper.update(),e._swiper.scrollbar&&e._swiper.scrollbar.updateSize())}),300)):!this.props.view&&t.view&&(this._view=!1,this._zoom=!1,this._zoomImgUrl="",m.App.pub_stop())}},{key:"render",value:function(){var t=this.props.data;return l.createElement(l.Fragment,null,l.createElement("div",{className:"question_bg",style:{display:this._view?"":"none"}},l.createElement(_.ToggleBtn,{className:"btn_hint",on:this._hint,onClick:this._viewHint}),l.createElement("div",{className:"popbox"},l.createElement("div",{className:"image_box"},l.createElement("img",{src:m.App.data_url+t.img,draggable:!1})),l.createElement("div",{className:"speechbubble_box"},l.createElement("div",null,l.createElement("div",{className:"balloon"+(this._hint?" view-hint":"")},l.createElement("div",{className:"sentence_box"},l.createElement("div",null,l.createElement("div",{className:"question_box",onClick:this._onClick},this._jsx_sentence))),l.createElement(v,Object.assign({},this._soption,{ref:this._refSwiper}),l.createElement("div",null,l.createElement("div",{className:"sample"+(this._hint?" hide":"")}),l.createElement("div",{className:"hint"+(this._hint?"":" hide")},this._jsx_hint)))))))))}}])&&r(e.prototype,n),a&&r(e,a),c}(l.Component);u([d.observable],y.prototype,"_view",void 0),u([d.observable],y.prototype,"_hint",void 0),u([d.observable],y.prototype,"_zoom",void 0),u([d.observable],y.prototype,"_zoomImgUrl",void 0),y=u([f.observer],y),e.default=y},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),p=n(4),f=n(2),d=n(1),_=n(6),m=n(3),h=n(9),v=n(10).default,y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(c,t);var e,n,a,s=i(c);function c(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=s.call(this,t))._view=!1,e._hint=!1,e._trans=!1,e._zoom=!1,e._zoomImgUrl="",e._soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},e._viewTrans=function(){m.App.pub_playBtnTab(),e._trans=!e._trans,e._trans&&(e._trans=!0),e._swiper&&(e._swiper.slideTo(0,0),e._swiper.update(),e._swiper.scrollbar&&e._swiper.scrollbar.updateSize()),p.delay((function(){e._swiper&&(e._swiper.slideTo(0,0),e._swiper.update(),e._swiper.scrollbar&&e._swiper.scrollbar.updateSize())}),300)},e._viewHint=function(){m.App.pub_playBtnTab(),e._hint=!e._hint,e._swiper&&(e._swiper.slideTo(0,0),e._swiper.update(),e._swiper.scrollbar&&e._swiper.scrollbar.updateSize()),p.delay((function(){e._swiper&&(e._swiper.slideTo(0,0),e._swiper.update(),e._swiper.scrollbar&&e._swiper.scrollbar.updateSize())}),300)},e._refSwiper=function(t){!e._swiper&&t&&(e._swiper=t.swiper)},e._refAudio=function(t){!e._btnAudio&&t&&(e._btnAudio=t)},e._onClick=function(){e._btnAudio&&e._btnAudio.toggle()},e._jsx_sentence=h._getJSX(t.data.directive.kor),e._jsx_eng_sentence=h._getJSX(t.data.directive.eng),e._jsx_hint1=t.data.item1.answer,e._jsx_hint2=t.data.item2.answer,e._jsx_hint3=t.data.item3.answer;var n=Math.floor(3*Math.random());return e._character=0===n?"/content/digenglish_lib/B/ls_writing/teacher/images/letstalk_bear.png":1===n?"/content/digenglish_lib/B/ls_writing/teacher/images/letstalk_boy.png":"/content/digenglish_lib/B/ls_writing/teacher/images/letstalk_girl.png",e}return e=c,(n=[{key:"componentDidUpdate",value:function(t){var e=this;this.props.view&&!t.view?(this._view=!0,this._hint=!1,this._trans=!1,this._zoom=!1,this._zoomImgUrl="",this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize()),p.delay((function(){e._swiper&&(e._swiper.slideTo(0,0),e._swiper.update(),e._swiper.scrollbar&&e._swiper.scrollbar.updateSize())}),300)):!this.props.view&&t.view&&(this._view=!1,this._zoom=!1,this._zoomImgUrl="",m.App.pub_stop())}},{key:"render",value:function(){var t=this.props.data,e=this._trans?this._jsx_eng_sentence:this._jsx_sentence;return l.createElement(l.Fragment,null,l.createElement("div",{className:"question_bg",style:{display:this._view?"":"none"}},l.createElement(_.ToggleBtn,{className:"btn_hint",on:this._hint,onClick:this._viewHint}),l.createElement("div",{className:"quiz_box"},l.createElement("div",{className:"white_board"},l.createElement(_.ToggleBtn,{className:"btn_trans",on:this._trans,onClick:this._viewTrans}),l.createElement("div",{className:"sentence_box"},l.createElement("div",null,l.createElement("div",{className:"question_box",onClick:this._onClick},e))),l.createElement("div",{className:"image_box"},l.createElement("img",{src:m.App.data_url+t.item1.img,draggable:!1}),l.createElement("img",{src:m.App.data_url+t.item2.img,draggable:!1}),l.createElement("img",{src:m.App.data_url+t.item3.img,draggable:!1}))),l.createElement("div",{className:"speechbubble_box"},l.createElement("div",{className:this._hint?" view-hint":""},l.createElement(v,Object.assign({},this._soption,{ref:this._refSwiper}),l.createElement("div",null,l.createElement("div",{className:"sample"+(this._hint?" hide":"")}),l.createElement("div",{className:"hint"+(this._hint?"":" hide")},this._jsx_hint1,",",this._jsx_hint2,",",this._jsx_hint3))))))))}}])&&r(e.prototype,n),a&&r(e,a),c}(l.Component);u([d.observable],y.prototype,"_view",void 0),u([d.observable],y.prototype,"_hint",void 0),u([d.observable],y.prototype,"_trans",void 0),u([d.observable],y.prototype,"_zoom",void 0),u([d.observable],y.prototype,"_zoomImgUrl",void 0),y=u([f.observer],y),e.default=y},function(t,e,n){}]);