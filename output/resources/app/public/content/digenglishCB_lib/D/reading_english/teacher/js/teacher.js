!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=25)}([function(e,t){e.exports=React},function(e,t){e.exports=mobxReact},function(e,t){e.exports=mobx},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var o=n(14),i=n(7);function s(e){if(!e)return e;e.displayMode=""+e.displayMode=="2"?"2":"1";var t=e.thumb?e.thumb:"";return(t.startsWith("static/")||""===t)&&(t=t.endsWith("w.jpg")?"".concat("/content/digenglishCB_lib/","/images/default_member_w.jpg"):"".concat("/content/digenglishCB_lib/","/images/default_member_m.jpg")),e.thumb=t,e}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"pub_init",value:function(){var t=navigator.userAgent;e._isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t)||/android/i.test(t),e._tempBnd=document.createElement("div"),e._tempBnd.style.display="none",e._tempEl=document.createElement("div"),e._tempBnd.appendChild(e._tempEl),null===document.body?document.addEventListener("DOMContentLoaded",(function(t){document.body.appendChild(e._tempBnd)})):document.body.appendChild(e._tempBnd)}},{key:"pub_load",value:function(t,n,r,o,i,a){e._lesson=o,e._book=r,e._nextBook=i,e._prevBook=a,e._students=[],t&&t.forEach((function(t,n){e._students[n]=s(t)})),e._student=s(n)}},{key:"pub_reloadStudents",value:function(t){i.getStudents((function(n,r){for(;e._students.length>0;)e._students.pop();for(;e._students_inited.length>0;)e._students_inited.pop();for(var o=0,i=n.length;o<i;o++)e.isDvlp?e._students[o]=s(n[o]):e._students[o]=s({id:n[o].id,name:n[o].name,thumb:n[o].defaultThumbnail,avatar:n[o].profileThumbnail,nickname:n[o].nickName,displayMode:n[o].displayMode,inited:!0}),e._students_inited.push(n[o].id);t()}))}},{key:"pub_parseStyle",value:function(t){return e._tempEl.style.cssText=t,e._tempEl.style}},{key:"pub_initAudio",value:function(){e._common_audio=document.getElementById("common_audio"),e._ding_audio=document.getElementById("ding_audio"),e._dingend_audio=document.getElementById("dingend_audio"),e._btn_audio=document.getElementById("btn_audio"),e._correct_audio=document.getElementById("correct_audio"),e._wrong_audio=document.getElementById("wrong_audio"),e._topad_audio=document.getElementById("topad_audio"),e._goodjob_audio=document.getElementById("goodjob_audio"),e._btn_back_audio=document.getElementById("btn_back_audio"),e._btn_page_audio=document.getElementById("btn_page_audio"),e._card_audio=document.getElementById("card_audio"),e._popup_audio=document.getElementById("popup_audio"),e._flips_audio=document.getElementById("card_flips"),e._clock_audio=document.getElementById("clock_audio"),e._write_audio=document.getElementById("write_audio"),e._like_bubble_audio=document.getElementById("like_bubble"),e._all_btn_click_audio=document.getElementById("all_btn_click")}},{key:"pub_playAllBtnClick",value:function(){e._all_btn_click_audio&&(e._all_btn_click_audio.currentTime=0,e._all_btn_click_audio.play())}},{key:"pub_playLikeBubble",value:function(){e._like_bubble_audio&&(e._like_bubble_audio.currentTime=0,e._like_bubble_audio.play())}},{key:"pub_playWrite",value:function(){e._write_audio&&(e._write_audio.currentTime=0,e._write_audio.play())}},{key:"pub_playClock",value:function(){e._clock_audio&&(e._clock_audio.currentTime=4.5,e._clock_audio.play())}},{key:"pub_playFlips",value:function(){e._flips_audio&&(e._flips_audio.currentTime=0,e._flips_audio.play())}},{key:"pub_playPopup",value:function(){e._popup_audio&&(e._popup_audio.currentTime=0,e._popup_audio.play())}},{key:"pub_playCard",value:function(){e._card_audio&&(e._card_audio.currentTime=0,e._card_audio.play())}},{key:"pub_playBtnPage",value:function(){e._btn_page_audio&&(e._btn_page_audio.currentTime=0,e._btn_page_audio.play())}},{key:"pub_playBtnBack",value:function(){e._btn_back_audio&&(e._btn_back_audio.currentTime=0,e._btn_back_audio.play())}},{key:"pub_playGoodjob",value:function(){e._goodjob_audio&&(e._goodjob_audio.currentTime=0,e._goodjob_audio.play())}},{key:"pub_playDing",value:function(){e._ding_audio&&(e._ding_audio.currentTime=0,e._ding_audio.play())}},{key:"pub_playDingend",value:function(){e._dingend_audio&&(e._dingend_audio.currentTime=0,e._dingend_audio.play())}},{key:"pub_playToPad",value:function(){e._topad_audio&&(e._topad_audio.currentTime=0,e._topad_audio.play())}},{key:"pub_playBtnTab",value:function(){e._btn_audio&&(e._btn_audio.currentTime=0,e._btn_audio.play())}},{key:"pub_playCorrect",value:function(){e._correct_audio&&(e._correct_audio.currentTime=0,e._correct_audio.play())}},{key:"pub_playWrong",value:function(){e._wrong_audio&&(e._wrong_audio.currentTime=0,e._wrong_audio.play())}},{key:"pub_playStudentBubble",value:function(){var e=document.getElementById("student_bubble");e&&(e.currentTime=0,e.paused&&e.play())}},{key:"pub_stop",value:function(){null!=e._common_audio.onended&&e._common_audio.onended.call(e._common_audio,new Event("ended")),e._common_audio.oncanplaythrough=null,isNaN(e._common_audio.duration)||e._common_audio.paused||e._common_audio.pause()}},{key:"pub_play",value:function(t,n){e.pub_stop(),t=o.nteString(t,"");var r=o.nteString(e._common_audio.getAttribute("src"),"");if(""!==t||""!==r){""!==t&&r!==t&&(e._common_audio.src=t);var i=function t(r){e._common_audio.onended=null,null!==n&&n(!0),e._common_audio.removeEventListener("error",t)};e._common_audio.onended=function(t){e._common_audio.onended=null,null!==n&&n(!!t),e._common_audio.removeEventListener("error",i)},e._common_audio.addEventListener("error",i),isNaN(e._common_audio.duration)?(e._common_audio.oncanplaythrough=function(t){0!==e._common_audio.currentTime&&(e._common_audio.currentTime=0),e._common_audio.play(),e._common_audio.oncanplaythrough=null},e._common_audio.load()):(0!==e._common_audio.currentTime&&(e._common_audio.currentTime=0),e._common_audio.oncanplaythrough=null,e._common_audio.play())}else null!=n&&n(!0)}},{key:"pub_set",value:function(t,n,r){e._isDvlp=n,e._lang=r,i.set(n)}},{key:"pub_addInitedStudent",value:function(t){for(var n=!0,r=0,o=e._students_inited.length;r<o;r++)e._students_inited[r]===t.id&&(n=!1);n&&e._students_inited.push(t.id);var i=e._start_idx>0&&e._students.length>0&&e._students_inited.length>=e._students.length;return i&&(window.clearTimeout(e._start_idx),e._start_idx=-1),i}},{key:"pub_start",value:function(t){0===e._students.length||e._students_inited.length>=e._students.length?t():e._start_idx=window.setTimeout(t,2e3)}},{key:"pub_clear",value:function(){for(;e._students.length>0;)e._students.pop();for(;e._students_inited.length>0;)e._students_inited.pop()}},{key:"isMobile",get:function(){return e._isMobile}},{key:"tempEl",get:function(){return e._tempEl}},{key:"students",get:function(){return e._students}},{key:"student",get:function(){return e._student}},{key:"lang",get:function(){return e._lang}},{key:"isDvlp",get:function(){return e._isDvlp}},{key:"data_url",get:function(){return e._data_url}},{key:"lesson",get:function(){return e._lesson}},{key:"book",get:function(){return e._book}},{key:"nextBook",get:function(){return e._nextBook}},{key:"prevBook",get:function(){return e._prevBook}}],(n=null)&&r(t.prototype,n),a&&r(t,a),e}();t.App=a,a._isMobile=!1,a._students=[],a._students_inited=[],a._student=null,a._lang="ko",a._isDvlp=!1,a._data_url="../data/",a._lesson="",a._book="",a._nextBook=!1,a._prevBook=!1,a._start_idx=-1,a.isStarted=!1},function(e,t,n){"use strict";function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":_(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ImgBtn=t.AudioBtn=t.ToggleBtn=void 0;var m=n(0),h=n(2),y=n(1),v=function(e){a(n,e);var t=c(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).m_pID=-1,r._inited=r._inited.bind(p(r)),r._onClick=r._onClick.bind(p(r)),r}return s(n,[{key:"_inited",value:function(e){var t=this;!this.m_el&&e&&(this.m_el=e,this.props.onRef&&this.props.onRef(e),e.setAttribute("touch-action","none"),e.addEventListener("pointerdown",(function(n){if(!(t.m_pID>=0)){if(t.m_pID=n.pointerId,!t.props.disableCapture)try{e.setPointerCapture(t.m_pID)}catch(e){}t.props.onMouseDown&&t.props.onMouseDown(n)}})),e.addEventListener("pointerup",(function(n){if(t.m_pID===n.pointerId){try{e.releasePointerCapture(t.m_pID)}catch(e){}t.m_pID=-1,t.props.onMouseUp&&t.props.onMouseUp(n)}})),e.addEventListener("pointerleave",(function(n){if(t.props.disableCapture){if(t.m_pID!==n.pointerId)return;try{e.releasePointerCapture(t.m_pID)}catch(e){}t.m_pID=-1}t.props.onMouseLeave&&t.props.onMouseLeave(n)})),e.addEventListener("pointercancel",(function(n){if(t.m_pID===n.pointerId){try{e.releasePointerCapture(t.m_pID)}catch(e){}t.m_pID=-1,t.props.onMouseLeave&&t.props.onMouseLeave(n)}})))}},{key:"_onClick",value:function(e){this.props.onClick&&this.props.onClick(e),this.props.preventEvent&&(e.preventDefault(),e.stopPropagation())}},{key:"componentDidUpdate",value:function(e){if((this.props.disabled&&!e.disabled||!this.props.view&&e.view)&&this.m_pID>=0){try{this.m_el&&this.m_el.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1}}}]),n}(m.Component);d([h.observable],v.prototype,"m_pID",void 0);var b=function(e){a(n,e);var t=c(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).m_on=!1,r.m_on=!0===e.on,r}return s(n,[{key:"componentWillReceiveProps",value:function(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}},{key:"render",value:function(){var e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down");var t=e.join(" "),n=this.props.style;return!1===this.props.view&&(n||(n={}),n.display="none"),m.createElement("button",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,disabled:!0===this.props.disabled,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:n},this.props.children)}}]),n}(v);d([h.observable],b.prototype,"m_on",void 0),b=d([y.observer],b),t.ToggleBtn=b;var g=function(e){a(n,e);var t=c(n);function n(e){return o(this,n),t.call(this,e)}return s(n,[{key:"play",value:function(){var e=this;this.m_on||(this.m_on=!0,this.props.playFnc(this.props.src,(function(t){e.m_on&&(e.m_on=!1,e.props.onPause&&e.props.onPause(t))})))}},{key:"_onClick",value:function(e){this.m_on?(this.props.pauseFnc(),this.m_on=!1):this.play(),r(f(n.prototype),"_onClick",this).call(this,e)}}]),n}(b);d([h.action],g.prototype,"play",null),d([h.action],g.prototype,"_onClick",null),g=d([y.observer],g),t.AudioBtn=g;var w=function(e){a(n,e);var t=c(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).m_on=!1,r.m_on=!0===e.on,r}return s(n,[{key:"componentWillReceiveProps",value:function(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}},{key:"render",value:function(){var e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down"),!0===this.props.disabled&&e.push("disable");var t=e.join(" "),n=this.props.style;return!1===this.props.view&&(n||(n={}),n.display="none"),m.createElement("img",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:n,src:this.props.src,useMap:this.props.useMap})}}]),n}(v);d([h.observable],w.prototype,"m_on",void 0),w=d([y.observer],w),t.ImgBtn=w},function(e,t,n){e.exports=n(45)()},function(e,t){e.exports=_},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPreviewResultMember=t.getPreviewResultClass=t.getPreviewDmsResult=t.getPreviewResult=t.uploadInclassReport=t.stopVideoRecord=t.startVideoRecord=t.switchCamera=t.stopCamera=t.startCustomCamera=t.startCamera=t.getStudents=t.uploadImageToServer=t.uploadFileToServer=t.stopVoiceRecord=t.startVoiceRecord=t.sendTeacher=t.disableSoftwareKeyboard=t.sendPAD=t.sendPADToID=t.sendLauncher=t.uploadStudentReport=t.addStudentForStudentReportType6=t.hideStudentReportListPage=t.showStudentReportListPage=t.showStudentReportUI=t.hideStudentReportUI=t.startStudentReportProcess=t.finishContentPage=t.set=void 0;var o=n(6),i=!1;t.set=function(e){i=e},t.finishContentPage=function(){if(!i)try{window.tsoc_o.finishContentPage()}catch(e){}},t.startStudentReportProcess=function(e,t,n){if(!i)try{window.tsoc_o.startStudentReportProcess(e,t,n)}catch(e){}},t.hideStudentReportUI=function(){if(!i)try{window.tsoc_o.hideStudentReportUI()}catch(e){}},t.showStudentReportUI=function(){if(!i)try{window.tsoc_o.showStudentReportUI()}catch(e){}},t.showStudentReportListPage=function(){if(!i)try{window.tsoc_o.showStudentReportListPage()}catch(e){}},t.hideStudentReportListPage=function(){if(!i)try{window.tsoc_o.hideStudentReportListPage()}catch(e){}},t.addStudentForStudentReportType6=function(e){if(!i)try{window.tsoc_o.addStudentForStudentReportType6(e)}catch(e){}},t.uploadStudentReport=function(e,t,n){if(!i)try{window.psoc_o.uploadStudentReport(e,t,n)}catch(e){}},t.sendLauncher=function(e,t){if(5!==e||i)if(6!==e||i)if(7!==e||i){if(8===e)if(i)try{window.top.tsoc_o.gotoPrevBook()}catch(e){}else try{window.tsoc_o.gotoPrevBook()}catch(e){}else if(9===e)if(i)try{window.top.tsoc_o.gotoNextBook()}catch(e){}else try{window.tsoc_o.gotoNextBook()}catch(e){}}else try{window.tsoc_o.setTitleBar(t)}catch(e){}else try{window.tsoc_o.showTitleBar()}catch(e){}else try{window.tsoc_o.hideTitleBar()}catch(e){}},t.sendPADToID=function(e,t,n){var r={type:t,data:n};if(i)try{window.top.tsoc_o.sendPADToID(e,r)}catch(e){}else try{window.tsoc_o.sendPADToID(e,r)}catch(e){}},t.sendPAD=function(e,t){var n={type:e,data:t};if(i)try{window.top.tsoc_o.sendAll(n)}catch(e){}else try{window.tsoc_o.sendAll(n)}catch(e){}},t.disableSoftwareKeyboard=function(){try{window.psoc_o.disableSoftwareKeyboard()}catch(e){}},t.sendTeacher=function(e,t){var n={type:e,data:t};if(i)try{window.opener.tsoc_o.sendTeacher(n)}catch(e){}else try{window.psoc_o.sendTeacher(n)}catch(e){}},t.startVoiceRecord=function(){try{window.psoc_o.startVoiceRecord()}catch(e){}},t.stopVoiceRecord=function(){try{window.psoc_o.stopVoiceRecord()}catch(e){}},t.uploadFileToServer=function(e){try{window.psoc_o.uploadFileToServer(e)}catch(e){}},t.uploadImageToServer=function(e){try{window.psoc_o.uploadImageToServer(e)}catch(e){}},t.getStudents=function(e){if(i)if(window.top.tsoc_o)try{window.top.tsoc_o.getStudents(e)}catch(e){}else e([],!1);else try{window.tsoc_o.getStudents(e)}catch(e){}},t.startCamera=function(){if(!i)try{window.psoc_o.startCamera()}catch(e){}},t.startCustomCamera=function(e){if(!i)try{window.psoc_o.startCustomCamera(e)}catch(e){}},t.stopCamera=function(){if(!i)try{window.psoc_o.stopCamera()}catch(e){}},t.switchCamera=function(){if(!i)try{window.psoc_o.switchCamera()}catch(e){}},t.startVideoRecord=function(){if(!i)try{window.psoc_o.startVideoRecord()}catch(e){}},t.stopVideoRecord=function(){if(!i)try{window.psoc_o.stopVideoRecord()}catch(e){}},t.uploadInclassReport=function(e){if(!i)try{window.tsoc_o.uploadInclassReport(e)}catch(e){}},t.getPreviewResult=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i)t([]);else{var n=!1;window.tsoc_o.getPreviewResult((function(e){n||(n=!0,t(e))}),e),o.delay((function(){n||(n=!0,t([]))}),5e3)}})));case 1:case"end":return t.stop()}}),t)})))},t.getPreviewDmsResult=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i)t([]);else{var n=!1;window.tsoc_o.getPreviewDmsResult((function(e){n||(n=!0,t(e))}),e),o.delay((function(){n||(n=!0,t([]))}),5e3)}})));case 1:case"end":return t.stop()}}),t)})))},t.getPreviewResultClass=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i)t([]);else{var n=!1;window.tsoc_o.getPreviewResultClass((function(e){n||(n=!0,t(e))}),e),o.delay((function(){n||(n=!0,t([]))}),5e3)}})));case 1:case"end":return t.stop()}}),t)})))},t.getPreviewResultMember=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i)t([]);else{var n=!1;window.tsoc_o.getPreviewResultMember((function(e){n||(n=!0,t(e))}),e),o.delay((function(){n||(n=!0,t([]))}),5e3)}})));case 1:case"end":return t.stop()}}),t)})))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CoverPopup=void 0;var _=n(0),d=n(2),m=n(1),h=n(9),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(l,e);var t,n,a,c=s(l);function l(){var e;return r(this,l),(e=c.apply(this,arguments)).m_state="closed",e._open=function(){return f(u(e),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("closed"!==this.m_state){e.next=5;break}return this.m_state="opening",e.next=4,h.wait(100);case 4:this.m_state="open";case 5:case"end":return e.stop()}}),e,this)})))},e._close=function(){return f(u(e),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("open"!==this.m_state){e.next=6;break}return this.m_state="closing",e.next=4,h.wait(400);case 4:this.props.onClosed(),this.m_state="closed";case 6:case"end":return e.stop()}}),e,this)})))},e}return t=l,(n=[{key:"componentDidUpdate",value:function(e){this.props.view!==e.view&&(this.props.view?this._open():this._close())}},{key:"render",value:function(){return _.createElement("div",{className:this.props.className+" "+this.m_state},this.props.children)}}])&&o(t.prototype,n),a&&o(t,a),l}(_.Component);p([d.observable],y.prototype,"m_state",void 0),y=p([m.observer],y),t.CoverPopup=y},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getBounds=t.getTimeStr=t.wait=void 0;var o=n(6);t.wait=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){o.delay(t,e)})));case 1:case"end":return t.stop()}}),t)})))},t.getTimeStr=function(e,t){var n=Math.round(t/1e3),r=Math.round(e/1e3),o=Math.floor(r/60),i=Math.floor(o/60),s="";return o%=60,i>0||n>=3600?(s=i+":",s+=o>=10?o+":":"0"+o+":"):n>=600?s+=o>=10?o+":":"0"+o+":":s=o+":",s+=(r%=60)>=10?r:"0"+r},t.getBounds=function(e){var t={left:0,top:0,width:0,height:0};if(!e)return t;try{var n=e.getBoundingClientRect();t.left=n.left,t.top=n.top,t.width=n.width,t.height=n.height}catch(e){}var r=e.ownerDocument,o=r.body,i=r.documentElement;t.left=t.left-(i.clientLeft||o.clientLeft||0),t.top=t.top-(i.clientTop||o.clientTop||0);var s=r.defaultView;return t.left+=s.pageXOffset||i.scrollLeft||o.scrollLeft,t.top+=s.pageYOffset||i.scrollTop||o.scrollTop,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HIDE_ANI=t.NONE=t.HIDE=void 0;t.HIDE={opacity:0,pointerEvents:"none"};t.HIDE_ANI={opacity:0,pointerEvents:"none",transitionProperty:"opacity",transitionDuration:"0.6s"};t.NONE={display:"none"}},function(e,t){e.exports=ReactIdSwiper},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(2),f=n(1),_=n(20),d=n(14),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,n,s,a=i(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).m_btnH=0,t.m_max=0,t.m_sy=-1,t.m_vy=-1,t.m_time=-1,t.m_bSend=!1,t.m_state={y:0,alpha:1,tDur:0,aDur:0,isOn:!1,disabled:!1},t._ref=function(e){if(!(t.m_max>0)&&e){e.setAttribute("touch-action","none");var n=window.getComputedStyle(e),r=d.nteFloat(n.height,0),o=d.nteFloat(n.bottom,0);r>0&&(t.m_btnH=r,t.m_max=r+o+10,t.props.view||(t.m_state.y=t.m_max))}},t._down=function(e){t.m_state.isOn||t.m_state.disabled||(t.m_state.y=t.props.originY,t.m_state.alpha=1,t.m_state.tDur=0,t.m_state.aDur=0,t.m_state.isOn=!0,t.m_vy=0,t.m_time=Date.now())},t._start=function(e,n){t.m_sy=n.y,t.m_bSend=!0},t._drag=function(e,n){if(t.m_state.isOn&&!t.m_state.disabled){var r=n.y-t.m_sy;"teacher"===t.props.type?(n.deltaY<-1?t.m_bSend=!1:n.deltaY>=0&&(t.m_bSend=!0),r<0&&(r=0)):(n.deltaY>1?t.m_bSend=!1:n.deltaY<=0&&(t.m_bSend=!0),r>0&&(r=0)),!1===t.props.preventDrag&&(t.m_state.y=r+t.props.originY);var o=Date.now();t.m_vy=n.deltaY/(o-t.m_time),t.m_time=o}},t._stop=function(e,n){if(t.m_state.isOn&&!t.m_state.disabled)if(t.m_bSend){var r=.5*t.m_vy*1e3,o=n.y-t.m_sy;"teacher"===t.props.type?(r<t.m_btnH?r=t.m_btnH:r>4*t.m_btnH&&(r=4*t.m_btnH),o<0&&(o=0)):(-1*r<t.m_btnH?r=-t.m_btnH:-1*r>4*t.m_btnH&&(r=-4*t.m_btnH),o>0&&(o=0)),t.m_state.tDur=.5,t.m_state.aDur=.5,t.m_state.alpha=0,t.m_state.y=o+r+t.props.originY,t.props.onSend()}else t.m_state.isOn=!1,t.m_state.tDur=.3,t.m_state.aDur=0,t.m_state.y=t.props.originY},e.sended?(t.m_state.alpha=0,t.m_state.disabled=!0):e.view?(t.m_state.y=e.originY,t.m_state.alpha=1,t.m_state.tDur=.3,t.m_state.aDur=0,t.m_state.isOn=!1,t.m_state.disabled=!1):e.view||(t.m_state.y=e.originY,t.m_state.alpha=0,t.m_state.tDur=.3,t.m_state.aDur=.3,t.m_state.isOn=!1,t.m_state.disabled=!0),t}return t=u,(n=[{key:"componentWillReceiveProps",value:function(e){e.sended&&!this.props.sended?(this.m_state.alpha=0,this.m_state.disabled=!0):e.view&&!this.props.view?(this.m_state.y=e.originY,this.m_state.alpha=1,e.preventUpWhenView?(this.m_state.tDur=0,this.m_state.aDur=.3):(this.m_state.tDur=.3,this.m_state.aDur=0),this.m_state.isOn=!1,this.m_state.disabled=!1):!e.view&&this.props.view?(this.m_state.y=this.m_max,this.m_state.alpha=0,this.m_state.tDur=.3,this.m_state.aDur=.3,this.m_state.isOn=!1,this.m_state.disabled=!0):!e.view||e.sended||this.m_state.isOn||e.originY===this.props.originY||(this.m_state.y=e.originY,this.m_state.tDur=.3,this.m_state.aDur=0)}},{key:"render",value:function(){var e=this.m_state,t=e.y,n=e.tDur,r=e.aDur,o=e.alpha,i=e.isOn,s=e.disabled,a={transform:"translateY(".concat(t,"px)"),transition:"transform ".concat(n,"s, opacity ").concat(r/2,"s ").concat(r/2,"s"),opacity:o,pointerEvents:s||!this.props.view?"none":"auto"},u=[];return"pad"===this.props.type?u.push("fel_toteacher"):u.push("fel_topad"),i&&u.push("on"),l.createElement(_.DraggableCore,{onMouseDown:this._down,onDrag:this._drag,onStart:this._start,onStop:this._stop},l.createElement("button",{ref:this._ref,className:u.join(" "),style:a}))}}])&&r(t.prototype,n),s&&r(t,s),u}(l.Component);c([p.observable],m.prototype,"m_state",void 0),m=c([f.observer],m),t.default=m},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._toStringTimestamp=t.getDateStr=t.nteArray=t.intToHTMLcolor=t.nteBool=t.nteString=t.nteFloat=t.nteInt=t.nteUInt=t.getUnicUrl=t.getUnicNum=t.getUnic=void 0;var r=n(29);Date.now||(Date.now=function(){return(new Date).getTime()});var o=0;function i(){return s().toString(36)}function s(){var e=Date.now();return e>o?o=e:o+=1,o}t.getUnic=i,t.getUnicNum=s,t.getUnicUrl=function(e){if(!e)return"";var t=e=e.trim();return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")||(t=t.indexOf("?")>0?t+"&t="+i():t+"?t="+i()),t},t.nteUInt=function(e,t){if(r.isNullOrUndefined(e))return t;if(r.isNumber(e))return isNaN(e)||e<0?t:Math.round(e);var n=parseInt(String(e),10);return isNaN(n)||n<0?t:n},t.nteInt=function(e,t){if(r.isNullOrUndefined(e))return t;if(r.isNumber(e))return Math.round(e);var n=parseInt(String(e),10);return isNaN(n)?t:n},t.nteFloat=function(e,t){if(r.isNullOrUndefined(e))return t;if(r.isNumber(e))return e;var n=parseFloat(String(e));return isNaN(n)?t:n},t.nteString=function(e,t){return r.isNullOrUndefined(e)?t:String(e)},t.nteBool=function(e,t){if(r.isNullOrUndefined(e))return t;if(r.isBoolean(e))return e;var n=String(e);return"true"===n||"false"!==n&&t},t.intToHTMLcolor=function(e){var t=e-0,n=(t=(255&t)<<16|65280&t|(16711680&t)>>>16).toString(16);return n="#000000".substring(0,7-n.length)+n},t.nteArray=function(e){if(e){if(Array.isArray(e))return e;if("string"==typeof e){var t=e;if(t.indexOf("[")>=0&&t.indexOf("]")>0)try{return JSON.parse(t)}catch(e){}}var n=[];return n.push(e),n}return[]},t.getDateStr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",t=new Date,n=t.getFullYear(),r=t.getMonth()+1,o=t.getDate(),i=r<10?"0"+r:""+r,s=o<10?"0"+o:""+o;return n+e+i+e+s},t._toStringTimestamp=function(e){var t=e.getFullYear(),n=e.getMonth()+1+"";parseInt(n,10)<10&&(n="0"+n);var r=e.getDate()+"";return parseInt(r,10)<10&&(r="0"+r),t+"-"+n+"-"+r+" "+e.toTimeString().substr(0,8)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,u=a(c);function c(){var e;return o(this,c),(e=u.apply(this,arguments))._click=function(){e.props.onClick(e.props.idx)},e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.idx,n=e.on,r=e.className;return l.createElement("span",{className:(r||"")+(n?" on":""),onClick:this._click},t+1)}}])&&i(t.prototype,n),r&&i(t,r),c}(l.Component);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.MPRState=t.MConfig=t.MPlayer=void 0;var u,c,l,p,f,_,d,m=n(2);!function(e){e.STRETCH="stretch",e.LETTERBOX="letterbox"}(u||(u={})),function(e){e.NONE="none",e.METADATA="metadata",e.AUTO="auto"}(c||(c={})),function(e){e.ORGIN="origin",e.TRANS="trans",e.ALL="all",e.NONE="none"}(l||(l={})),function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.PLAYBACK_ERROR=2]="PLAYBACK_ERROR",e[e.READY=3]="READY",e[e.STANDBY=4]="STANDBY",e[e.BUFFERING=5]="BUFFERING",e[e.PAUSED=6]="PAUSED",e[e.PLAYING=7]="PLAYING"}(p||(p={})),t.MPRState=p,function(e){e[e.UNSET=-1]="UNSET",e[e.CAN_NOT_ALL_DIR=1]="CAN_NOT_ALL_DIR",e[e.CAN_NOT_NEXT_DIR=2]="CAN_NOT_NEXT_DIR",e[e.CAN_ALL_DIR=10]="CAN_ALL_DIR"}(f||(f={})),function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(_||(_={})),function(e){e[e.NETWORK_EMPTY=0]="NETWORK_EMPTY",e[e.NETWORK_IDLE=1]="NETWORK_IDLE",e[e.NETWORK_LOADING=2]="NETWORK_LOADING",e[e.NETWORK_NO_SOURCE=3]="NETWORK_NO_SOURCE"}(d||(d={}));var h=function(){function e(t){r(this,e),this.defaultVolume=100,this.lenOfFvlToFile=25165824,this.sections=[],this.isVideo=t,this.autoPlay=!1,this.controlBox=!0,this.typeOfPosByMouse=10,this.loop=1,this.preload="auto",this.scaleMode="stretch",this.bgColor=-1,this.initTime=0,this.startTime=0,this.endTime=0,this.chkTime=250,this.playBtn=!0,this.closeBtn=!1,this.popupBtn=!1,this.fullscreenBtn=!0,this.volumeBtn=!0,this.centerPlayBtn=!0,this.centerLoading=!0,this.mousePlayPause=!0,this.bDoFullscreen=!0,this.volumeBox=!0,this.speedBtn=!1,this.scroller=!0,this.togglePlayBtn=!0,this.autoBtn=!1,this.langBtn=!1,this.menuOverlap=!0,this.haveScript=!1,this.viewScriptBox=!1,this.bScriptBtn=!1,this.scriptViewLang="none",this.etcData=""}return i(e,[{key:"isLoadControls",value:function(e){return this.controlBox||e&&(this.centerPlayBtn||this.centerLoading||this.viewScriptBox)}},{key:"pcGetURL",value:function(e){return e}},{key:"clone",value:function(){var t=new e(this.isVideo);return t.copy(this),t}},{key:"copy",value:function(e){this.autoPlay=e.autoPlay,this.controlBox=e.controlBox,this.typeOfPosByMouse=e.typeOfPosByMouse,this.loop=e.loop,this.preload=e.preload,this.scaleMode=e.scaleMode,this.bgColor=e.bgColor,this.initTime=e.initTime,this.startTime=e.startTime,this.endTime=e.endTime,this.chkTime=e.chkTime,this.playBtn=e.playBtn,this.closeBtn=e.closeBtn,this.popupBtn=e.popupBtn,this.fullscreenBtn=e.fullscreenBtn,this.volumeBtn=e.volumeBtn,this.centerPlayBtn=e.centerPlayBtn,this.centerLoading=e.centerLoading,this.mousePlayPause=e.mousePlayPause,this.volumeBox=e.volumeBox,this.speedBtn=e.speedBtn,this.scroller=e.scroller,this.togglePlayBtn=e.togglePlayBtn,this.autoBtn=e.autoBtn,this.langBtn=e.langBtn,this.menuOverlap=e.menuOverlap,this.haveScript=e.haveScript,this.viewScriptBox=e.viewScriptBox,this.bScriptBtn=e.bScriptBtn,this.scriptViewLang=e.scriptViewLang,this.defaultVolume=e.defaultVolume,this.etcData=e.etcData}},{key:"isMobile",get:function(){return!1}},{key:"iskdmPC",get:function(){return!1}}]),e}();t.MConfig=h;var y=function(){function e(t){r(this,e),this.m_media=null,this.m_url=null,this.m_startTime=0,this.m_endTime=0,this.m_maxTime=0,this.m_seekTime=-1,this.m_onTimer=-1,this.m_playEnded=!1,this.m_standBy=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=-1,this.m_onstates=[],this.m_ontimes=[],this.m_onends=[],this.m_onendtemps=[],this.m_bPlay=!1,this.m_myState=0,this.m_duration=0,this.m_currentTime=0,this.m_viewTime=0,this.fullscreen=!1,this.m_muted=!1,this.m_config=t,this.m_bPlay=t.autoPlay,this.m_startTime=t.startTime,this.m_endTime=t.endTime,this.mediaInited=this.mediaInited.bind(this),this._onTime=this._onTime.bind(this)}return i(e,[{key:"setStartEndTime",value:function(e,t){this.m_startTime=e,this.m_endTime=t}},{key:"setMuted",value:function(e){this.m_muted=e,this.m_media&&(this.m_media.muted=e)}},{key:"setMutedTemp",value:function(e){this.m_media&&(this.m_media.muted=e)}},{key:"_initTemp",value:function(){this.m_standBy=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=0}},{key:"play",value:function(){this.m_bPlay=!0,this._initTemp(),this.m_playEnded&&this.m_media&&this.m_myState>=3&&(this.m_media.currentTime=this.m_startTime/1e3),this.m_playEnded=!1,this._playOrPause()}},{key:"pause",value:function(){this.m_bPlay=!1,this._initTemp(),this._playOrPause()}},{key:"start",value:function(){this.seek(0),this.play()}},{key:"seek",value:function(e){if(!this.m_media||this.m_myState<3)this.m_seekTime=e;else{if(this._initTemp(),this.m_seekTime=-1,isNaN(e)||e<0)e=0;else if(e>=this.m_duration-100)return e=this.m_duration,void this._playEnded();this.m_playEnded=!1,this.m_media.currentTime=(this.m_startTime+e)/1e3,this._onTimeUpdate(),this.m_viewTime=this.m_currentTime}}},{key:"gotoAndPlay",value:function(e,t,n){if(this.m_standBy=!1,!this.m_media||this.m_duration<=0)return this._load(),this.m_bPlay_temp=!0,this.m_startTime_temp=e,this.m_endTime_temp=t,void(this.m_loop_temp=n);this.m_playEnded=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=e,this.m_endTime_temp=t,e=e>=0?e:this.currentTime,t=t>=0&&t<this.m_duration?t:this.m_duration,this.m_bPlay=!0,e>=t||n<=0?(this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=0):(this.m_endTime_temp>=this.m_duration&&(this.m_endTime_temp=-1),this.m_loop_temp=n,this.m_loopCnt_temp=0,this.m_startTime_temp>=0&&(this.m_media.currentTime=(e+this.m_startTime)/1e3,this._onTimeUpdate(),this.m_viewTime=this.m_currentTime)),this._playOrPause()}},{key:"gotoAndPause",value:function(e){this.m_bPlay=!1,this._initTemp(),this.m_media&&(e=e>=0&&e<this.m_duration?e:this.currentTime,this.m_media.currentTime=(e+this.m_startTime)/1e3,this._onTimeUpdate(),this.m_viewTime=this.m_currentTime,this._playOrPause())}},{key:"connect",value:function(){if(this.m_media){this.m_media;this.m_url&&this.m_myState>=1&&3===this.m_media.networkState&&0===this.m_media.readyState&&(this.m_media.src=this.m_url,this.m_media.load())}}},{key:"unconnect",value:function(){this.m_media&&(this.m_media.paused||this.m_media.pause(),this.m_myState>=1&&(this.m_myState>=3&&(this.m_seekTime=1e3*this.m_media.currentTime-this.m_startTime),this.m_media.src="",this.m_media.load()))}},{key:"_load",value:function(){this.m_media&&this.m_url&&this.m_myState<1&&(this._setState(1),this.m_media.src=this.m_url,this.m_media.load())}},{key:"load",value:function(e){this.m_url=e,this._load()}},{key:"unload",value:function(){this.m_media&&(this.m_media.paused||this.m_media.pause(),this.m_myState>=1&&(this.m_media.src="",this.m_media.load())),this.m_url=null,this.m_bPlay=!1,this.m_bPlay_temp=!1,this.m_startTime=0,this.m_endTime=0,this.m_maxTime=0,this.m_seekTime=-1,this.m_onTimer=-1,this.m_playEnded=!1,this.m_standBy=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=-1,this.m_duration=0,this.m_currentTime=0,this.m_viewTime=0,this.fullscreen=!1,this.m_muted=!1,this._setState(0)}},{key:"_setState",value:function(e){if(this.m_myState!==e){7===e?this.m_onTimer<0&&(this.m_onTimer=window.requestAnimationFrame(this._onTime)):6===e&&this.m_onTimer>=0&&(window.cancelAnimationFrame(this.m_onTimer),this.m_onTimer=-1);var t=this.m_myState;this.m_myState=e;for(var n=0,r=this.m_onstates.length;n<r;n++)this.m_onstates[n](e,t)}}},{key:"_playOrPause",value:function(){var e=this;if(this.m_media&&!(this.m_myState<3))if(this.m_bPlay){if(this._setState(7),this.m_media.paused){var t=this.m_media.play();t&&t.then((function(t){!e.m_media||e.m_bPlay||e.m_media.paused||e.m_media.pause()})).catch((function(t){!e.m_media||e.m_bPlay||e.m_media.paused||e.m_media.pause()}))}}else this._setState(6),this.m_media.paused||this.m_media.pause()}},{key:"_onTimeUpdate",value:function(){if(this.m_media){var e=1e3*this.m_media.currentTime;if(this.m_loop_temp>0&&this.m_bPlay)if(e<this.m_startTime)e=this.m_startTime;else if(this.m_endTime_temp>0&&e>=this.m_endTime_temp+this.m_startTime){this.m_currentTime=this.m_endTime_temp,this.m_viewTime=this.m_currentTime;for(var t=0,n=this.m_ontimes.length;t<n;t++)this.m_ontimes[t](this.m_currentTime);this._playEnded()}else{this.m_currentTime=e-this.m_startTime;for(var r=0,o=this.m_ontimes.length;r<o;r++)this.m_ontimes[r](this.m_currentTime)}else if(e<this.m_startTime)e=this.m_startTime;else{if(this.m_endTime>0&&e>=this.m_endTime){this.m_currentTime=this.m_endTime-this.m_startTime,this.m_viewTime=this.m_currentTime;for(var i=0,s=this.m_ontimes.length;i<s;i++)this.m_ontimes[i](this.m_currentTime);return void this._playEnded()}this.m_currentTime=e-this.m_startTime;for(var a=0,u=this.m_ontimes.length;a<u;a++)this.m_ontimes[a](this.m_currentTime)}}}},{key:"_playEnded",value:function(){if(this.m_media&&!this.m_playEnded)if(this.m_loop_temp>0&&this.m_bPlay){if(this.m_loopCnt_temp++,this.m_endTime_temp<=0){this.m_bPlay=!1;for(var e=0,t=this.m_onends.length;e<t;e++)this.m_onends[e]()}if(this.m_loopCnt_temp<this.m_loop_temp){var n=this.m_startTime_temp>=0&&this.m_startTime_temp<this.m_duration?this.m_startTime_temp:0;this.m_media.currentTime=(n+this.m_startTime)/1e3,this.m_media.paused&&this.m_media.play()}else{this.m_media.paused||this.m_media.pause(),this.m_bPlay=!1;for(var r=0,o=this.m_onendtemps.length;r<o;r++)this.m_onendtemps[r]()}}else{for(var i=0,s=this.m_onends.length;i<s;i++)this.m_onends[i]();0===this.m_config.loop&&this.m_bPlay?(this.m_media.currentTime=this.m_startTime/1e3,this.m_media.paused&&this.m_media.play()):(this.m_playEnded=!0,this.m_bPlay=!1,this.m_media.paused||this.m_media.pause(),1e3*this.m_media.currentTime<this.m_maxTime-100&&(this.m_media.currentTime=this.m_maxTime/1e3),this.m_currentTime=this.m_maxTime-this.m_startTime,this.m_viewTime=this.m_currentTime,this._setState(6))}}},{key:"reset",value:function(){}},{key:"_onTime",value:function(e){this.m_onTimer>=0&&(this._onTimeUpdate(),this.m_onTimer=window.requestAnimationFrame(this._onTime))}},{key:"mediaInited",value:function(e){var t=this;if(!this.m_media&&e){this.m_media=e;var n=function(n){if(t.m_media){t.m_config;e.duration>0&&(t.m_maxTime<=0?(t.m_maxTime=1e3*e.duration,t.m_endTime>=t.m_maxTime?t.m_endTime=0:t.m_endTime>0&&(t.m_maxTime=t.m_endTime),(t.m_startTime<0||t.m_startTime>=t.m_maxTime)&&(t.m_startTime=0),t.m_duration=t.m_maxTime-t.m_startTime,t.m_bPlay_temp?(t._setState(3),t.gotoAndPlay(t.m_startTime_temp,t.m_endTime_temp,t.m_loop_temp)):t.m_seekTime>0&&t.m_seekTime<t.m_duration?(t._setState(3),t.m_media.currentTime=(t.m_seekTime+t.m_startTime)/1e3):0===t.m_startTime?(t._setState(3),t._playOrPause()):t.m_media.currentTime=t.m_startTime/1e3,t.m_seekTime=-1):t.m_seekTime>=0&&(t.m_seekTime<t.m_duration&&(t.m_media.currentTime=(t.m_seekTime+t.m_startTime)/1e3),t.m_seekTime=-1))}};e.onabort=function(e){console.log("onabort")},e.oncanplay=n,e.oncanplaythrough=n,e.ondurationchange=n,e.onloadeddata=n,e.onloadedmetadata=n,e.onerror=function(e){1===t.m_myState&&t._setState(2)},e.onended=function(e){t.m_media&&(t.m_maxTime<=0||t.m_myState<3||t._playEnded())},e.onpause=function(e){t.m_media&&(t.m_maxTime<=0||t.m_myState<3||t._setState(6))},e.onplaying=function(e){t.m_media&&(t.m_maxTime<=0||t.m_myState<3||!t.m_bPlay?t.m_media.paused||t.m_media.pause():t._setState(7))},e.onseeking=function(e){!t.m_media||t.m_maxTime<=0||t.m_myState>=3&&t._setState(5)},e.onseeked=function(e){if(t.m_media&&!(t.m_maxTime<=0))if(t.m_myState>=3)t._playOrPause();else if(t.m_myState<3&&t.m_startTime>0){Math.abs(t.m_startTime-1e3*t.m_media.currentTime)<100?(t._setState(3),t._playOrPause()):t.m_media.currentTime=t.m_startTime/1e3}},e.ontimeupdate=function(e){t.m_myState<=2||(t._onTimeUpdate(),t.m_viewTime=t.m_currentTime)},this._load()}}},{key:"addOnState",value:function(e){this.m_onstates.indexOf(e)>=0||this.m_onstates.push(e)}},{key:"removeOnState",value:function(e){var t=this.m_onstates.indexOf(e);t<0||this.m_onstates.splice(t,1)}},{key:"addOnTime",value:function(e){this.m_ontimes.indexOf(e)>=0||this.m_ontimes.push(e)}},{key:"removeOnTime",value:function(e){var t=this.m_ontimes.indexOf(e);t<0||this.m_ontimes.splice(t,1)}},{key:"addOnPlayEnd",value:function(e){this.m_onends.indexOf(e)>=0||this.m_onends.push(e)}},{key:"removeOnPlayEnd",value:function(e){var t=this.m_onends.indexOf(e);t<0||this.m_onends.splice(t,1)}},{key:"addOnPlayEndTemp",value:function(e){this.m_onendtemps.indexOf(e)>=0||this.m_onendtemps.push(e)}},{key:"removeOnPlayEndTemp",value:function(e){var t=this.m_onendtemps.indexOf(e);t<0||this.m_onendtemps.splice(t,1)}},{key:"bPlay",get:function(){return this.m_bPlay}},{key:"myState",get:function(){return this.m_myState}},{key:"duration",get:function(){return this.m_duration}},{key:"muted",get:function(){return this.m_muted}},{key:"viewTime",get:function(){return this.m_viewTime}},{key:"media",get:function(){return this.m_media}},{key:"config",get:function(){return this.m_config}},{key:"currentTime",get:function(){return this.m_currentTime}}]),e}();a([m.observable],y.prototype,"m_bPlay",void 0),a([m.observable],y.prototype,"m_myState",void 0),a([m.observable],y.prototype,"m_duration",void 0),a([m.observable],y.prototype,"m_viewTime",void 0),a([m.observable],y.prototype,"fullscreen",void 0),a([m.observable],y.prototype,"m_muted",void 0),a([m.computed],y.prototype,"bPlay",null),a([m.computed],y.prototype,"myState",null),a([m.computed],y.prototype,"duration",null),a([m.computed],y.prototype,"muted",null),a([m.computed],y.prototype,"viewTime",null),t.MPlayer=y},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(2),f=n(1),_=n(22),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,n,s,a=i(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e))._width=0,t._fontSize=0,t._div=null,t._myWidth=0,t._numOfLine=0,t._ref=function(e){var n=t.props.onRef;!t._div&&e&&(t._div=e,n&&n(e))},t._canCalc=function(){return t.props.view&&t._myWidth>0&&t._div&&t._width<=0},t._aniFrame=function(e){t._canCalc()&&(t._calc(),window.requestAnimationFrame(t._aniFrame))},t.getComputedMargin=function(e){var t=e.marginRight?parseInt(e.marginRight,10):0,n=e.marginLeft?parseInt(e.marginLeft,10):0;return isNaN(t)&&(t=0),isNaN(n)&&(n=0),{left:n,right:t}},t._resized=function(e,n){t._myWidth=e,window.requestAnimationFrame(t._aniFrame)},t._fontSize=t.props.maxFontSize?t.props.maxFontSize:0,t}return t=u,(n=[{key:"_calc",value:function(){var e=this,t=this.props,n=t.maxLineNum,r=t.minFontSize;if(this._canCalc()&&this._div){var o=this._div.getBoundingClientRect(),i=this._myWidth-o.width;if(!(i<-1||i>1||0===this._div.childNodes.length)){var s=0,a=-100,u=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER,l=0;this._div.childNodes.forEach((function(t,n){var r=0,o=0;if(t instanceof HTMLElement){var i=t,p=window.getComputedStyle(i),f=e.getComputedMargin(p),_=i.getClientRects();if("absolute"===p.position);else if("inline"===p.display)for(var d=0;d<_.length;d++){var m=_.item(d);m&&(0===l?(a=(m.top+m.bottom)/2,s=1):(a<m.top||a>m.bottom)&&(a=(m.top+m.bottom)/2,s++),u=Math.min(u,m.left-f.left),c=Math.max(c,m.right+f.right),l++)}else{var h=i.getBoundingClientRect();r=f.right,o=f.left,h.bottom-h.top>0&&(0===l?(a=(h.top+h.bottom)/2,s=1):(a<h.top||a>h.bottom)&&(a=(h.top+h.bottom)/2,s++),u=Math.min(u,h.left-o),c=Math.max(c,h.right+r),l++)}}else{var y=document.createRange();y.selectNodeContents(t);for(var v=y.getClientRects(),b=0;b<v.length;b++){var g=v.item(b);g&&(0===l?(a=(g.top+g.bottom)/2,s=1):(a<g.top||a>g.bottom)&&(a=(g.top+g.bottom)/2,s++),u=Math.min(u,g.left),c=Math.max(c,g.right),l++)}}})),this._numOfLine=s;var p=n||1;if(p<1&&(p=1),s>p){var f=r||0;this._fontSize>0&&f>0&&this._fontSize>f?this._fontSize--:this._width=Math.ceil(c-u+2)}else l>0&&(this._width=Math.ceil(c-u+2))}}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.view,r=t.rcalcNum,o=t.maxFontSize;n&&!e.view?(this._fontSize=o||0,this._width=0,window.requestAnimationFrame(this._aniFrame)):!n&&e.view&&(this._width=0),n&&r&&r!==e.rcalcNum&&(this._fontSize=o||0,this._width=0,window.requestAnimationFrame(this._aniFrame)),0===this._fontSize&&o&&(this._fontSize=o)}},{key:"render",value:function(){var e,t=this.props.className,n={whiteSpace:"normal"};return this._fontSize>0&&(n.fontSize=this._fontSize+"px"),this.props.lineHeight&&(n.lineHeight=this.props.lineHeight+"%"),this._width>0?(n.width=this._width+"px",n.display="inline-block",e=this.props.textAlign?this.props.textAlign:this._numOfLine<=1?"center":"left",n.textAlign=e):(n.width="100%",n.display="inline-block",this.props.viewOnInit||(n.opacity=.01),e=this.props.textAlign?this.props.textAlign:this._numOfLine<=1?"center":"left",n.textAlign=e),l.createElement(l.Fragment,null,l.createElement("div",{ref:this._ref,className:t,style:n,onClick:this.props.onClick},this.props.children,l.createElement(_.default,{handleWidth:!0,handleHeight:!0,onResize:this._resized})))}}])&&r(t.prototype,n),s&&r(t,s),u}(l.Component);c([p.observable],d.prototype,"_width",void 0),c([p.observable],d.prototype,"_fontSize",void 0),d=c([f.observer],d),t.default=d},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawBalloon=t.initData=t.TYPE3_HEADERS=t.TYPE_COM_HEADERS=t.WarmupType=t.VisualType=t.COLORS=void 0,t.COLORS=["pink","green","orange","purple"],function(e){e[e.TYPE_1=1]="TYPE_1",e[e.TYPE_2=2]="TYPE_2",e[e.TYPE_3=3]="TYPE_3",e[e.TYPE_4=4]="TYPE_4",e[e.TYPE_5=5]="TYPE_5",e[e.TYPE_6=6]="TYPE_6",e[e.TYPE_7=7]="TYPE_7"}(t.VisualType||(t.VisualType={})),function(e){e[e.IMAGE=1]="IMAGE",e[e.VIDEO=2]="VIDEO"}(t.WarmupType||(t.WarmupType={})),t.TYPE_COM_HEADERS=["#A677DC","#1CC1AD","#4f7ad1"],t.TYPE3_HEADERS=["#b07ae1","#1cc9af","#4f7ad1","#4f7ad1"],t.initData=function(e){return e};var r=a(206,116,225,1),o=a(34,205,172,1),i=a(255,186,0,1),s=a(116,113,236,1);function a(e,t,n,r){return{r:e,g:t,b:n,a:r}}function u(e){var t=e.r,n=e.g,r=e.b,o=e.a;return"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")}t.drawBalloon=function(e,t,n,c,l,p,f,_,d,m,h,y,v){var b;b=p<t?1.5*(t-p):1.5*(p-(t+c)),m||(m=0),h||(h=5),y||(y=2),v||(v=a(0,0,0,.2));var g,w=(m>0||m<0||h>0||h<0||y>0)&&v.a>0;(g="green"===d?o:"orange"===d?i:"purple"===d?s:r).a=1,e.lineCap="butt",e.lineJoin="miter",e.strokeStyle="transparent",e.fillStyle=u(g);var O=e.createLinearGradient(0,0,0,l);O.addColorStop(0,"rgba(255, 255, 255, 1)"),O.addColorStop(1,"rgba(255, 255, 255, 0)");var S=e.createLinearGradient(0,0,0,l);g.a=.4,S.addColorStop(0,u(g)),g.a=1,S.addColorStop(1,u(g)),e.beginPath(),e.moveTo(t+c,n+l-_),_>0&&e.arc(t+c-_,n+l-_,_,0,Math.PI/2),e.lineTo(t+_,n+l),_>0&&e.arc(t+_,n+l-_,_,Math.PI/2,Math.PI),p<t&&(e.lineTo(t,f+b/2),e.lineTo(p,f),e.lineTo(t,f-b/2)),e.lineTo(t,n+_),_>0&&e.arc(t+_,n+_,_,Math.PI,3*Math.PI/2),e.lineTo(t+c-_,n),_>0&&e.arc(t+c-_,n+_,_,3*Math.PI/2,2*Math.PI),p>t&&(e.lineTo(t+c,f-b/2),e.lineTo(p,f),e.lineTo(t+c,f+b/2),e.closePath()),e.closePath(),w?(e.shadowColor=u(v),e.shadowBlur=y,e.shadowOffsetX=m,e.shadowOffsetY=h,e.fill(),e.globalCompositeOperation="destination-out",e.shadowColor="rgba(0, 0, 0, 0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.fill(),e.globalCompositeOperation="source-over",e.fillStyle=O,e.fill(),e.fillStyle=S,e.fill()):(e.globalCompositeOperation="source-over",e.fillStyle=O,e.fill(),e.fillStyle=S,e.fill()),e.globalCompositeOperation="source-over"}},function(e,t){e.exports=ReactDraggable},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CountDown2=t.Timer=t.TimerState=void 0;var _,d=n(0),m=n(2),h=n(1),y=n(6),v=n(3);!function(e){e[e.INIT=0]="INIT",e[e.RUNNING=1]="RUNNING",e[e.PAUSE=2]="PAUSE"}(_||(_={}));var b=function(){function e(t){var n=this;u(this,e),this.m_runState=0,this.m_max=60,this.m_playSound=!0,this.start=function(){n.m_runState=1},this.reset=function(){n.m_runState=0},this.pause=function(){n.m_runState=2},this.m_max=t}return l(e,[{key:"setPlaySound",value:function(e){this.m_playSound=e}},{key:"setMax",value:function(e){this.m_max=e}},{key:"runState",get:function(){return this.m_runState}},{key:"isRunning",get:function(){return 1===this.m_runState}},{key:"max",get:function(){return this.m_max}},{key:"playSound",get:function(){return this.m_playSound}}]),e}();function g(e,t,n,r){var o=(r-90)*Math.PI/180;return{x:e+n*Math.cos(o),y:t+n*Math.sin(o)}}function w(e,t,n,r,o){var i;if(o-r>=360)i=["M",e,t,"m",-n,0,"a",n,n,0,"1",0,2*n,0,"a",n,n,0,"1",0,2*-n,0].join(" ");else{var s=o-r<=180?"0":"1",a=g(e,t,n,o),u=g(e,t,n,r);i=["M",a.x,a.y,"A",n,n,0,s,0,u.x,u.y,"L",e,t,"L",a.x,a.y].join(" ")}return i}f([m.observable],b.prototype,"m_runState",void 0),f([m.computed],b.prototype,"runState",null),f([m.observable],b.prototype,"m_max",void 0),f([m.computed],b.prototype,"max",null),f([m.action],b.prototype,"start",void 0),f([m.action],b.prototype,"reset",void 0),f([m.action],b.prototype,"pause",void 0),t.TimerState=b;var O=function(e){r(n,e);var t=i(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).m_runState=0,r.m_sec=0,r.m_stime=0,r.m_text="",r.m_d="",r._start=function(){r.m_sec=r.props.state.max,r.m_text=r._getTime(r.m_sec),r.m_d="",r.m_stime=Date.now(),r._run(0),r.props.onStart&&r.props.onStart()},r._run=function(e){if(r.props&&1===r.m_runState){var t=r.props.state.max,n=Date.now()-r.m_stime,o=t-Math.floor(n/1e3);r.m_sec!==o&&(r.m_text=r._getTime(o),0===o?r.props.state.playSound&&v.App.pub_playDingend():o<5?r.props.state.playSound&&v.App.pub_playDing():o>=5&&o<=10&&r.props.state.playSound&&v.App.pub_playClock()),r.m_sec=o,o>0?(r._drawArc(n),window.requestAnimationFrame(r._run)):(r._drawArc.cancel(),r.m_d=w(32,32,32,0,360),r.props.onComplete())}},r.m_text=r._getTime(r.props.state.max),r.m_d="",m.autorun((function(){if(r.props){var e=r.props.state,t=e.max;1===e.runState&&1!==r.m_runState?(r.m_runState=1,r._start()):0===e.runState&&(r.m_text=r._getTime(t),r.m_d=""),r.m_runState=e.runState}})),r._drawArc=y.throttle((function(e){if(r.props&&1===r.m_runState){var t=1e3*r.props.state.max,n=0;if(r.m_sec<=5){var o=e%1e3;n=0===e?0:0===o?1:o/1e3}else n=e/t;n*=360,r.m_d=w(32,32,32,0,n)}}),50,{trailing:!0}),r}return l(n,[{key:"_getTime",value:function(e){var t=Math.floor(e/60),n=e%60,r="";return r=t<10?"0"+t:""+t,r=n<10?r+":0"+n:r+":"+n}},{key:"render",value:function(){var e=this.m_sec<=5?"#f00":"#ff0";return d.createElement("div",{className:"q_timer",hidden:!this.props.view},d.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64"},d.createElement("path",{fill:e,d:this.m_d})),d.createElement("div",{className:"m_text"},this.m_text))}}]),n}(d.Component);f([m.observable],O.prototype,"m_text",void 0),f([m.observable],O.prototype,"m_d",void 0),O=f([h.observer],O),t.Timer=O;var S=-.5*Math.PI,E=function(e){r(n,e);var t=i(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).m_runState=0,r.m_sec=0,r.m_stime=0,r.m_r=0,r.m_view=!1,r._start=function(){r.m_sec=r.props.state.max,r.m_stime=Date.now(),r._run(0),r.props.onStart&&r.props.onStart()},r._run=function(e){if(r.props&&1===r.m_runState){var t=Date.now()-r.m_stime,n=r.props.state.max-Math.floor(t/1e3);r.m_sec!==n&&(r.m_sec=n,0===n?(r.props.state.playSound&&v.App.pub_playDingend(),r.props.onComplete()):n<=5&&r.props.state.playSound&&v.App.pub_playDing()),n>0?(r._drawArc(t%1e3),window.requestAnimationFrame(r._run)):r._drawArc(1e3)}},r._refCanvas=function(e){!r.m_canvas&&e&&(r.m_canvas=e,r.m_r=e.width/2,r.m_ctx=e.getContext("2d"))},r._onTransEnd=function(){r.props.view||(r.m_view=!1)},r.m_sec=r.props.state.max,r.m_view=e.view,m.autorun((function(){if(r.props){var e=r.props.state;if(1===e.runState&&1!==r.m_runState)r.m_runState=1,r._start();else if(0===e.runState&&0!==r.m_runState&&(r.m_sec=e.max,r.m_ctx)){var t=r.m_r;r.m_ctx.clearRect(0,0,2*t,2*t)}r.m_runState=e.runState}})),r._drawArc=y.throttle((function(e){if(r.m_canvas&&r.props&&1===r.m_runState){var t=2*Math.PI*e/1e3,n=r.m_r;r.m_ctx.clearRect(0,0,2*n,2*n),r.m_ctx.beginPath(),r.m_ctx.fillStyle="#5538EB",r.m_ctx.moveTo(n,n),r.m_ctx.arc(n,n,n,S,t+S),r.m_ctx.fill()}}),50),r}return l(n,[{key:"componentDidUpdate",value:function(e){e.view!==this.props.view&&this.props.view&&(this.m_view=!0)}},{key:"render",value:function(){return d.createElement("div",{className:"countdown2 "+(this.m_view?"":"hide")},d.createElement("div",{className:"countdown "+(this.props.view?"view":"hide"),onTransitionEnd:this._onTransEnd},d.createElement("canvas",{width:"206px",height:"206px",ref:this._refCanvas}),d.createElement("div",null,d.createElement("div",null,this.m_sec))))}}]),n}(d.Component);f([m.observable],E.prototype,"m_sec",void 0),f([m.observable],E.prototype,"m_view",void 0),E=f([h.observer],E),t.CountDown2=E},function(e,t,n){"use strict";n.r(t),n.d(t,"withResizeDetector",(function(){return _e}));var r=n(0),o=n.n(r),i=n(18),s=n(23),a=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r},u=n(5);var c=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},l=n(24),p="object"==typeof self&&self&&self.Object===Object&&self,f=l.a||p||Function("return this")(),_=function(){return f.Date.now()},d=f.Symbol,m=Object.prototype,h=m.hasOwnProperty,y=m.toString,v=d?d.toStringTag:void 0;var b=function(e){var t=h.call(e,v),n=e[v];try{e[v]=void 0;var r=!0}catch(e){}var o=y.call(e);return r&&(t?e[v]=n:delete e[v]),o},g=Object.prototype.toString;var w=function(e){return g.call(e)},O=d?d.toStringTag:void 0;var S=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":O&&O in Object(e)?b(e):w(e)};var E=function(e){return null!=e&&"object"==typeof e};var k=function(e){return"symbol"==typeof e||E(e)&&"[object Symbol]"==S(e)},T=/^\s+|\s+$/g,P=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,x=/^0o[0-7]+$/i,C=parseInt;var D=function(e){if("number"==typeof e)return e;if(k(e))return NaN;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(T,"");var n=R.test(e);return n||x.test(e)?C(e.slice(2),n?2:8):P.test(e)?NaN:+e},N=Math.max,A=Math.min;var j=function(e,t,n){var r,o,i,s,a,u,l=0,p=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=r,i=o;return r=o=void 0,l=t,s=e.apply(i,n)}function h(e){return l=e,a=setTimeout(v,t),p?m(e):s}function y(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=i}function v(){var e=_();if(y(e))return b(e);a=setTimeout(v,function(e){var n=t-(e-u);return f?A(n,i-(e-l)):n}(e))}function b(e){return a=void 0,d&&r?m(e):(r=o=void 0,s)}function g(){var e=_(),n=y(e);if(r=arguments,o=this,u=e,n){if(void 0===a)return h(u);if(f)return clearTimeout(a),a=setTimeout(v,t),m(u)}return void 0===a&&(a=setTimeout(v,t)),s}return t=D(t)||0,c(n)&&(p=!!n.leading,i=(f="maxWait"in n)?N(D(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=u=o=a=void 0},g.flush=function(){return void 0===a?s:b(_())},g};var I=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return c(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),j(e,t,{leading:r,maxWait:t,trailing:o})},B={debounce:j,throttle:I},M=function(e){return"function"==typeof e},L=function(){return"undefined"==typeof window};function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(s,e);var t,n,r,o,i=(t=s,function(){var e,n=V(t);if(W()){var r=V(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return q(this,e)});function s(){return U(this,s),i.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return this.props.children}}])&&H(n.prototype,r),o&&H(n,o),s}(r.PureComponent);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(p,e);var t,n,u,c,l=(t=p,function(){var e,n=$(t);if(J()){var r=$(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Z(this,e)});function p(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),ee(X(t=l.call(this,e)),"cancelHandler",(function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)})),ee(X(t),"rafClean",(function(){t.raf&&t.raf.cancel&&(t.raf.cancel(),t.raf=null)})),ee(X(t),"toggleObserver",(function(e){var n=t.getElement();n&&t.resizeObserver[e]&&t.resizeObserver[e](n)})),ee(X(t),"getElement",(function(){var e=t.props,n=e.querySelector,r=e.targetDomEl;if(!L()){if(n)return document.querySelector(n);if(r&&((o=r)instanceof Element||o instanceof HTMLDocument))return r;var o,s=t.element&&Object(i.findDOMNode)(t.element);if(s)return s.parentElement}})),ee(X(t),"createUpdater",(function(){return t.rafClean(),t.raf=a((function(e){var n=e.width,r=e.height,o=t.props.onResize;M(o)&&o(n,r),t.setState({width:n,height:r})})),t.raf})),ee(X(t),"createResizeHandler",(function(e){var n=t.state,r=n.width,o=n.height,i=t.props,s=i.handleWidth,a=i.handleHeight;if(s||a){var u=t.createUpdater();e.forEach((function(e){var n=e&&e.contentRect||{},i=n.width,c=n.height,l=s&&r!==i||a&&o!==c;!t.skipOnMount&&l&&!L()&&u({width:i,height:c}),t.skipOnMount=!1}))}})),ee(X(t),"onRef",(function(e){t.element=e})),ee(X(t),"getRenderType",(function(){var e=t.props,n=e.render,o=e.children;return M(n)?"renderProp":M(o)?"childFunction":Object(r.isValidElement)(o)?"child":Array.isArray(o)?"childArray":"parent"})),ee(X(t),"getTargetComponent",(function(){var e=t.props,n=e.render,o=e.children,i=e.nodeType,s=t.state,a={width:s.width,height:s.height};switch(t.getRenderType()){case"renderProp":return Object(r.cloneElement)(n(a),{key:"resize-detector"});case"childFunction":return Object(r.cloneElement)(o(a));case"child":return Object(r.cloneElement)(o,a);case"childArray":return o.map((function(e){return!!e&&Object(r.cloneElement)(e,a)}));default:return Object(r.createElement)(i)}}));var n=e.skipOnMount,o=e.refreshMode,u=e.refreshRate,c=e.refreshOptions;t.state={width:void 0,height:void 0},t.skipOnMount=n,t.raf=null,t.element=null,t.unmounted=!1;var f=B[o];return t.resizeHandler=f?f(t.createResizeHandler,u,c):t.createResizeHandler,t.resizeObserver=new s.a(t.resizeHandler),t}return n=p,(u=[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return o.a.createElement(G,{ref:this.onRef},this.getTargetComponent())}}])&&Q(n.prototype,u),c&&Q(n,c),p}(r.PureComponent);te.propTypes={handleWidth:u.bool,handleHeight:u.bool,skipOnMount:u.bool,refreshRate:u.number,refreshMode:u.string,refreshOptions:Object(u.shape)({leading:u.bool,trailing:u.bool}),querySelector:u.string,targetDomEl:u.any,onResize:u.func,render:u.func,children:u.any,nodeType:u.node},te.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,onResize:null,render:void 0,children:null,nodeType:"div"};var ne=te;function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),e}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){return function(){var t,n=fe(e);if(pe()){var r=fe(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return le(this,t)}}function le(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return function(n){ae(i,n);var r=ce(i);function i(){return oe(this,i),r.apply(this,arguments)}return se(i,[{key:"render",value:function(){return o.a.createElement(ne,t,o.a.createElement(e,this.props))}}]),i}(r.Component)};t.default=ne},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],a="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function s(){n&&(n=!1,e()),r&&u()}function a(){i(s)}function u(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),a?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},p=y(0,0,0,0);function f(e){return parseFloat(e)||0}function _(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function d(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=l(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=f(i)}return t}(r),i=o.left+o.right,s=o.top+o.bottom,a=f(r.width),u=f(r.height);if("border-box"===r.boxSizing&&(Math.round(a+i)!==t&&(a-=_(r,"left","right")+i),Math.round(u+s)!==n&&(u-=_(r,"top","bottom")+s)),!function(e){return e===l(e).document.documentElement}(e)){var c=Math.round(a+i)-t,d=Math.round(u+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(d)&&(u-=d)}return y(o.left,o.top,a,u)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function h(e){return r?m(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):d(e):p}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var v=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=h(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,o,i,s,a,u,l=(r=(n=t).x,o=n.y,i=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(a.prototype),c(u,{x:r,y:o,width:i,height:s,top:o,right:r+i,bottom:s+o,left:r}),u);c(this,{target:e,contentRect:l})},g=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new v(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!=typeof WeakMap?new WeakMap:new n,O=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new g(t,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}}));var S=void 0!==o.ResizeObserver?o.ResizeObserver:O;t.a=S}).call(this,n(13))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(13))},function(e,t,n){e.exports=n(26)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o=n(0),i=n(18),s=n(3),a=n(7),u=n(33);r.setConfig({ErrorOverlay:function(e){return o.createElement("div",null)}});var c,l={clear:s.App.pub_clear,importLink:u.importLink,importHTML:u.importHTML};c=n(34);var p=!1,f=c,_=f.default,d=f.AppProvider,m=f.appContext;l.set=function(e,t,n){s.App.pub_set(e,t,n),m.setData(e)},l.render=function(){s.App.pub_initAudio(),i.render(o.createElement(d,null,o.createElement(_,null)),document.getElementById("wrap"))},l.init=function(e,t,n,r,o){s.App.pub_load(e,null,t,n,r,o)},l.start=function(){p=!0,setTimeout((function(){return m.start()}),500)},l.receive=function(e){if(4===e.type){var t=e.data;p?t&&t.id&&""!==t.id&&a.sendPADToID(t.id,s.App.isStarted?0:1,null):s.App.pub_addInitedStudent(t)&&(p||(p=!0,m.start()))}else m.receive(e)},l.teachingTool=function(e){},n(69),e.app_o=l}).call(this,n(13))},function(e,t,n){"use strict";e.exports=n(28)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r;function i(e){return i.warnAboutHMRDisabled&&(i.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),o.Children.only(e.children)}i.warnAboutHMRDisabled=!1;var s=function e(){return e.shouldWrapWithAppContainer?function(e){return function(t){return o.createElement(i,null,o.createElement(e,t))}}:function(e){return e}};s.shouldWrapWithAppContainer=!1;t.AppContainer=i,t.hot=s,t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e},t.configureComponent=function(){}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<i;u=r[++n])m(u)||!g(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,s={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return y(o)||(o=l(e,o,r)),o}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(h(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),O(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(n);if(0===s.length){if(S(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return p(n)}var c,g="",E=!1,k=["{","}"];(_(n)&&(E=!0,k=["[","]"]),S(n))&&(g=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(g=" "+RegExp.prototype.toString.call(n)),w(n)&&(g=" "+Date.prototype.toUTCString.call(n)),O(n)&&(g=" "+p(n)),0!==s.length||E&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=E?function(e,t,n,r,o){for(var i=[],s=0,a=t.length;s<a;++s)R(t,String(s))?i.push(f(e,t,n,r,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(f(e,t,n,r,o,!0))})),i}(e,n,r,a,s):s.map((function(t){return f(e,n,r,a,t,E)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,g,k)):k[0]+g+k[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),R(r,o)||(s="["+o+"]"),a||(e.seen.indexOf(u.value)<0?(a=m(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),v(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function _(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function m(e){return null===e}function h(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return g(e)&&"[object RegExp]"===E(e)}function g(e){return"object"==typeof e&&null!==e}function w(e){return g(e)&&"[object Date]"===E(e)}function O(e){return g(e)&&("[object Error]"===E(e)||e instanceof Error)}function S(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(v(i)&&(i=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=_,t.isBoolean=d,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=h,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=g,t.isDate=w,t.isError=O,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(31);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=n(32),t._extend=function(e,t){if(!t||!g(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var x="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(x&&e[x]){var t;if("function"!=typeof(t=e[x]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),x&&Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=x,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(C,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(30))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],l=!1,p=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&_())}function _(){if(!l){var e=a(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||a(_)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importLink=t.importHTML=void 0,t.importHTML=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="document",r.onload=function(e){if(e){var o=r.response;o&&o.body&&o.body.firstElementChild?t(o.body.firstElementChild):o&&o.documentElement?t(o.documentElement):n("error")}},r.onerror=function(e){n(e)},r.send(null)}))},t.importLink=function(e,t){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="document",r.onload=function(e){if(e){var n=r.response;t(n)}},r.onerror=function(e){n(e)},r.send(null)}))}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.appContext=t.AppProvider=void 0;var l=n(0),p=n(1),f=n(35);n(36),n(37);var _=n(38),d=n(39);Object.defineProperty(t,"AppProvider",{enumerable:!0,get:function(){return d.TeacherProvider}}),Object.defineProperty(t,"appContext",{enumerable:!0,get:function(){return d.tContext}});var m=n(41),h=n(3),y=n(42),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,n,s,a=i(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),a.call(this,e)}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.state,n=e.actions,r=t.viewDiv;return l.createElement(l.Fragment,null,l.createElement("div",{id:"preload_hidden",style:{opacity:0}},l.createElement("span",null,"가나다라abc"),l.createElement("span",{style:{fontWeight:"bold"}},"가나다라a"),l.createElement("span",{className:"set"})," ",l.createElement("span",{className:"unlimit"})," ",l.createElement("span",{className:"start"}),l.createElement("span",{className:"time1"}),l.createElement("span",{className:"time2"})," ",l.createElement("span",{className:"time3"})),l.createElement("div",{className:"content-container"},l.createElement("div",{className:"content-wrapper",style:{left:("direction"===r?0:-1280)+"px"}},l.createElement("div",null,l.createElement(m.default,{className:"video-direction",view:"direction"===r,on:t.directionON,isTeacher:!0,video_url:"/content/digenglishCB_lib/direction/reading_english.webp",video_frame:125,onEndStart:n.onDirectionEndStart,onEnd:n.onDirectionEnded},l.createElement("div",{className:"lesson"},h.App.lesson))),l.createElement("div",null,l.createElement(y.default,{view:"content"===r,state:t,actions:n})))),l.createElement(_.Navi,Object.assign({},t.navi,{onLeftClick:n.naviLeft,onRightClick:n.naviRight})))}}])&&r(t.prototype,n),s&&r(t,s),u}(l.Component);v=c([p.observer],v);var b=d.useTeacher((function(e){return l.createElement(p.Observer,null,(function(){return l.createElement(v,{state:e.state,actions:e.actions})}))}));t.default=f.hot(b)},function(e,t,n){t.hot=function(e){return e}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Navi=void 0;var l=n(0),p=n(2),f=n(1),_=n(4),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,n,s,a=i(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).m_on=!1,t.m_isStarted=!1,t._onClick=function(e){t.m_on=!0},t}return t=u,(n=[{key:"componentDidUpdate",value:function(e){this.m_isStarted||!this.props.view||e.view||(this.m_isStarted=!0,this.m_on=!0)}},{key:"render",value:function(){var e=this.m_on?void 0:"off",t={visibility:this.props.view?"visible":"hidden"};return l.createElement(l.Fragment,null,l.createElement("div",{id:"common_navi_left",className:e,style:t},l.createElement("div",null,l.createElement("div",{onClick:this._onClick},l.createElement(_.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),l.createElement(_.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))),l.createElement("div",{id:"common_navi_right",className:e,style:t},l.createElement("div",null,l.createElement("div",{onClick:this._onClick},l.createElement(_.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),l.createElement(_.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))))}}])&&r(t.prototype,n),s&&r(t,s),u}(l.Component);c([p.observable],d.prototype,"m_on",void 0),d=c([f.observer],d),t.Navi=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.SENDPROG=t.useTeacher=t.tContext=t.TeacherConsumer=t.TeacherProvider=t.TeacherContext=void 0;var d,m=n(0),h=n(2),y=n(7),v=n(19),b=n(40),g=n(14);!function(e){e[e.READY=0]="READY",e[e.SENDING=1]="SENDING",e[e.SENDED=2]="SENDED",e[e.COMPLETE=3]="COMPLETE"}(d||(d={})),t.SENDPROG=d;var w=function(e){a(n,e);var t=c(n);function n(){var e;return r(this,n),(e=t.call(this))._warmupFnc=null,e._questionFnc=null,e._qnaFnc=null,e._graphFnc=null,e._graphSheetFnc=null,e._summaryFnc=null,e._checkupFnc=null,e._uploadInclassReport=function(t){var n=e._data.question,r=[];n.forEach((function(e,n){var o=t.returns[n],i=g._toStringTimestamp(new Date(o.stime)),s=g._toStringTimestamp(new Date(o.etime));o&&e.tmq_seq&&r.push({std_cont_seq:e.tmq_seq,studentId:t.id,ans_tf:o.answer===e.answer?"1":"0",ans_submit:""+o.answer,ans_starttime:i,ans_endtime:s,sc_div1:e.SC_DIV1?e.SC_DIV1:"",sc_div2:e.SC_DIV2?e.SC_DIV2:"",sc_div3:e.SC_DIV3?e.SC_DIV3:"",sc_div4:e.SC_DIV4?e.SC_DIV4:"",files:null,ans_correct:""+e.answer,tab_index:""})})),r.length>0&&(console.log("inclassReport(LogFromContentTeacher): ",r),y.uploadInclassReport(r))},e.state.videoPopup=!1,e.state.viewStoryBook=!1,e.state.warmup_returns=[],e.state.isNaviBack=!1,e.state.isVideoStudied=!1,e.actions.getData=function(){return e._data},e.actions.gotoDirection=function(){return e._setViewDiv("direction")},e.actions.gotoNextBook=function(){y.sendLauncher(9,null)},e.actions.setWarmupFnc=function(t){e._warmupFnc=t},e.actions.setQuestionFnc=function(t){e._questionFnc=t},e.actions.setQNAFnc=function(t){e._qnaFnc=t},e.actions.setGraphFnc=function(t){e._graphFnc=t},e.actions.setGraphSheetFnc=function(t){e._graphSheetFnc=t},e.actions.setSummaryFnc=function(t){e._summaryFnc=t},e.actions.setCheckupFnc=function(t){e._checkupFnc=t},e}return i(n,[{key:"_setViewDiv",value:function(e){e!==this.state.viewDiv&&(this.state.videoPopup=!1,this.state.viewStoryBook=!1),s(p(n.prototype),"_setViewDiv",this).call(this,e)}},{key:"receive",value:function(e){if(s(p(n.prototype),"receive",this).call(this,e),11===e.type&&e.data){var t,r,o=e.data,i=null,a=[];if("warmup_return"===o.msgtype){var u=o;this._warmupFnc&&(this._warmupFnc(u),t=g._toStringTimestamp(new Date(u.stime)),r=g._toStringTimestamp(new Date(u.etime)),a.push({std_cont_seq:0,studentId:u.id,ans_tf:"1",ans_submit:"typ;"+u.msg,ans_starttime:t||"",ans_endtime:r||"",sc_div1:"",sc_div2:"",sc_div3:"",sc_div4:"",files:i,ans_correct:"",tab_index:"4"}))}else if("qna_return"===o.msgtype){var c=o;if(this._qnaFnc){if(this._qnaFnc(c),c.seq<0)return;t=g._toStringTimestamp(new Date(c.stime)),r=g._toStringTimestamp(new Date(c.etime));for(var l="qna;",f=[],_=0;_<this._data.scripts.length;_++)this._data.scripts[_].passage_page===c.seq&&f.push(this._data.scripts[_]);if(0===f.length)return;c.returns.forEach((function(e,t){var n=f[e];n&&(l+="qna;"===l?n.seq+"|"+n.dms_eng:"§"+n.seq+"|"+n.dms_eng)})),a.push({std_cont_seq:0,studentId:c.id,ans_tf:0===c.returns.length?"0":"1",ans_submit:l,ans_starttime:t||"",ans_endtime:r||"",sc_div1:"",sc_div2:"",sc_div3:"",sc_div4:"",files:i,ans_correct:"",tab_index:"5"})}}else if("question_return"===o.msgtype){var d=o;this._questionFnc&&(this._questionFnc(d),this._uploadInclassReport(d))}else if("graphic_return"===o.msgtype){var m=o;this._graphFnc&&this._graphFnc(m)}else if("sheet_return"===o.msgtype){var h=o;if(this._graphSheetFnc){this._graphSheetFnc(h),t=g._toStringTimestamp(new Date(h.stime)),r=g._toStringTimestamp(new Date(h.etime));var v="img;",b="3";"keyboard"===h.type?(v="typ;"+h.input,b="14"):""!==h.input&&(i=[]).push(h.input),a.push({std_cont_seq:0,studentId:h.id,ans_tf:"1",ans_submit:v,ans_starttime:t||"",ans_endtime:r||"",sc_div1:"",sc_div2:"",sc_div3:"",sc_div4:"",files:i,ans_correct:"",tab_index:b})}}else if("summary_return"===o.msgtype){var w=o;this._summaryFnc&&this._summaryFnc(w)}else if("v_checkup_return"===o.msgtype){var O=o;if(this._checkupFnc){if(this._checkupFnc(O),t=g._toStringTimestamp(new Date(O.stime)),r=g._toStringTimestamp(new Date(O.etime)),1!==O.returns.length)return;O.returns[0]}}a.length>0&&(console.log("inclassReport(LogFromContentTeacher): ",a),y.uploadInclassReport(a))}}},{key:"setData",value:function(e){this._data=v.initData(e);for(var t=0;t<this._data.warmup.length;t++)this.state.warmup_returns[t]=[]}}]),n}(b.TeacherContextBase);_([h.observable],w.prototype,"state",void 0),_([h.action],w.prototype,"_setViewDiv",null),t.TeacherContext=w;var O=new w;t.tContext=O;var S=m.createContext(O),E=S.Provider,k=S.Consumer;t.TeacherConsumer=k;var T=function(e){a(n,e);var t=c(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"render",value:function(){return m.createElement(E,{value:O},this.props.children)}}]),n}(m.Component);t.TeacherProvider=T,t.useTeacher=function(e){return function(t){return m.createElement(k,null,(function(t){return m.createElement(e,Object.assign({},t))}))}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":o(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TeacherContextBase=void 0;var s=n(2),a=n(3),u=n(7),c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._naviLeftFnc=null,this._naviRightFnc=null,this.state={viewDiv:"direction",directionON:!1,navi:{view:!1,enableLeft:!1,enableRight:!1},svg_bg:{view:!0,bPlay:!1,viewCharactor:!0},retCnt:0,numOfStudent:0},this.actions={onDirectionEndStart:function(){"direction"===t.state.viewDiv&&u.sendPAD(3,null)},onDirectionEnded:function(){"direction"===t.state.viewDiv&&t._setViewDiv("content"),a.App.isStarted=!0},setNaviView:function(e){t.state.navi.view=e},setNavi:function(e,n){t.state.navi.enableLeft=e,t.state.navi.enableRight=n},setNaviFnc:function(e,n){t._naviLeftFnc=e,t._naviRightFnc=n},naviLeft:function(){"direction"===t.state.viewDiv?u.sendLauncher(8,null):(a.App.pub_playBtnPage(),t._naviLeftFnc?t._naviLeftFnc():t._setViewDiv("direction"))},naviRight:function(){"direction"===t.state.viewDiv?(a.App.pub_playBtnPage(),t.state.directionON=!1):(a.App.pub_playBtnPage(),t._naviRightFnc?t._naviRightFnc():u.sendLauncher(9,null))},setRetCnt:function(e){e>t.state.numOfStudent&&(e=t.state.numOfStudent),t.state.retCnt=e},setNumOfStudent:function(e){t.state.numOfStudent=e}}}var t,n,o;return t=e,(n=[{key:"_setViewDiv",value:function(e){this.state.viewDiv!==e&&(a.App.pub_stop(),"direction"===e?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0,u.sendLauncher(5,null),u.sendPAD(1,null),this.state.navi.view=!0,this.state.navi.enableLeft=a.App.prevBook,this.state.navi.enableRight=!0,this._naviLeftFnc=null,this._naviRightFnc=null):(this.state.directionON=!1,this.state.svg_bg.bPlay=!1,this.state.svg_bg.viewCharactor=!1,u.sendLauncher(6,null),u.sendPAD(0,null)),this._naviLeftFnc=null,this._naviRightFnc=null,this.state.numOfStudent=0,this.state.retCnt=0,this.state.viewDiv=e)}},{key:"start",value:function(){"direction"===this.state.viewDiv&&(this.state.directionON=!0,this.state.navi.view=!0,this.state.navi.enableLeft=a.App.prevBook,this.state.navi.enableRight=!0,this.state.svg_bg.bPlay=!0,u.sendLauncher(5,null),u.sendPAD(1,null))}},{key:"receive",value:function(e){}},{key:"uploaded",value:function(e){}},{key:"notify",value:function(e){}},{key:"notifyRecorded",value:function(e){}},{key:"notifyVideoRecord",value:function(e){}}])&&r(t.prototype,n),o&&r(t,o),e}();i([s.observable],c.prototype,"state",void 0),i([s.action],c.prototype,"_setViewDiv",null),i([s.action],c.prototype,"start",null),t.TeacherContextBase=c},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var f=n(0),_=n(2),d=n(1),m=n(6),h=n(9),y=n(10),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,s,u=i(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e)).m_on=!1,t.m_clipView=!1,t.m_imgDiv=null,t._refImg=function(e){e&&void 0!==t.props.video_url&&""!==t.props.video_url&&(t.m_imgDiv=e,t.m_clipView||m.delay((function(){t.m_imgDiv&&(t.m_clipView=!0)}),1250))},t._onClick=function(){t.props.isTeacher&&t._off()},t._off=function(){return p(a(t),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.view||!this.m_on){e.next=6;break}return this.m_on=!1,this.props.onEndStart&&this.props.onEndStart(),e.next=5,h.wait(500);case 5:this.props.view&&!this.m_on&&this.props.onEnd&&this.props.onEnd();case 6:case"end":return e.stop()}}),e,this)})))},t.m_on=e.view&&e.on,t}return t=c,(n=[{key:"_on",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.m_on=!0;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"componentDidUpdate",value:function(e){this.props.view?e.view?this.props.on&&!e.on?this._on():!this.props.on&&e.on&&this._off():this.props.on?this._on():this.m_on=!1:this.m_on=!1}},{key:"render",value:function(){var e=[];return e.push(this.props.className),this.props.view?this.m_on&&e.push("on"):e.push("hide"),f.createElement("div",{className:e.join(" "),onClick:this._onClick},this.props.children,f.createElement("img",{className:"movieclip",src:this.props.video_url,ref:this._refImg,style:this.m_clipView?void 0:y.HIDE}),f.createElement("div",{className:"direction"}))}}])&&r(t.prototype,n),s&&r(t,s),c}(f.Component);l([_.observable],v.prototype,"m_on",void 0),l([_.observable],v.prototype,"m_clipView",void 0),l([_.action],v.prototype,"_off",void 0),v=l([d.observer],v),t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),_=n(4),d=n(2),m=n(3),h=n(43),y=n(48),v=n(55),b=n(60),g=n(68),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){var e;return r(this,c),(e=u.apply(this,arguments))._Title="Compreshension",e._Tab="Warmup",e._btn_disable="",e._onBook=function(){m.App.pub_stop(),e.props.state.viewStoryBook=!e.props.state.viewStoryBook},e._onQuiz=function(){m.App.pub_stop(),e.props.state.viewAdditionalQuiz=!e.props.state.viewAdditionalQuiz,e.props.actions.setNaviView(!1)},e._offStoryBook=function(){e.props.state.viewStoryBook=!1},e._onVideo=function(){m.App.pub_stop(),e.props.state.videoPopup=!e.props.state.videoPopup,e.props.actions.setNaviView(!1)},e._offVideo=function(){console.log("TComprehension _offVideo"),e.props.state.videoPopup=!1},e._clickComprension=function(t){"Compreshension"!==e._Title&&(m.App.pub_playBtnTab(),e._btn_disable="",e._Title="Compreshension",e._Tab="Warmup",e.props.state.isNaviBack=!1)},e._clickVisual=function(t){"VISUALIZING"!==e._Title&&(m.App.pub_playBtnTab(),e._btn_disable="",e._Title="VISUALIZING",e._Tab="GraphicOrganizer",e.props.state.isNaviBack=!1)},e._clickSummary=function(t){"SUMMARIZING"!==e._Title&&(m.App.pub_playBtnTab(),e._btn_disable="",e._Title="SUMMARIZING",e._Tab="Summary",e.props.state.isNaviBack=!1)},e._clickWarmup=function(t){"Warmup"!==e._Tab&&(m.App.pub_playBtnTab(),e._btn_disable="",e._Tab="Warmup",e.props.state.isNaviBack=!1)},e._clickPassage=function(t){"Passage"!==e._Tab&&(m.App.pub_playBtnTab(),e._btn_disable="",e._Tab="Passage",e.props.state.isNaviBack=!1)},e._clickQuestion=function(t){"Question"!==e._Tab&&(m.App.pub_playBtnTab(),e._btn_disable="",e._Tab="Question",e.props.state.isNaviBack=!1)},e._letsTalkClosed=function(){e.props.state.viewAdditionalQuiz=!1,e.props.actions.setNaviView(!0)},e._onSetNavi=function(t,n){e._btn_disable="",e._Title=t,e._Tab=n},e._onStuding=function(t){e._btn_disable=t},e}return t=c,(n=[{key:"componentDidUpdate",value:function(e){this.props.view&&!e.view?(this._Title="Compreshension",this._Tab="Warmup",this._btn_disable="",this.props.state.viewAdditionalQuiz=!1):!this.props.view&&e.view}},{key:"render",value:function(){var e=this.props,t=e.view,n=e.actions,r=e.state,o=n.getData();return p.createElement("div",{className:"t_compre "+this._Title},p.createElement("div",{className:"top"},p.createElement(_.ToggleBtn,{className:"btn_comprehension",on:"Compreshension"===this._Title,disabled:""!==this._btn_disable,onClick:this._clickComprension})),p.createElement(_.ToggleBtn,{disabled:"all"===this._btn_disable,className:"btn_book"+("Compreshension"===this._Title?"":" up"),onClick:this._onBook}),p.createElement(_.ToggleBtn,{disabled:"all"===this._btn_disable,className:"btn_video"+("Compreshension"===this._Title?"":" up"),onClick:this._onVideo}),p.createElement(_.ToggleBtn,{disabled:"all"===this._btn_disable,className:"btn_additional_quiz"+("Compreshension"===this._Title?"":" up"),onClick:this._onQuiz}),p.createElement("div",{className:"btn_tab",style:{display:"Compreshension"===this._Title?"":"none"}},p.createElement(_.ToggleBtn,{className:"btn_warmup",on:"Warmup"===this._Tab&&"Compreshension"===this._Title,disabled:""!==this._btn_disable,onClick:this._clickWarmup}),p.createElement(_.ToggleBtn,{className:"btn_passage",on:"Passage"===this._Tab&&"Compreshension"===this._Title,disabled:""!==this._btn_disable,onClick:this._clickPassage}),p.createElement(_.ToggleBtn,{className:"btn_question",on:"Question"===this._Tab&&"Compreshension"===this._Title,disabled:""!==this._btn_disable,onClick:this._clickQuestion})),p.createElement(h.default,{view:t,inview:"Warmup"===this._Tab&&"Compreshension"===this._Title,videoPopup:this.props.state.videoPopup,viewStoryBook:this.props.state.viewStoryBook,data:o,state:r,actions:n,onStudy:this._onStuding,onSetNavi:this._onSetNavi}),p.createElement(y.default,{view:t,videoPopup:this.props.state.videoPopup,viewStoryBook:this.props.state.viewStoryBook,studying:""!==this._btn_disable,inview:"Passage"===this._Tab&&"Compreshension"===this._Title,data:o,state:r,actions:n,onStudy:this._onStuding,onSetNavi:this._onSetNavi}),p.createElement(v.default,{view:t,videoPopup:this.props.state.videoPopup,viewStoryBook:this.props.state.viewStoryBook,studying:""!==this._btn_disable,inview:"Question"===this._Tab&&"Compreshension"===this._Title,data:o,state:r,actions:n,onStudy:this._onStuding,onSetNavi:this._onSetNavi}),p.createElement(b.default,{view:this.props.state.videoPopup,data:o,state:r,actions:n,onClosed:this._offVideo}),p.createElement(g.default,{view:this.props.state.viewStoryBook,data:o,state:r,actions:n,onClosed:this._offStoryBook}))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);l([d.observable],w.prototype,"_Title",void 0),l([d.observable],w.prototype,"_Tab",void 0),l([d.observable],w.prototype,"_btn_disable",void 0),w=l([f.observer],w),t.default=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),_=n(3),d=n(15),m=n(2),h=n(7),y=n(10),v=n(16),b=n(44),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){var e;return r(this,c),(e=u.apply(this,arguments)).m_player=new v.MPlayer(new v.MConfig(!0)),e._curIdx_tgt=0,e._video_zoom=!1,e._onPage=function(t){e._curIdx_tgt!==t&&(_.App.pub_playBtnPage(),e._curIdx_tgt=t,e.props.actions.setWarmupFnc(null),h.sendPAD(0,null),e.props.onStudy(""))},e._onVideoZoomed=function(){e._video_zoom=!0},e}return t=c,(n=[{key:"_setNavi",value:function(){var e=this,t=this.props,n=t.actions,r=t.data,o=t.onStudy,i=t.onSetNavi;n.setNaviView(!0),n.setNavi(!0,!0),n.setNaviFnc((function(){0===e._curIdx_tgt?n.gotoDirection():(_.App.pub_stop(),_.App.pub_playBtnPage(),e._curIdx_tgt=e._curIdx_tgt-1,n.setWarmupFnc(null),h.sendPAD(0,null),o(""))}),(function(){e._curIdx_tgt>=r.warmup.length-1?i("Compreshension","Passage"):(_.App.pub_stop(),_.App.pub_playBtnPage(),e._curIdx_tgt=e._curIdx_tgt+1,n.setWarmupFnc(null),h.sendPAD(0,null),o(""))}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.state,r=(t.actions,t.onStudy,t.videoPopup),o=t.viewStoryBook,i=t.view,s=t.inview;i&&!e.view?this._setNavi():!i&&e.view,s&&!e.inview?(this._curIdx_tgt=0,h.sendPAD(0,null),this.props.onStudy(""),this._setNavi(),n.isNaviBack&&(this._curIdx_tgt=this.props.data.warmup.length-1,this.props.state.isNaviBack=!1)):!this.props.inview&&e.inview&&this.props.actions.setWarmupFnc(null),this._video_zoom&&(this._video_zoom=!1),this.props.videoPopup&&!e.videoPopup?(this.m_player.bPlay&&this.m_player.pause(),this._video_zoom=!1):!this.props.videoPopup&&e.videoPopup&&(this._video_zoom=!0),s&&e.inview&&(!r&&e.videoPopup||!o&&e.viewStoryBook)&&this._setNavi()}},{key:"render",value:function(){var e,t,n=this,r=this._curIdx_tgt,o=this.props,i=(o.view,o.inview),s=o.data,a=o.state,u=o.actions;2===s.warmup_type?(t=" video",e=p.createElement("div",{className:"video_container"})):t=" image";var c=a.warmup_returns;return p.createElement(p.Fragment,null,p.createElement("div",{className:"warmup"+t,style:i?void 0:y.NONE},p.createElement("div",{className:"nav"},s.warmup.length>1&&p.createElement("div",{className:"btn_page_box"},s.warmup.length>1&&s.warmup.map((function(e,t){return p.createElement(d.default,{key:t,on:t===r,idx:t,onClick:n._onPage})})))),s.warmup.map((function(e,t){return p.createElement(b.default,{key:t,idx:t,warmupType:s.warmup_type,viewDiv:a.viewDiv,view:i&&r===t,data:e,state:a,actions:u,returns:c[t],videoZoom:n._video_zoom})})),e))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);l([m.observable],g.prototype,"_curIdx_tgt",void 0),l([m.observable],g.prototype,"_video_zoom",void 0),g=l([f.observer],g),t.default=g},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var f=n(0),_=n(1),d=n(6),m=n(3),h=n(4),y=n(17),v=n(2),b=n(12),g=n(9),w=n(7),O=n(47),S=n(11).default,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,s,u=i(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e))._jsxs=[],t._zoom=!1,t._retCnt=0,t._numOfStudent=0,t._prog=0,t._speaker=!1,t._opt=!0,t._rcalNum=0,t._bAudioPlay=!1,t._swiper=null,t._clickZoom=function(){m.App.pub_playBtnTab(),t._zoom||t.resetSwiper(),t._zoom=!t._zoom,t.props.actions.setNavi(!t._zoom,!t._zoom)},t._onSound=function(){t.props.view&&(t._speaker||(t._bAudioPlay=!0,m.App.pub_play(m.App.data_url+t.props.data.audio,t._onSoundComplete)))},t._onSoundComplete=function(){t._bAudioPlay=!1,m.App.pub_stop()},t._refSwiper=function(e){!t._swiper&&e&&(t._swiper=e.swiper)},t._onWarmup=function(e){return p(a(t),void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,s,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.props,r=n.view,o=n.returns,r&&!(this._prog<1)){t.next=3;break}return t.abrupt("return");case 3:i=null,s=0;case 5:if(!(s<m.App.students.length)){t.next=12;break}if(m.App.students[s].id!==e.id){t.next=9;break}return i={thumb:m.App.students[s].thumb,avatar:m.App.students[s].avatar,displayMode:m.App.students[s].displayMode,id:e.id,color:e.color,msg:e.msg},t.abrupt("break",12);case 9:s++,t.next=5;break;case 12:if(i){t.next=14;break}return t.abrupt("return");case 14:if(0!==o.length){t.next=18;break}for(;this._jsxs.length>0;)this._jsxs.pop();t.next=25;break;case 18:a=0;case 19:if(!(a<o.length)){t.next=25;break}if(o[a].id!==e.id){t.next=22;break}return t.abrupt("return");case 22:a++,t.next=19;break;case 25:return this._jsxs.push(f.createElement(O.default,Object.assign({},i))),o.push(i),w.addStudentForStudentReportType6(e.id),this._retCnt=o.length,t.next=31,g.wait(100);case 31:this._swiper&&(this._swiper.wrapperEl.scrollHeight<=this._swiper.height?this._opt=!0:this._opt=!1,this._swiper.update(),this._swiper.slideTo(this._retCnt-1));case 32:case"end":return t.stop()}}),t,this)})))},t._onSend=function(){var e=t.props,n=e.view,r=e.idx,o=e.actions;if(n&&!(t._prog>0)){m.App.pub_playToPad(),t._retCnt=0,t._numOfStudent=0,t._prog=1;var i={msgtype:"warmup_send",idx:r};w.sendPAD(10,i),m.App.pub_reloadStudents((function(){return p(a(t),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&1===this._prog){e.next=2;break}return e.abrupt("return");case 2:return this._numOfStudent=m.App.students.length,o.setWarmupFnc(this._onWarmup),e.next=6,g.wait(500);case 6:if(n&&1===this._prog){e.next=8;break}return e.abrupt("return");case 8:this._prog=2;case 9:case"end":return e.stop()}}),e,this)})))}))}},t.resetSwiper=function(){t._swiper&&(t._swiper.update(),t._swiper.slideTo(0)),d.delay((function(){t._swiper&&(t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300)},t._clickReturn=function(){m.App.pub_playBtnTab();for(var e=[],n=0;n<t.props.returns.length;n++)e.push(t.props.returns[n].id);w.startStudentReportProcess(6,e)},t._jsxs.push(f.createElement("div",{className:"swiper-no-swiping no-swiping-bg"})),t}return t=c,(n=[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.view,o=n.viewDiv,i=n.returns,s=n.videoZoom;r&&!e.view||"content"===o&&"content"!==e.viewDiv?(this._zoom=!1,this._rcalNum++,this._swiper&&(this._swiper.update(),this._swiper.slideTo(0)),d.delay((function(){t._swiper&&(t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300),0===i.length&&(this._prog=0,this._retCnt=0,this._numOfStudent=0)):!r&&e.view&&(this._zoom=!1,this._rcalNum--,this._swiper&&(this._swiper.update(),this._swiper.slideTo(0)),d.delay((function(){t._swiper&&(t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300),this._bAudioPlay&&(this._bAudioPlay=!1,m.App.pub_stop())),s&&!e.videoZoom&&this.resetSwiper()}},{key:"render",value:function(){var e,t,n=this.props,r=n.view,o=n.data,i=n.state,s=n.warmupType,a=n.returns;return 1===s?(e=f.createElement("div",{className:"img-box"+(this._zoom?" zoom":"")},f.createElement("div",null,f.createElement("div",null,f.createElement("div",null,f.createElement("img",{src:m.App.data_url+o.image,draggable:!1}),f.createElement(h.ToggleBtn,{className:"btn_zoom",onClick:this._clickZoom}))))),t="image"):t="video",f.createElement("div",{className:"warmup "+t,style:{display:r?"":"none"}},f.createElement("div",{className:"return_cnt_box white",onClick:this._clickReturn,style:{display:this._prog>=2?"":"none"}},f.createElement("div",null,this._retCnt,"/",this._numOfStudent)),f.createElement("div",{className:"speakerbox"},f.createElement("div",{className:"speaker"},f.createElement("div",null,f.createElement("img",{src:"/content/digenglishCB_lib/D/reading_english/teacher/images/speaker_icon.png",draggable:!1,onClick:this._onSound}),f.createElement("div",{className:"audio"},f.createElement(y.default,{minFontSize:28,maxFontSize:33,maxLineNum:2,rcalcNum:this._rcalNum,view:r,onClick:this._onSound,textAlign:"left"},o.question))))),e,f.createElement("div",{className:"line"}),f.createElement("div",{className:"conversation"+(0===a.length?" swiper-no-swiping":"")},f.createElement(S,{ref:this._refSwiper,direction:"vertical",scrollbar:{el:".swiper-scrollbar",draggable:!0},observer:!0,slidesPerView:"auto",freeMode:!0,noSwiping:this._opt,followFinger:!0,noSwipingClass:"swiper-no-swiping"},this._jsxs.map((function(e,t){return f.createElement("div",{key:t},e)})))),f.createElement(b.default,{view:r&&this._prog<2&&!i.videoPopup&&0===a.length,type:"teacher",sended:!1,originY:0,onSend:this._onSend}))}}])&&r(t.prototype,n),s&&r(t,s),c}(f.Component);l([v.observable],E.prototype,"_zoom",void 0),l([v.observable],E.prototype,"_retCnt",void 0),l([v.observable],E.prototype,"_numOfStudent",void 0),l([v.observable],E.prototype,"_prog",void 0),l([v.observable],E.prototype,"_speaker",void 0),l([v.observable],E.prototype,"_opt",void 0),l([v.observable],E.prototype,"_rcalNum",void 0),E=l([_.observer],E),t.default=E},function(e,t,n){"use strict";var r=n(46);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),_=n(6),d=n(19),m=n(2),h=n(22),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){var e;return r(this,c),(e=u.apply(this,arguments))._on=!1,e._displayMode="1",e._bndW=0,e._bndH=0,e._bndW_p=0,e._bndH_p=0,e._refCanvas=function(t){!e._canvas&&t&&(e._canvas=t,e._ctx=e._canvas.getContext("2d"))},e._onResize=function(t,n){e._bndW=t,e._bndH=n,e._draw()},e._toggle=function(){e._displayMode="1"===e._displayMode?"2":"1"},e}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this;_.delay((function(){e._on=!0,e._draw()}),500),this._displayMode=this.props.displayMode}},{key:"componentDidUpdate",value:function(){var e=this;this._on||_.delay((function(){e._on=!0,e._draw()}),500)}},{key:"_draw",value:function(){this._bndW<=0||this._bndH<=0||this._bndW===this._bndW_p&&this._bndH===this._bndH_p||this._canvas&&this._ctx&&(this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._canvas.width=this._bndW,this._canvas.height=this._bndH,d.drawBalloon(this._ctx,15,5,this._bndW-20,this._bndH-10,5,35,10,this.props.color),this._bndW_p=this._bndW,this._bndH_p=this._bndH)}},{key:"render",value:function(){var e=this.props,t=e.color,n=e.thumb,r=e.avatar,o=(e.displayMode,e.msg);return p.createElement("div",{className:"msg-item "+t+(this._on?" on":"")},p.createElement("img",{src:"2"===this._displayMode?r:n,onClick:this._toggle}),p.createElement("div",{className:"text"},p.createElement("canvas",{ref:this._refCanvas}),p.createElement("div",{className:"s_text"},o),p.createElement(h.default,{handleWidth:!1,handleHeight:!0,onResize:this._onResize})))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);l([m.observable],y.prototype,"_on",void 0),l([m.observable],y.prototype,"_displayMode",void 0),y=l([f.observer],y),t.default=y},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var f=n(0),_=n(6),d=n(1),m=n(3),h=n(7),y=n(4),v=n(15),b=n(9),g=n(2),w=n(12),O=n(10),S=n(16),E=n(21),k=n(49),T=n(50),P=n(51),R=n(52),x=n(53),C=n(54),D=n(11).default,N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,s,u=i(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e))._player=new S.MPlayer(new S.MConfig(!1)),t._swiper=null,t._curIdx=0,t._curSeq=-1,t._zoom=!1,t._pass_pop="off",t._studyDiv="off",t._trans=!1,t._view_structure=!1,t._prog=0,t._studyProg=0,t._retCnt=0,t._numOfStudent=0,t._audioOn=!1,t._countdown=new E.TimerState(3),t._viewCountDown=!1,t._yourturn=-1,t._ytNext=-1,t._infos=[],t._retUsers=[],t._opt=!0,t._refAudio=function(e){e&&!t._player.media&&(t._player.mediaInited(e),t._player.load(m.App.data_url+t.props.data.audio),t._player.addOnTime((function(e){if("READALOUD"===t._studyDiv){var n=t._infos[t._curIdx].scripts;e/=1e3;for(var r=-1,o=n.length,i=0;i<o;i++){var s=n[i];if(e>=s.audio_start&&e<=s.audio_end){r=s.seq;break}}if(r>=0&&r!==t._curSeq){t._curSeq=r;var a={msgtype:"focusidx",idx:r};h.sendPAD(10,a),t._transAt(r)}}else if(("off"===t._studyDiv||"QNA"===t._studyDiv)&&t._audioOn){var u=t.props.data.scripts;e/=1e3;for(var c=-1,l=-1,p=u.length,f=0;f<p;f++){var _=u[f];if(e>=_.audio_start&&e<=_.audio_end){c=_.seq,l=_.passage_page;break}}if(c>=0&&c!==t._curSeq){l>=0&&l>t._curIdx+1&&(t._curIdx=l-1,t._swiper&&(t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())),t._curSeq=c;var d={msgtype:"focusidx",idx:c};h.sendPAD(10,d),t._transAt(c)}}})),t._player.addOnPlayEnd((function(){if("READALOUD"===t._studyDiv){h.sendPAD(10,{msgtype:"dialogue_end"})}else if("SHADOWING"===t._studyDiv&&t._handleYourTurn(!0))return;t._audioOn=!1,t._curSeq=-1})),t._player.addOnPlayEndTemp((function(){if("READALOUD"===t._studyDiv){t._curSeq=-1;h.sendPAD(10,{msgtype:"dialogue_end"})}else if("SHADOWING"===t._studyDiv){if(t._curSeq<0)return;t._handleYourTurn(!1)}else t._audioOn&&(t._audioOn=!1),t._curSeq=-1})),t._player.addOnState((function(e,n){if("SHADOWING"===t._studyDiv||"READALOUD"===t._studyDiv){var r={msgtype:"SHADOWING"===t._studyDiv&&t._yourturn>=0||6!==e&&t._player.bPlay?"playing":"paused"};h.sendPAD(10,r)}})))},t._onPage=function(e){return p(a(t),void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.props.studying){t.next=2;break}return t.abrupt("return");case 2:if(!(e!==this._curIdx&&e>=0&&e<this._infos.length)){t.next=10;break}return m.App.pub_playBtnPage(),this._initAll(),this._curIdx=e,t.next=8,b.wait(300);case 8:this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize()),this._swiper&&(this._swiper.wrapperEl.scrollHeight<=this._swiper.height?this._opt=!0:this._opt=!1);case 10:case"end":return t.stop()}}),t,this)})))},t._clickReturn=function(){m.App.pub_playBtnTab(),h.startStudentReportProcess(6,t._retUsers)},t._refSwiper=function(e){!t._swiper&&e&&(t._swiper=e.swiper)},t._onSend=function(){if(t.props.view&&t.props.inview&&0===t._prog){for(t._prog=1,m.App.pub_playToPad(),t._retCnt=0;t._retUsers.length>0;)t._retUsers.pop();var e={msgtype:"passage_send",idx:t._curIdx};h.sendPAD(10,e),m.App.pub_reloadStudents((function(){return p(a(t),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.view&&this.props.inview){e.next=4;break}return e.abrupt("return");case 4:if(1===this._prog){e.next=6;break}return e.abrupt("return");case 6:return this._numOfStudent=m.App.students.length,e.next=9,b.wait(600);case 9:if(this.props.view&&this.props.inview){e.next=13;break}return e.abrupt("return");case 13:if(1===this._prog){e.next=15;break}return e.abrupt("return");case 15:this._prog=2;case 16:case"end":return e.stop()}}),e,this)})))}))}},t._clickTrans=function(){m.App.pub_playBtnTab(),t._trans=!t._trans;var e={msgtype:"view_trans",idx:t._trans?1:0};h.sendPAD(10,e)},t._clickStructure=function(){m.App.pub_playBtnTab(),t._view_structure=!t._view_structure},t._offTrans=function(){t._trans=!1;var e={msgtype:"view_trans",idx:t._trans?1:0};h.sendPAD(10,e)},t._offStructure=function(){t._view_structure=!1},t._clickZoom=function(){m.App.pub_playBtnTab(),t._zoom=!t._zoom,t.props.actions.setNaviView(!1)},t._offZoom=function(){t._zoom=!1,t._setNavi()},t._onPopupClosed=function(){t._pass_pop="off","off"===t._studyDiv&&t.props.actions.setNaviView(!0)},t._onReadClick=function(){if(t.props.view&&t.props.inview&&2===t._prog)if("READALOUD"===t._studyDiv){m.App.pub_playBtnTab(),t._initStudy(),t._studyDiv="off";h.sendPAD(10,{msgtype:"dialogue_end"}),t.props.actions.setNaviView(!0)}else"off"===t._pass_pop&&(m.App.pub_playBtnTab(),t._initStudy(),t._pass_pop="READALOUD",t.props.actions.setNaviView(!1))},t._onShadowClick=function(){var e=t.props,n=e.actions,r=e.inview;if(e.view&&r&&2===t._prog)if("SHADOWING"===t._studyDiv){m.App.pub_playBtnTab(),t._initStudy(),t._studyDiv="off";h.sendPAD(10,{msgtype:"dialogue_end"}),n.setNaviView(!0)}else"off"===t._pass_pop&&(m.App.pub_playBtnTab(),t._initStudy(),t._pass_pop="SHADOWING",n.setNaviView(!1))},t._onQAClick=function(){var e=t.props,n=e.actions,r=e.inview;if(e.view&&r&&2===t._prog)if("QNA"===t._studyDiv){m.App.pub_playBtnTab(),t._initStudy(),t._studyDiv="off";h.sendPAD(10,{msgtype:"dialogue_end"}),n.setNaviView(!0)}else"off"===t._pass_pop&&(m.App.pub_playBtnTab(),t._initStudy(),t._pass_pop="QNA",n.setNaviView(!1))},t._onAudio=function(){if("READALOUD"!==t._studyDiv&&"SHADOWING"!==t._studyDiv)if(m.App.pub_playBtnTab(),t._audioOn=!t._audioOn,t._player.bPlay&&t._player.pause(),t._audioOn){t._curSeq=-1;var e=t._infos[t._curIdx].passage;t._player.gotoAndPlay(1e3*e.start,1e3*e.end,1),t._swiper&&(t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}else t._curSeq=-1,t._swiper&&(t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())},t._onChoose=function(e){if("READALOUD"!==t._studyDiv&&"SHADOWING"!==t._studyDiv){t._audioOn&&(t._audioOn=!1);var n=t._curSeq;t._curSeq=e.seq,t._transAt(t._curSeq),m.App.pub_playBtnTab(),t._curSeq===n&&t._player.bPlay?(t._player.pause(),t._curSeq=-1):t._player.gotoAndPlay(1e3*e.audio_start,1e3*e.audio_end,1)}},t._studySend=function(){return p(a(t),void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,i,s,a,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.actions,r=t.view,o=t.inview,i=t.onStudy,r&&o&&2===this._prog&&"off"===this._studyDiv&&0===this._studyProg){e.next=3;break}return e.abrupt("return");case 3:if(m.App.pub_playToPad(),"READALOUD"!==this._pass_pop){e.next=8;break}s="readaloud_send",e.next=19;break;case 8:if("SHADOWING"!==this._pass_pop){e.next=12;break}s="shadowing_send",e.next=19;break;case 12:if("QNA"!==this._pass_pop){e.next=18;break}for(s="qna_send",a=this._infos[this._curIdx].qnaRets,u=0;u<a.length;u++){for(c=a[u];c.users.length>0;)c.users.pop();c.num=0}e.next=19;break;case 18:return e.abrupt("return");case 19:for(this._retCnt=0;this._retUsers.length>0;)this._retUsers.pop();return this._studyProg=1,this._studyDiv=this._pass_pop,i("QNA"===this._pass_pop?"ex_video":"all"),l={msgtype:s,idx:this._curIdx},h.sendPAD(10,l),e.next=28,b.wait(500);case 28:if(r&&o&&2===this._prog&&1===this._studyProg){e.next=30;break}return e.abrupt("return");case 30:if(this._studyProg=2,this._pass_pop="off",this._numOfStudent=m.App.students.length,"READALOUD"!==this._studyDiv&&"SHADOWING"!==this._studyDiv){e.next=43;break}return this._viewCountDown=!0,this._countdown.reset(),e.next=38,b.wait(300);case 38:if(r&&o&&2===this._prog){e.next=40;break}return e.abrupt("return");case 40:"READALOUD"!==this._studyDiv&&"SHADOWING"!==this._studyDiv||this._countdown.start(),e.next=44;break;case 43:"QNA"===this._studyDiv&&n.setQNAFnc(this._onQNA);case 44:case"end":return e.stop()}}),e,this)})))},t._onQNA=function(e){if("QNA"===t._studyDiv){for(var n=-1,r=0;r<m.App.students.length;r++)if(m.App.students[r].id===e.id){n=r;break}if(!(n<0||t._retUsers.indexOf(e.id)>=0)){for(var o=t._infos[t._curIdx].qnaRets,i=0;i<e.returns.length;i++){var s=e.returns[i];if(s<o.length){var a=o[s].users;a.indexOf(e.id)<0&&a.push(e.id),o[s].num=a.length}}t._retUsers.push(e.id),h.addStudentForStudentReportType6(e.id),t._retCnt=t._retUsers.length}}},t._countStart=function(){},t._countZero=function(){return p(a(t),void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,t.actions,n=t.inview,r=t.view,this._viewCountDown=!1,r&&n){e.next=6;break}return e.abrupt("return");case 6:if(2===this._prog){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,b.wait(300);case 10:if(r&&n){e.next=14;break}return e.abrupt("return");case 14:if(2===this._prog){e.next=16;break}return e.abrupt("return");case 16:"READALOUD"===this._studyDiv?(this._curSeq=-1,o=this._infos[this._curIdx].passage,this._player.gotoAndPlay(1e3*o.start,1e3*o.end,1)):"SHADOWING"===this._studyDiv&&(i=this._infos[this._curIdx].scripts[0],this._curSeq=i.seq,this._curSeq>=0&&this._transAt(this._curSeq),s={msgtype:"focusidx",idx:i.seq},h.sendPAD(10,s),this._player.gotoAndPlay(1e3*i.audio_start,1e3*i.audio_end,1));case 17:case"end":return e.stop()}}),e,this)})))};for(var n=e.data,r=n.passage,o=n.scripts,i=0;i<r.length;i++){for(var s={passage:r[i],scripts:[],qnaRets:[]},l=0;l<o.length;l++)o[l].passage_page===r[i].page&&(s.scripts.push(o[l]),s.qnaRets.push({num:0,users:[]}));t._infos.push(s)}return t}return t=c,(n=[{key:"_handleYourTurn",value:function(e){var t=this;if(this._curSeq<0)return!1;for(var n=this._infos[this._curIdx].scripts,r=-1,o=0;o<n.length;o++)if(n[o].seq===this._curSeq){r=o;break}if(r<0)return!1;var i=n[r],s=r<n.length-1?n[r+1]:null,a=1900*(i.audio_end-i.audio_start),u={msgtype:"view_yourturn",idx:i.seq};return h.sendPAD(10,u),this._yourturn=_.delay((function(){t._yourturn=-1,"SHADOWING"===t._studyDiv&&_.delay((function(){if("SHADOWING"===t._studyDiv)if(s&&!e){t._curSeq=s.seq,t._curSeq>=0&&t._transAt(t._curSeq);var n={msgtype:"focusidx",idx:s.seq};h.sendPAD(10,n),t._player.gotoAndPlay(1e3*s.audio_start,1e3*s.audio_end,1)}else t._curSeq=-1,h.sendPAD(10,{msgtype:"dialogue_end"})}),300)}),a),h.sendPAD(10,{msgtype:"playing"}),!0}},{key:"_transAt",value:function(e){if(this._swiper&&this._swiper.wrapperEl){var t=document.getElementById("script_box"),n=document.getElementById("script-bnd"),r=document.getElementById("script_"+e);if(t&&r&&n){var o=t.getBoundingClientRect(),i=n.getBoundingClientRect(),s=o.bottom-o.top-(i.bottom-i.top);if(!(s>=0)){var a=r.getBoundingClientRect();if(a.top<o.top+82){var u=this._swiper.translate+(o.top+82-a.top);u>0&&(u=0),this._swiper.wrapperEl.style.transitionDuration="300ms",this._swiper.setTranslate(u)}else if(a.bottom>o.bottom-82){var c=this._swiper.translate-(a.bottom-(o.bottom-82));c<s&&(c=s),this._swiper.wrapperEl.style.transitionDuration="300ms",this._swiper.setTranslate(c)}}}}}},{key:"_initAll",value:function(){this._pass_pop="off",this._prog=0,this._initStudy(),h.sendPAD(0,null)}},{key:"_initStudy",value:function(){for(this._zoom=!1,this._studyDiv="off",this._trans=!1,this._view_structure=!1,this._studyProg=0,this._retCnt=0;this._retUsers.length>0;)this._retUsers.pop();this._audioOn=!1,this._curSeq=-1,this._countdown.pause(),this._countdown.reset(),this._viewCountDown=!1,this._yourturn>=0&&(clearTimeout(this._yourturn),this._yourturn=-1),this._player.bPlay&&this._player.pause(),this._swiper&&this._swiper.slideTo(0),this.props.onStudy(""),this.props.actions.setQNAFnc(null)}},{key:"_setNavi",value:function(){var e=this,t=this.props,n=t.state,r=t.actions,o=t.onSetNavi;r.setNaviView("off"===this._studyDiv),r.setNavi(!0,!0),this.props.actions.setNaviFnc((function(){return p(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._curIdx){e.next=5;break}n.isNaviBack=!0,o("Compreshension","Warmup"),e.next=11;break;case 5:return m.App.pub_playBtnPage(),this._initAll(),this._curIdx=this._curIdx-1,e.next=10,b.wait(300);case 10:this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.wrapperEl.scrollHeight<=this._swiper.height?this._opt=!0:this._opt=!1);case 11:case"end":return e.stop()}}),e,this)})))}),(function(){return p(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._curIdx>=this._infos.length-1)){e.next=4;break}o("Compreshension","Question"),e.next=10;break;case 4:return m.App.pub_playBtnPage(),this._initAll(),this._curIdx=this._curIdx+1,e.next=9,b.wait(300);case 9:this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.wrapperEl.scrollHeight<=this._swiper.height?this._opt=!0:this._opt=!1);case 10:case"end":return e.stop()}}),e,this)})))}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.state,o=n.inview,i=n.videoPopup,s=n.viewStoryBook,a=n.view;a&&!e.view?(this._initAll(),this._curIdx=0):!a&&e.view&&(this._player.bPlay&&this._player.pause(),this._audioOn&&(this._audioOn=!1)),i&&!e.videoPopup?(r.isVideoStudied&&(r.isVideoStudied=!1),this._player.pause(),this._audioOn=!1,this._curSeq=-1):!i&&e.videoPopup&&r.isVideoStudied&&(this._initAll(),this._curIdx=0,_.delay((function(){t._swiper&&(t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300)),o&&!e.inview?(this._initAll(),this._setNavi(),r.isNaviBack&&(this._curIdx=this._infos.length-1,r.isNaviBack=!1),_.delay((function(){t._swiper&&(t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize(),t._swiper&&(t._swiper.wrapperEl.scrollHeight<=t._swiper.height?t._opt=!0:t._opt=!1))}),300)):!o&&e.inview&&(this._player.bPlay&&this._player.pause(),this._audioOn&&(this._audioOn=!1)),o&&e.inview&&(!i&&e.videoPopup||!s&&e.viewStoryBook)&&this._setNavi()}},{key:"render",value:function(){var e=this,t=this.props,n=t.inview,r=t.data,o=this._curIdx,i=this._infos[o],s=i.scripts,a=i.qnaRets;return f.createElement("div",{className:"passage",style:n?void 0:O.NONE},f.createElement("div",{className:"nav"},f.createElement("div",{className:"btn_page_box"},this._infos.map((function(t,n){return f.createElement(v.default,{key:n,on:n===o,idx:n,onClick:e._onPage})}))),f.createElement("div",{className:"right"},f.createElement("div",{className:"return_cnt_box white",style:"QNA"===this._studyDiv&&this._studyProg>=2?void 0:O.NONE,onClick:this._clickReturn},f.createElement("div",null,this._retCnt,"/",this._numOfStudent)),f.createElement(y.ToggleBtn,{disabled:"READALOUD"===this._studyDiv||"SHADOWING"===this._studyDiv,className:"btn_trans",onClick:this._clickTrans}),f.createElement(y.ToggleBtn,{disabled:"READALOUD"===this._studyDiv||"SHADOWING"===this._studyDiv,className:"btn_img",onClick:this._clickStructure}),f.createElement(y.ToggleBtn,{disabled:"READALOUD"===this._studyDiv||"SHADOWING"===this._studyDiv,className:"btn_img",onClick:this._clickZoom}),f.createElement(y.ToggleBtn,{disabled:"READALOUD"===this._studyDiv||"SHADOWING"===this._studyDiv,className:"btn_audio_drop",on:this._audioOn,onClick:this._onAudio}))),f.createElement("audio",{controls:!1,autoPlay:!1,ref:this._refAudio}),f.createElement("div",{id:"script_box",className:"script_box"},f.createElement(D,{ref:this._refSwiper,direction:"vertical",scrollbar:{el:".swiper-scrollbar",draggable:!0},observer:!0,slidesPerView:"auto",freeMode:!0,noSwiping:this._opt,followFinger:!0,noSwipingClass:"swiper-no-swiping"},f.createElement("div",{id:"script-bnd",className:"script-bnd"},s.map((function(t,n){return f.createElement(C.default,{key:t.seq,curSeq:e._curSeq,script:t,retCnt:e._retCnt,qnaRet:a[n],viewReturn:"QNA"===e._studyDiv,onChoose:e._onChoose})})))),f.createElement(E.CountDown2,{state:this._countdown,view:this._viewCountDown,onStart:this._countStart,onComplete:this._countZero}),f.createElement(k.default,{className:"yourturn",view:this._yourturn>=0,start:this._yourturn>=0})),f.createElement("div",{className:"popup_btns"},f.createElement(y.ToggleBtn,{className:"btn_listen_repeat",disabled:this._prog<2||"READALOUD"===this._studyDiv||"QNA"===this._studyDiv,on:"SHADOWING"===this._pass_pop||"SHADOWING"===this._studyDiv,onClick:this._onShadowClick}),f.createElement(y.ToggleBtn,{className:"btn_readalong",disabled:this._prog<2||"SHADOWING"===this._studyDiv||"QNA"===this._studyDiv,on:"READALOUD"===this._pass_pop||"READALOUD"===this._studyDiv,onClick:this._onReadClick}),f.createElement(y.ToggleBtn,{className:"btn_qna",disabled:this._prog<2||"SHADOWING"===this._studyDiv||"READALOUD"===this._studyDiv,on:"QNA"===this._pass_pop||"QNA"===this._studyDiv,onClick:this._onQAClick})),f.createElement(w.default,{view:n&&this._prog<=1&&!this.props.state.videoPopup,type:"teacher",sended:!1,originY:0,onSend:this._onSend}),f.createElement(x.default,{view:!0===this._zoom,passage:i.passage,onClosed:this._offZoom}),f.createElement(R.default,{type:this._pass_pop,view:"off"!==this._pass_pop,onClosed:this._onPopupClosed,onSend:this._studySend}),f.createElement(T.default,{view:!0===this._trans,scripts:s,onClosed:this._offTrans}),f.createElement(P.default,{view:!0===this._view_structure,data:r.passage,onClosed:this._offStructure}))}}])&&r(t.prototype,n),s&&r(t,s),c}(f.Component);l([g.observable],N.prototype,"_curIdx",void 0),l([g.observable],N.prototype,"_curSeq",void 0),l([g.observable],N.prototype,"_zoom",void 0),l([g.observable],N.prototype,"_pass_pop",void 0),l([g.observable],N.prototype,"_studyDiv",void 0),l([g.observable],N.prototype,"_trans",void 0),l([g.observable],N.prototype,"_view_structure",void 0),l([g.observable],N.prototype,"_prog",void 0),l([g.observable],N.prototype,"_studyProg",void 0),l([g.observable],N.prototype,"_retCnt",void 0),l([g.observable],N.prototype,"_numOfStudent",void 0),l([g.observable],N.prototype,"_audioOn",void 0),l([g.observable],N.prototype,"_viewCountDown",void 0),l([g.observable],N.prototype,"_yourturn",void 0),l([g.observable],N.prototype,"_ytNext",void 0),l([g.observable],N.prototype,"_opt",void 0),N=l([d.observer],N),t.default=N},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(1),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,n,s,a=i(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e))._svg=null,t._refSVG=function(e){!t._svg&&e&&(t._svg=e,t._svg.setCurrentTime(0),t.props.start&&t._svg.animationsPaused()?t._svg.unpauseAnimations():t.props.start||t._svg.animationsPaused()||t._svg.pauseAnimations())},t._className=e.className,t}return t=u,(n=[{key:"componentWillUpdate",value:function(e){if(this.props.view!==e.view||this.props.start!==e.start){var t=[];t.push(e.className),e.view||t.push("hide"),this._className=t.join(" ")}}},{key:"componentDidUpdate",value:function(e){this.props.start&&!e.start?this._svg&&(this._svg.setCurrentTime(0),this._svg.animationsPaused()&&this._svg.unpauseAnimations()):!this.props.start&&e.start&&this._svg&&(this._svg.animationsPaused()||this._svg.pauseAnimations())}},{key:"render",value:function(){return l.createElement("div",{className:this._className},l.createElement("svg",{ref:this._refSVG,imageRendering:"auto",baseProfile:"basic",version:"1.1",x:"0px",y:"0px",width:"460",height:"560",viewBox:"0 0 460 560",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},l.createElement("g",{overflow:"visible"},l.createElement("g",{mask:"url(#mask_ut)"},l.createElement("g",{transform:"translate(58 62)",opacity:"1"},l.createElement("animate",{attributeName:"opacity",dur:"2.533s",keyTimes:"0;.25;1",values:"0;1;1",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglishCB_lib/","images/yourturn/girl.png"),height:"632",width:"357",transform:"translate(0 -33.5)"}))),l.createElement("mask",{id:"mask_ut"},l.createElement("g",null,l.createElement("g",null,l.createElement("g",null,l.createElement("g",null,l.createElement("path",{fill:"#FFF",stroke:"none",d:"M50.05 433.25L51 459.5 163.85 456.1 429.15 456.1 429.15 13 50.05 13 50.05 433.25Z",fillOpacity:"1"}))),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"2.533s",keyTimes:"0;.75;1",values:"none;inline;inline"})),l.createElement("g",{display:"none"},l.createElement("g",null,l.createElement("g",null,l.createElement("path",{fill:"#FFF",stroke:"none",d:"M50 433.25L50.9 459.45 163.75 456.1 429.1 456.1 429.1 13 50 13 50 433.25Z",fillOpacity:"1"}))),l.createElement("animate",{attributeName:"display",fill:"freeze",repeatCount:"1",dur:"2.533s",keyTimes:"0;.75;1",values:"inline;none;none"})))),l.createElement("g",{transform:"translate(19.75 413.05)",opacity:"1"},l.createElement("animateTransform",{attributeName:"transform",additive:"replace",type:"translate",dur:"2.533s",keyTimes:"0;.51299;.579;.63199;.632;.697;.74999;.75;1",values:"225.1,483.05;225.1,483.05;225.009,483.051;225.009,483.051;225.1,483.05;225.009,483.051;225.009,483.051;225.1,483.05;225.1,483.05",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"scale",dur:"2.533s",keyTimes:"0;.51299;.579;.63199;.632;.697;.74999;.75;1",values:"1,1;1,1;1.1,1.1;1.1,1.1;1,1;1.1,1.1;1.1,1.1;1,1;1,1",fill:"freeze"}),l.createElement("animateTransform",{attributeName:"transform",additive:"sum",type:"translate",dur:"2.533s",keyTimes:"0;.51299;.579;.63199;.632;.697;.74999;.75;1",values:"-205.35,-70;-205.35,-70;-205.2,-70.05;-205.2,-70.05;-205.35,-70;-205.2,-70.05;-205.2,-70.05;-205.35,-70;-205.35,-70",fill:"freeze"}),l.createElement("animate",{attributeName:"opacity",dur:"2.533s",keyTimes:"0;.25;1",values:"0;1;1",fill:"freeze"}),l.createElement("image",{overflow:"visible",xlinkHref:"".concat("/content/digenglishCB_lib/","images/yourturn/ut.png"),height:"140",width:"410",transform:"translate(0 .05)"})))))}}])&&r(t.prototype,n),s&&r(t,s),u}(l.Component);f=c([p.observer],f),t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(6),_=n(1),d=n(3),m=n(4),h=n(2),y=n(8),v=n(11).default,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){var e;return r(this,c),(e=u.apply(this,arguments)).m_view=!1,e._swiper=null,e._refSwiper=function(t){!e._swiper&&t&&(e._swiper=t.swiper)},e._onClose=function(){d.App.pub_playBtnTab(),e.m_view=!1},e}return t=c,(n=[{key:"componentDidUpdate",value:function(e){var t=this;this.props.view&&!e.view?(this.m_view=!0,this._swiper&&this._swiper.slideTo(0,0),f.delay((function(){t._swiper&&(t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize(),t._swiper.slideTo(0,0))}),500)):!this.props.view&&e.view&&(this.m_view=!1)}},{key:"render",value:function(){var e=this.props,t=(e.view,e.scripts);return p.createElement(y.CoverPopup,{className:"trans_popup",view:this.props.view&&this.m_view,onClosed:this.props.onClosed},p.createElement("span",{className:"title"},"해석"),p.createElement(m.ToggleBtn,{className:"btn_close",onClick:this._onClose}),p.createElement("div",{className:"trans_script"},p.createElement(v,{ref:this._refSwiper,direction:"vertical",scrollbar:{el:".swiper-scrollbar",draggable:!0},observer:!0,slidesPerView:"auto",freeMode:!0},t.map((function(e,t){return p.createElement("div",{key:t,className:"script_eng"},e.dms_eng,p.createElement("div",null,e.dms_kor.ko))})))))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);l([h.observable],b.prototype,"m_view",void 0),l([h.observable],b.prototype,"_swiper",void 0),b=l([_.observer],b),t.default=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(6),_=n(1),d=n(3),m=n(4),h=n(2),y=n(8),v=n(11).default,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){var e;return r(this,c),(e=u.apply(this,arguments)).m_view=!1,e._swiper=null,e._refSwiper=function(t){!e._swiper&&t&&(e._swiper=t.swiper)},e._onClose=function(){d.App.pub_playBtnTab(),e.m_view=!1},e}return t=c,(n=[{key:"componentDidUpdate",value:function(e){var t=this;this.props.view&&!e.view?(this.m_view=!0,this._swiper&&this._swiper.slideTo(0,0),f.delay((function(){t._swiper&&(t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize(),t._swiper.slideTo(0,0))}),500)):!this.props.view&&e.view&&(this.m_view=!1)}},{key:"render",value:function(){var e=this.props,t=(e.view,e.data);return p.createElement(y.CoverPopup,{className:"trans_popup",view:this.props.view&&this.m_view,onClosed:this.props.onClosed},p.createElement("span",{className:"title"},"문장 구조"),p.createElement(m.ToggleBtn,{className:"btn_close",onClick:this._onClose}),p.createElement("div",{className:"trans_script"},p.createElement(v,{ref:this._refSwiper,direction:"vertical",scrollbar:{el:".swiper-scrollbar",draggable:!0},observer:!0,slidesPerView:"auto",freeMode:!0},p.createElement("img",{src:d.App.data_url+t[0].structureimage}))))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);l([h.observable],b.prototype,"m_view",void 0),l([h.observable],b.prototype,"_swiper",void 0),b=l([_.observer],b),t.default=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),_=n(3),d=n(4),m=n(2),h=n(8),y=n(12),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){var e;return r(this,c),(e=u.apply(this,arguments)).m_view=!1,e._onClose=function(){_.App.pub_playBtnTab(),e.m_view=!1},e}return t=c,(n=[{key:"componentDidUpdate",value:function(e){this.props.view&&!e.view?this.m_view=!0:!this.props.view&&e.view&&(this.m_view=!1)}},{key:"render",value:function(){var e;return e="READALOUD"===this.props.type?"READ ALONG":"SHADOWING"===this.props.type?"LISTEN & REPEAT":"QNA"===this.props.type?"Q & A":this.props.type,p.createElement(h.CoverPopup,{className:"passage_popup "+this.props.type,view:this.props.view&&this.m_view,onClosed:this.props.onClosed},p.createElement("span",null,e),p.createElement(d.ToggleBtn,{className:"btn_close",onClick:this._onClose}),p.createElement("div",{className:"popup_content"},p.createElement("span",null,"Read along together."),p.createElement("span",null,"Listen and repeat."),p.createElement("span",null,"Do you have any questions?")),p.createElement(y.default,{view:this.props.view,type:"teacher",sended:!1,originY:0,onSend:this.props.onSend}))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);l([m.observable],v.prototype,"m_view",void 0),v=l([f.observer],v),t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),_=n(3),d=n(4),m=n(2),h=n(8),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){var e;return r(this,c),(e=u.apply(this,arguments)).m_view=!1,e._onClose=function(){_.App.pub_playBtnTab(),e.m_view=!1},e}return t=c,(n=[{key:"componentDidUpdate",value:function(e){this.props.view&&!e.view?this.m_view=!0:!this.props.view&&e.view&&(this.m_view=!1)}},{key:"render",value:function(){var e=this.props.passage;return p.createElement(h.CoverPopup,{className:"img_passage",view:this.m_view,onClosed:this.props.onClosed},p.createElement("img",{src:_.App.data_url+e.image,draggable:!1}),p.createElement(d.ToggleBtn,{className:"btn_close",onClick:this._onClose}))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);l([m.observable],y.prototype,"m_view",void 0),y=l([f.observer],y),t.default=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),_=n(3),d=n(7),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){var e;return r(this,c),(e=u.apply(this,arguments))._clickReturn=function(){e.props.viewReturn&&(_.App.pub_playBtnTab(),d.startStudentReportProcess(6,e.props.qnaRet.users))},e._onClick=function(t){if(t.target&&t.target instanceof HTMLElement){var n=t.target;if(n.classList&&n.classList.contains("ret-num"))return}e.props.onChoose(e.props.script)},e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.script,n=e.curSeq,r=e.qnaRet,o=e.retCnt,i=e.viewReturn,s=["script_line",t.seq===n?"on":""];return p.createElement("span",{id:"script_"+t.seq,className:s.join(" "),onClick:this._onClick},p.createElement("span",{onClick:this._clickReturn,className:"ret-num",style:{display:i&&r.num>0?"":"none"}},r.num),p.createElement("span",{className:"ret-cnt",style:{display:"none"}},o),p.createElement("span",{dangerouslySetInnerHTML:{__html:t.dms_passage}}))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);m=l([f.observer],m),t.default=m},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var f=n(0),_=n(1),d=n(3),m=n(7),h=n(4),y=n(2),v=n(12),b=n(10),g=n(15),w=n(9),O=n(56),S=n(59),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,s,u=i(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e))._curIdx=0,t._retCnt=0,t._numOfStudent=0,t._clue=!1,t._prog=0,t._viewAnswer=!1,t._selected=[],t._returns=[],t._retUsers=[],t._onPage=function(e){e!==t._curIdx&&(d.App.pub_playBtnPage(),t._curIdx=e)},t._clickClue=function(){t._prog<2||t._viewAnswer&&(d.App.pub_playBtnTab(),t._clue=!t._clue)},t._offClue=function(){return t._clue=!1},t._clickAnswer=function(){if(!(t._prog<2||t._viewAnswer)){d.App.pub_playBtnTab(),t.props.actions.setQuestionFnc(null);m.sendPAD(10,{msgtype:"question_end"}),t._prog=3,t._viewAnswer=!0,t.props.onStudy(""),t.props.actions.setNavi(!0,!0)}},t._clickReturn=function(){d.App.pub_playBtnTab(),m.startStudentReportProcess(6,t._retUsers)},t._onSend=function(){if(t.props.view&&t.props.inview&&!(t._prog>0)){t._prog=1,t._viewAnswer=!1;for(var e=0;e<t._returns.length;e++){for(var n=t._returns[e];n.c1.length>0;)n.c1.pop();for(;n.c2.length>0;)n.c2.pop();for(;n.c3.length>0;)n.c3.pop();for(;n.c4.length>0;)n.c4.pop();n.percent=-1}for(t._retCnt=0;t._retUsers.length>0;)t._retUsers.pop();d.App.pub_playToPad();m.sendPAD(10,{msgtype:"question_send"}),t.props.onStudy("ex_video"),d.App.pub_reloadStudents((function(){return p(a(t),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.view&&this.props.inview){e.next=4;break}return e.abrupt("return");case 4:if(1===this._prog){e.next=6;break}return e.abrupt("return");case 6:return this._numOfStudent=d.App.students.length,e.next=9,w.wait(500);case 9:if(this.props.view&&this.props.inview){e.next=13;break}return e.abrupt("return");case 13:if(1===this._prog){e.next=15;break}return e.abrupt("return");case 15:this._prog=2,this.props.actions.setQuestionFnc(this._onReturn),this.props.actions.setNavi(!1,!1);case 18:case"end":return e.stop()}}),e,this)})))}))}},t._onReturn=function(e){if(!(t._prog<2||t._viewAnswer)){for(var n=-1,r=0;r<d.App.students.length;r++)if(d.App.students[r].id===e.id){n=r;break}if(!(n<0||t._retUsers.indexOf(e.id)>=0)){t._retUsers.push(e.id),m.addStudentForStudentReportType6(e.id);for(var o=t.props.data.question,i=0;i<o.length;i++){var s=o[i],a=t._returns[i],u=e.returns[i].answer;a&&(1===u?a.c1.push(e.id):2===u?a.c2.push(e.id):3===u?a.c3.push(e.id):4===u&&a.c4.push(e.id),1===s.answer?a.percent=Math.round(100*a.c1.length/t._numOfStudent):2===s.answer?a.percent=Math.round(100*a.c2.length/t._numOfStudent):3===s.answer?a.percent=Math.round(100*a.c3.length/t._numOfStudent):4===s.answer&&(a.percent=Math.round(100*a.c4.length/t._numOfStudent)))}t._retCnt=t._retUsers.length}}},t._onMc=function(e,n){t._viewAnswer||(t._selected[e]=n)};for(var n=e.data.question,r=0;r<n.length;r++)t._returns[r]={c1:[],c2:[],c3:[],c4:[],percent:-1},t._selected[r]=0;return t}return t=c,(n=[{key:"_setNavi",value:function(){var e=this;this.props.actions.setNaviView(!0),1===this._prog||2===this._prog?this.props.actions.setNavi(!1,!1):this.props.actions.setNavi(!0,!0),this.props.actions.setNaviFnc((function(){0===e._curIdx?(e.props.state.isNaviBack=!0,e.props.onSetNavi("Compreshension","Passage")):(d.App.pub_playBtnPage(),e._curIdx=e._curIdx-1)}),(function(){e._curIdx>=e.props.data.question.length-1?e.props.onSetNavi("VISUALIZING","GraphicOrganizer"):(d.App.pub_playBtnPage(),e._curIdx=e._curIdx+1)}))}},{key:"_init",value:function(){if(this._curIdx=0,this._clue=!1,!this._viewAnswer){for(this._prog=0,this._retCnt=0,this._numOfStudent=0;this._retUsers.length>0;)this._retUsers.pop();for(var e=0;e<this._returns.length;e++){for(var t=this._returns[e];t.c1.length>0;)t.c1.pop();for(;t.c2.length>0;)t.c2.pop();for(;t.c3.length>0;)t.c3.pop();for(;t.c4.length>0;)t.c4.pop();t.percent=-1}for(var n=0;n<this._selected.length;n++)this._selected[n]=0}m.sendPAD(0,null)}},{key:"componentDidUpdate",value:function(e){this.props.videoPopup&&!e.videoPopup?this.props.state.isVideoStudied&&(this.props.state.isVideoStudied=!1):!this.props.videoPopup&&e.videoPopup&&this.props.state.isVideoStudied&&this._init(),this.props.inview&&!e.inview?(this._init(),this._setNavi(),this.props.state.isNaviBack&&(this._curIdx=this.props.data.question.length-1,this.props.state.isNaviBack=!1)):!this.props.inview&&e.inview&&this.props.actions.setQuestionFnc(null),this.props.inview&&e.inview&&(!this.props.videoPopup&&e.videoPopup||!this.props.viewStoryBook&&e.viewStoryBook)&&this._setNavi()}},{key:"render",value:function(){var e=this,t=this._curIdx,n=this.props,r=(n.view,n.inview),o=n.data;return f.createElement("div",{className:"question",style:r?void 0:b.NONE},f.createElement("div",{className:"nav"},f.createElement("div",{className:"btn_page_box"},o.question.map((function(n,r){return f.createElement(g.default,{key:r,on:r===t,idx:r,onClick:e._onPage})}))),f.createElement("div",{className:"right"},f.createElement("div",{className:"return_cnt_box white",onClick:this._clickReturn,style:this._prog>=2?void 0:b.NONE},f.createElement("div",null,this._retCnt,"/",this._numOfStudent)),f.createElement(h.ToggleBtn,{className:"btn_answer",on:this._viewAnswer,view:this._prog>=2,onClick:this._clickAnswer}),f.createElement(h.ToggleBtn,{className:"btn_clue",on:this._clue,view:this._prog>=2&&this._viewAnswer,onClick:this._clickClue}))),o.question.map((function(n,o){return f.createElement(O.QuestionItem,{key:o,idx:o,view:r&&o===t,question:n,viewAnswer:e._viewAnswer,ret:e._returns[o],selected:e._selected[o],onClick:e._onMc})})),f.createElement(v.default,{view:r&&this._prog<2&&!this.props.state.videoPopup,type:"teacher",sended:!1,originY:0,onSend:this._onSend}),o.question.map((function(n,r){return f.createElement(S.default,{key:r,view:e._clue&&r===t,questions:n,idx:t,onClosed:e._offClue})})))}}])&&r(t.prototype,n),s&&r(t,s),c}(f.Component);l([y.observable],E.prototype,"_curIdx",void 0),l([y.observable],E.prototype,"_retCnt",void 0),l([y.observable],E.prototype,"_numOfStudent",void 0),l([y.observable],E.prototype,"_clue",void 0),l([y.observable],E.prototype,"_prog",void 0),l([y.observable],E.prototype,"_viewAnswer",void 0),l([y.observable],E.prototype,"_selected",void 0),E=l([_.observer],E),t.default=E},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionItem=void 0;var l=n(0),p=n(1),f=n(3),_=n(7),d=n(57),m=n(10),h=n(17),y=n(58),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,n,s,a=i(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e))._clickReturn=function(e){f.App.pub_playBtnTab(),_.startStudentReportProcess(6,e)},t._onClick=function(e){t.props.viewAnswer||t.props.onClick(t.props.idx,e)},t._onQuestion=function(){f.App.pub_play(f.App.data_url+t.props.question.audio,(function(e){}))},t}return t=u,(n=[{key:"componentDidUpdate",value:function(e){!this.props.view&&e.view&&f.App.pub_stop()}},{key:"render",value:function(){var e=this,t=this.props,n=t.view,r=t.idx,o=t.question,i=t.ret,s=t.viewAnswer,a=t.selected,u=-1;s&&((u=i.percent)<0?u=0:u>100&&(u=100));var c="btn_choice",p="btn_choice",f="btn_choice",_="btn_choice";return s&&(1===o.answer?c+=" correct":2===o.answer?p+=" correct":3===o.answer?f+=" correct":4===o.answer&&(_+=" correct")),l.createElement("div",{className:"choice-item",key:r,style:n?void 0:m.NONE},l.createElement("div",{className:"correct_rate_box",style:s?void 0:m.NONE},l.createElement(d.CorrectBar,{className:"correct_rate",preview:-1,result:u})),l.createElement("div",{className:"quizs_box"},l.createElement("div",null,l.createElement(h.default,{view:n,maxLineNum:2,maxFontSize:38,minFontSize:36,lineHeight:120,textAlign:"left",onClick:this._onQuestion},o.question))),l.createElement("div",{className:"choice_box"},l.createElement(y.default,{className:c,num:1,on:s?1===o.answer:1===a,disabled:!1,onClick:this._onClick},l.createElement(h.default,{view:n,maxLineNum:1,lineHeight:120,minFontSize:28,maxFontSize:32,textAlign:"left"},o.choice_1)),l.createElement("span",{style:s?void 0:m.HIDE,onClick:function(){return e._clickReturn(i.c1)}},i.c1.length)),l.createElement("div",{className:"choice_box"},l.createElement(y.default,{className:p,num:2,on:s?2===o.answer:2===a,disabled:!1,onClick:this._onClick},l.createElement(h.default,{view:n,maxLineNum:1,lineHeight:120,minFontSize:28,maxFontSize:32,textAlign:"left"},o.choice_2)),l.createElement("span",{style:s?void 0:m.HIDE,onClick:function(){return e._clickReturn(i.c2)}},i.c2.length)),l.createElement("div",{className:"choice_box"},l.createElement(y.default,{className:f,num:3,on:s?3===o.answer:3===a,disabled:!1,onClick:this._onClick},l.createElement(h.default,{view:n,maxLineNum:1,lineHeight:120,minFontSize:28,maxFontSize:32,textAlign:"left"},o.choice_3)),l.createElement("span",{style:s?void 0:m.HIDE,onClick:function(){return e._clickReturn(i.c3)}},i.c3.length)),l.createElement("div",{className:"choice_box",style:{display:""===o.choice_4?"none":void 0}},l.createElement(y.default,{className:_,num:4,on:s?4===o.answer:4===a,disabled:!1,onClick:this._onClick},l.createElement(h.default,{view:n,maxLineNum:1,lineHeight:120,minFontSize:28,maxFontSize:32,textAlign:"left"},o.choice_4)),l.createElement("span",{style:s?void 0:m.HIDE,onClick:function(){return e._clickReturn(i.c4)}},i.c4.length)))}}])&&r(t.prototype,n),s&&r(t,s),u}(l.Component);v=c([p.observer],v),t.QuestionItem=v},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Progress=t.CorrectBar=t.StandBar=void 0;var f=n(0),_=function(e){a(n,e);var t=c(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"render",value:function(){var e=this.props.percent;return f.createElement("div",{className:"stand_bar",style:{display:e<0?"none":""}},f.createElement("div",{className:"prog_bnd"},f.createElement("div",{className:"prog_bar",style:{width:e<0?"0%":e+"%"}})),f.createElement("div",{className:"data_percent"},e<0?"":e+"%"))}}]),n}(f.Component);t.StandBar=_;var d=function(e){a(n,e);var t=c(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.preview,r=e.result;return f.createElement("div",{className:t},f.createElement("span",{className:"title",style:{display:n<0?"none":""}},"Pre-class"),f.createElement("div",{className:"progress_bar",style:{display:n<0?"none":""}},f.createElement("span",{className:"colorA",style:{width:n+"%"}}),f.createElement("span",{className:"data_percent"},n,"%")),f.createElement("span",{className:"title",style:{display:r<0?"none":""}},"In-class"),f.createElement("div",{className:"progress_bar",style:{display:r<0?"none":""}},f.createElement("span",{className:"colorB",style:{width:r+"%"}}),f.createElement("span",{className:"data_percent"},r,"%")))}}]),n}(f.Component);t.CorrectBar=d;var m=function(e){a(n,e);var t=c(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"render",value:function(){return f.createElement(f.Fragment,null,f.createElement("div",{className:"progress_box"},f.createElement("span",{className:"title on"},"SOUND"),f.createElement("div",{className:"progress_bar"},f.createElement("span",{className:"data on",style:{width:"30%"}}),f.createElement("span",{className:"data_percent on"},"30%")),f.createElement("span",{className:"title"},"MEANING"),f.createElement("div",{className:"progress_bar"},f.createElement("span",{className:"data",style:{width:"60%"}}),f.createElement("span",{className:"data_percent"},"60%")),f.createElement("span",{className:"title"},"SPELLING"),f.createElement("div",{className:"progress_bar"},f.createElement("span",{className:"data",style:{width:"50%"}}),f.createElement("span",{className:"data_percent"},"50%")),f.createElement("span",{className:"title"},"SENTENCE"),f.createElement("div",{className:"progress_bar"},f.createElement("span",{className:"data",style:{width:"90%"}}),f.createElement("span",{className:"data_percent"},"90%"))))}}]),n}(f.Component);t.Progress=m},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(4),f=n(3),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,u=a(c);function c(){var e;return o(this,c),(e=u.apply(this,arguments))._onClick=function(){e.props.disabled||(f.App.pub_playBtnTab(),e.props.onClick(e.props.num))},e}return t=c,(n=[{key:"render",value:function(){return l.createElement(p.ToggleBtn,{className:this.props.className+" btn-mc-"+this.props.num,on:this.props.on,onClick:this._onClick,disabled:this.props.disabled},this.props.children)}}])&&i(t.prototype,n),r&&i(t,r),c}(l.Component);t.default=_},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(6),f=n(1),_=n(4),d=n(2),m=n(8),h=n(11).default,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,n,s,a=i(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).m_view=!1,t._swiper=null,t._refSwiper=function(e){!t._swiper&&e&&(t._swiper=e.swiper)},t._onClose=function(){t.m_view=!1},t}return t=u,(n=[{key:"componentDidUpdate",value:function(e){var t=this;this.props.view&&!e.view?(this.m_view=!0,this._swiper&&this._swiper.slideTo(0,0),p.delay((function(){t._swiper&&(t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize(),t._swiper.slideTo(0,0))}),500)):!this.props.view&&e.view&&(this.m_view=!1)}},{key:"render",value:function(){var e=this.props,t=(e.view,e.questions.hint);return l.createElement(m.CoverPopup,{className:"clue_popup",view:this.props.view&&this.m_view,onClosed:this.props.onClosed},l.createElement("span",{className:"title"},"CLUE"),l.createElement(_.ToggleBtn,{className:"btn_close",onClick:this._onClose}),l.createElement("div",{className:"clue_script"},l.createElement(h,{ref:this._refSwiper,direction:"vertical",scrollbar:{el:".swiper-scrollbar",draggable:!0},observer:!0,slidesPerView:"auto",freeMode:!0},l.createElement("div",{className:"clue_question"},l.createElement("div",{className:"icon_question"}),this.props.idx+1,". ",this.props.questions.question),l.createElement("div",{className:"script"},l.createElement("div",{className:"icon_clue"}),l.createElement("span",{dangerouslySetInnerHTML:{__html:t}})))))}}])&&r(t.prototype,n),s&&r(t,s),u}(l.Component);c([d.observable],y.prototype,"m_view",void 0),c([d.observable],y.prototype,"_swiper",void 0),y=c([f.observer],y),t.default=y},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var f=n(0),_=n(6),d=n(1),m=n(2),h=n(16),y=n(4),v=n(3),b=n(7),g=n(8),w=n(61),O=n(9),S=n(21),E=n(62),k=n(64),T=n(65),P=n(67),R=n(11).default;function x(e,t){for(var n=.01*Math.round(t/.01),r=0,o=e.length;r<o;r++){var i=e[r];if(n>=i.dms_start&&n<=i.dms_end)return r;if(n<i.dms_start)break}return-1}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,s,u=i(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e))._swiper=null,t._player=new h.MPlayer(new h.MConfig(!0)),t._player_inittime=0,t._countdown=new S.TimerState(3),t._view=!1,t._viewCaption=!1,t._curIdx=-1,t._viewCountDown=!1,t._play=!1,t._vpop="off",t._study="off",t._yourturn=-1,t._checkupIdx=-1,t._curCheckup=-1,t._ytNext=-1,t._checkups=[],t._onClose=function(){console.log("VideoBox close"),t._view=!1,t._player.gotoAndPause(1e3*t._player_inittime)},t._refBox=function(e){!t._box&&e&&(t._box=e)},t._refSwiper=function(e){!t._swiper&&e&&(t._swiper=e.swiper)},t._refVideo=function(e){if(e&&!t._player.media){t._player.mediaInited(e);var n=t.props.data.scripts;t._player.addOnTime((function(e){var r=x(n,e/=1e3);if(t._curIdx!==r){if("SHADOWING"===t._study){if(!(t._yourturn<0))return;if(t._curIdx>=0&&t._player.bPlay){var o={msgtype:"view_yourturn",idx:t._curIdx};b.sendPAD(10,o),t._ytNext=r;var i=n[t._curIdx],s=2e3*(i.dms_end-i.dms_start);return t._yourturn=_.delay((function(){if(t._yourturn>=0){t._player.play(),t._curIdx=t._ytNext,t._yourturn=-1;var e={msgtype:"focusidx",idx:t._curIdx};b.sendPAD(10,e),t._curIdx>=0&&t._swiper&&t._swiper.slideTo(0===t._curIdx?0:t._curIdx-1)}}),s),void t._player.pause()}if(!t._player.bPlay)return;var a={msgtype:"focusidx",idx:r};b.sendPAD(10,a)}else if("READALOUD"===t._study){var u={msgtype:"focusidx",idx:r};b.sendPAD(10,u)}t._curIdx=r,t._curIdx>=0&&t._swiper&&t._swiper.slideTo(0===t._curIdx?0:t._curIdx-1)}if("CHECKUP"===t._study&&t._player.bPlay){var c=x(t._checkups,e);t._curCheckup!==c&&(t._curCheckup>=0&&(t._player.pause(),t._checkupIdx=t._curCheckup,t._vpop="CHECKUP"),t._curCheckup=c)}})),t._player.addOnState((function(e,n){if("SHADOWING"===t._study||"READALOUD"===t._study){var r={msgtype:"SHADOWING"===t._study&&t._yourturn>=0||t._viewCountDown||6!==e&&t._player.bPlay?"playing":"paused"};b.sendPAD(10,r)}}))}},t._playClick=function(){t._play=!t._play,t._viewCountDown||"SHADOWING"===t._study||(v.App.pub_playBtnTab(),t._play?t._player.play():t._play||t._player.pause())},t._clickVideo=function(){t._viewCountDown||"SHADOWING"===t._study||(t._player.bPlay?(v.App.pub_playBtnTab(),t._player.pause()):(v.App.pub_playBtnTab(),(t._player.currentTime>=t._player.duration||t._player.currentTime<t._player_inittime)&&t._player.seek(1e3*t._player_inittime),t._player.play()))},t._toggleFullscreen=function(){v.App.pub_playBtnTab(),document.fullscreenElement===t._box||document.webkitFullscreenElement===t._box?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():t._box.requestFullscreen?t._box.requestFullscreen():t._box.webkitRequestFullscreen&&t._box.webkitRequestFullscreen()},t._prevClick=function(){if(!t._viewCountDown){v.App.pub_playBtnTab();var e=t._yourturn;t._yourturn>=0&&(clearTimeout(t._yourturn),t._yourturn=-1);var n=t.props.data.scripts,r=t._player.currentTime/1e3,o=-1,i=!1;if("SHADOWING"===t._study&&e>=0?(t._curIdx>=0&&(o=t._curIdx),i=!0):o=x(n,r),t._curIdx=-1,t._curCheckup=-1,i&&!t._player.bPlay&&t._player.play(),o>=0)if(o>0){var s=n[o-1];t._player_inittime>s.dms_start?t._player.seek(1e3*t._player_inittime):t._player.seek(1e3*s.dms_start)}else t._player.seek(1e3*t._player_inittime);else for(var a=n.length-1;a>=0;a--){if(r>n[a].dms_start){t._player_inittime>n[a].dms_start?t._player.seek(1e3*t._player_inittime):t._player.seek(1e3*n[a].dms_start);break}0===a&&t._player.seek(1e3*t._player_inittime)}}},t._nextClick=function(){if(!t._viewCountDown){v.App.pub_playBtnTab();var e=t._yourturn;t._yourturn>=0&&(clearTimeout(t._yourturn),t._yourturn=-1);var n=t.props.data.scripts,r=t._player.currentTime/1e3,o=-1,i=!1;if("SHADOWING"===t._study&&e>=0?(t._ytNext>=0?o=t._ytNext-1:t._curIdx>=0&&(o=t._curIdx),i=!0):o=x(n,r),t._curIdx=-1,t._curCheckup=-1,i&&!t._player.bPlay&&t._player.play(),o>=0)if(o<n.length-1){var s=n[o+1];t._player.seek(1e3*s.dms_start)}else t._player.seek(t._player.duration);else for(var a=0,u=n.length;a<u;a++){if(r<n[a].dms_start){t._player.seek(1e3*n[a].dms_start);break}a===u-1&&t._player.seek(t._player.duration)}}},t._toggleMute=function(){v.App.pub_playBtnTab(),t._player.setMuted(!t._player.muted)},t._togglePlay=function(){if(!t._viewCountDown){v.App.pub_playBtnTab();var e=t._yourturn;if(t._yourturn>=0&&(clearTimeout(t._yourturn),t._yourturn=-1),"SHADOWING"===t._study){if(e>=0)return void(t._player.bPlay&&t._player.pause());t._ytNext>=0&&(t._curIdx=t._ytNext),t._ytNext=-1;var n={msgtype:"focusidx",idx:t._curIdx};b.sendPAD(10,n)}t._player.bPlay?t._player.pause():((t._player.currentTime>=t._player.duration||t._player.currentTime<t._player_inittime)&&t._player.seek(1e3*t._player_inittime),t._player.play(),t._curIdx>=0&&t._swiper&&t._swiper.slideTo(0===t._curIdx?0:t._curIdx-1))}},t._stopClick=function(){v.App.pub_playBtnTab(),t._player.gotoAndPause(1e3*t._player_inittime),t._curIdx=-1,t._checkupIdx=-1,t._curCheckup=-1,"off"!==t._study&&(t._yourturn>=0&&(clearTimeout(t._yourturn),t._yourturn=-1),t._countdown.pause(),t._countdown.reset(),t._viewCountDown=!1)},t._toggleCaption=function(){v.App.pub_playBtnTab();t._swiper&&t._swiper.activeIndex;t._viewCaption=!t._viewCaption,"READALOUD"===t._study||t._study},t._countStart=function(){},t._countZero=function(){return p(a(t),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._viewCountDown=!1,this.props.view){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,O.wait(300);case 5:if(this.props.view){e.next=7;break}return e.abrupt("return");case 7:"READALOUD"!==this._study&&"SHADOWING"!==this._study||((this._player.currentTime!==this._player_inittime||this._player.currentTime<this._player_inittime)&&this._player.seek(1e3*this._player_inittime),this._player.play(),this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize()));case 8:case"end":return e.stop()}}),e,this)})))},t._readaloudClick=function(){"READALOUD"===t._study?(v.App.pub_playBtnTab(),t._clearStudy(),t._player.pause()):"off"===t._study&&(v.App.pub_playBtnTab(),t._vpop="READALOUD",t._player.pause(),t.props.state.isVideoStudied=!0)},t._shadowingClick=function(){"SHADOWING"===t._study?(v.App.pub_playBtnTab(),t._clearStudy(),t._player.pause()):"off"===t._study&&(v.App.pub_playBtnTab(),t._vpop="SHADOWING",t._player.pause(),t.props.state.isVideoStudied=!0)},t._checkupClick=function(){"CHECKUP"===t._study?(v.App.pub_playBtnTab(),t._clearStudy(),t._player.pause()):"CHECKUPSET"===t._study?(v.App.pub_playBtnTab(),t.props.state.isVideoStudied=!1):"off"===t._study&&(v.App.pub_playBtnTab(),t._vpop="CHECKUPSET",t._player.pause(),t.props.state.isVideoStudied=!0)},t._offVideo=function(){if("CHECKUP"===t._vpop){b.sendPAD(10,{msgtype:"v_dialogue_end"}),t._player.play()}t._vpop="off"},t._onSend=function(e){return p(a(t),void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.props.view){t.next=4;break}return t.abrupt("return");case 4:if(this._vpop===e){t.next=8;break}return t.abrupt("return");case 8:if("off"!==this._vpop){t.next=10;break}return t.abrupt("return");case 10:if("CHECKUPSET"!==this._vpop){t.next=21;break}return v.App.pub_playBtnTab(),t.next=14,O.wait(300);case 14:this._study="CHECKUP",this._vpop="CHECKUP",this._player.seek(1e3*this._player_inittime),this._player.bPlay||this._player.play(),b.sendPAD(0,null),t.next=22;break;case 21:"CHECKUP"===this._vpop||(this._study=e,this._viewCaption=!1,this._countdown.pause(),this._countdown.reset(),this._viewCountDown=!0,this._viewCaption=!0,this._countdown.start(),this._player.seek(1e3*this._player_inittime),this._curIdx=-1,this._swiper&&this._swiper.slideTo(0,0),n={msgtype:"playing"},b.sendPAD(10,n));case 22:case"end":return t.stop()}}),t,this)})))},t._player_inittime=e.data.video_start,t}return t=c,(n=[{key:"_clearStudy",value:function(){this._curIdx=-1,this._checkupIdx=-1,this._curCheckup=-1,"off"!==this._study&&(this._yourturn>=0&&(clearTimeout(this._yourturn),this._yourturn=-1),this._viewCaption=!1,this._countdown.pause(),this._countdown.reset(),this._viewCountDown=!1,this._study="off",b.sendPAD(10,{msgtype:"v_dialogue_end"}))}},{key:"componentDidUpdate",value:function(e){this.props.view&&!e.view?(this._view=!0,this._player.myState<=1&&this._player.load(v.App.data_url+this.props.data.video),this._player.setMuted(!1),this._player.setMutedTemp(!1),this._viewCaption=!1,this._curIdx=-1,this._countdown.pause(),this._countdown.reset(),this._viewCountDown=!1,this._vpop="off",this._yourturn=-1,this._ytNext=-1,this._study="off",this._checkupIdx=-1,this._curCheckup=-1,this._player.currentTime<this._player_inittime&&this._player.seek(1e3*this._player_inittime),this._player.play()):!this.props.view&&e.view&&("off"!==this._study&&b.sendPAD(0,null),this._view=!1,this._player.gotoAndPause(1e3*this._player_inittime),this._vpop="off",this._viewCaption=!1,this._curIdx=-1,this._countdown.pause(),this._countdown.reset(),this._viewCountDown=!1,this._yourturn>=0&&(clearTimeout(this._yourturn),this._yourturn=-1),this._ytNext=-1,this._player.bPlay&&this._player.pause())}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.view,o=n.data,i=n.actions,s=o.scripts;this._viewCaption&&this._curIdx>=0&&(e=s[this._curIdx]);var a="off"===this._study&&(5===this._player.myState||1===this._player.myState),u=("off"===this._study&&this._player.bPlay,"SHADOWING"===this._study&&this._yourturn>=0||this._player.bPlay),c="READALOUD"===this._study||"SHADOWING"===this._study,l="READALOUD"===this._study||"SHADOWING"===this._study&&this._yourturn>=0;return f.createElement(g.CoverPopup,{className:"video_popup",view:this.props.view&&this._view,onClosed:this.props.onClosed},f.createElement("div",{className:"wrapper",ref:this._refBox},f.createElement("div",{className:"video_box"},f.createElement("div",{className:"video "+this._study},f.createElement("video",{controls:!1,ref:this._refVideo,onClick:this._clickVideo}),f.createElement(R,{ref:this._refSwiper,direction:"vertical",scrollbar:{el:".swiper-scrollbar",draggable:!0},observer:!0,slidesPerView:"auto",freeMode:!0},s.map((function(e,n){return f.createElement("div",{key:n,className:"script"+(u?" swiper-no-swiping":"")},f.createElement(T.default,{key:n,idx:n,on:c&&t._curIdx===n,studentturn:l,script:e,viewScript:c&&t._viewCaption}))}))),f.createElement(w.Loading,{view:a}),f.createElement(k.default,{view:r,inview:!c&&this._viewCaption,script:e}),f.createElement(S.CountDown2,{state:this._countdown,view:this._viewCountDown,onStart:this._countStart,onComplete:this._countZero})),f.createElement(E.default,{player:this._player,disable:this._viewCountDown||"SHADOWING"===this._study,vpop:this._vpop,study:this._study,isPlay:u,checkups:this._checkups,toggleFullscreen:this._toggleFullscreen,togglePlay:this._togglePlay,stopClick:this._stopClick,prevClick:this._prevClick,nextClick:this._nextClick,viewCaption:this._viewCaption,toggleCaption:this._toggleCaption,toggleMute:this._toggleMute,readaloudClick:this._readaloudClick,shadowingClick:this._shadowingClick,checkupClick:this._checkupClick})),f.createElement(P.default,{type:this._vpop,data:o,checkupIdx:this._checkupIdx,actions:i,onSend:this._onSend,onClosed:this._offVideo})),f.createElement(y.ToggleBtn,{className:"btn_back",onClick:this._onClose}))}}])&&r(t.prototype,n),s&&r(t,s),c}(f.Component);l([m.observable],C.prototype,"_view",void 0),l([m.observable],C.prototype,"_viewCaption",void 0),l([m.observable],C.prototype,"_curIdx",void 0),l([m.observable],C.prototype,"_viewCountDown",void 0),l([m.observable],C.prototype,"_play",void 0),l([m.observable],C.prototype,"_vpop",void 0),l([m.observable],C.prototype,"_study",void 0),l([m.observable],C.prototype,"_yourturn",void 0),C=l([d.observer],C),t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loading=void 0;var r=n(0);t.Loading=function(e){var t=e.view,n={position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat"};return n.backgroundImage='url("'.concat("/content/digenglishCB_lib/",'images/loading.svg")'),n.backgroundColor="rgba(0, 0, 0, 0.1)",n.zIndex=101,t||(n.visibility="hidden",n.zIndex=-1,n.pointerEvents="none"),r.createElement("div",{style:n})}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),_=n(4),d=n(63),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){return r(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.player,n=e.study,r=e.vpop;return p.createElement("div",{className:"control"},p.createElement("div",{className:"control_left"},p.createElement(_.ToggleBtn,{className:"btn_play_pause",on:this.props.isPlay,onClick:this.props.togglePlay}),p.createElement(_.ToggleBtn,{className:"btn_stop",onClick:this.props.stopClick}),p.createElement(_.ToggleBtn,{className:"btn_prev",onClick:this.props.prevClick}),p.createElement(_.ToggleBtn,{className:"btn_next",onClick:this.props.nextClick})),p.createElement("div",{className:"control_top "+n},p.createElement("div",null,p.createElement(d.default,{player:t,checkups:this.props.checkups,disable:this.props.disable}))),p.createElement("div",{className:"control_right"},p.createElement(_.ToggleBtn,{className:"btn_subscript "+n,on:this.props.viewCaption,onClick:this.props.toggleCaption}),p.createElement(_.ToggleBtn,{className:"btn_audio",onClick:this.props.toggleMute,on:t.muted}),p.createElement(_.ToggleBtn,{className:"btn_fullscreen",onClick:this.props.toggleFullscreen}),p.createElement(_.ToggleBtn,{className:"btn_fullscreen_off",onClick:this.props.toggleFullscreen})),p.createElement("div",{className:"control_center"},p.createElement(_.ToggleBtn,{className:"btn_v_listen_repeat",on:"SHADOWING"===r||"SHADOWING"===n,disabled:"READALOUD"===n||"CHECKUP"===n,onClick:this.props.shadowingClick}),p.createElement(_.ToggleBtn,{className:"btn_v_readalong",on:"READALOUD"===r||"READALOUD"===n,disabled:"CHECKUP"===n||"SHADOWING"===n,onClick:this.props.readaloudClick}),p.createElement(_.ToggleBtn,{className:"btn_v_checkup",on:"CHECKUP"===r||"CHECKUP"===n,disabled:"READALOUD"===n||"SHADOWING"===n,onClick:this.props.checkupClick})))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);m=l([f.observer],m),t.default=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(6),_=n(1),d=n(2),m=n(20),h=n(4);function y(e,t){var n=Math.round(t/1e3),r=Math.round(e/1e3),o=Math.floor(r/60),i=Math.floor(o/60),s="";return o%=60,i>0||n>=3600?(s=i+":",s+=o>=10?o+":":"0"+o+":"):n>=600?s+=o>=10?o+":":"0"+o+":":s=o+":",s+=(r%=60)>=10?r:"0"+r}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){var e;return r(this,c),(e=u.apply(this,arguments)).m_dragging=!1,e.m_bgW=0,e.m_s=0,e.m_dragLeft=0,e.m_dragLeft_s=0,e._seek=f.throttle((function(t){if(!e.props.disable){var n=e.props.player;n.seek(n.duration*t/100)}}),300,{leading:!1}),e._refBG=function(t){!e.m_bg&&t&&(e.m_bg=t)},e._start=function(t,n){if(e.m_bg&&!e.props.disable&&!(e.props.player.duration<=0||(e.m_bgW=e.m_bg.getBoundingClientRect().width,e.m_bgW<=0))){var r=100*n.x/e.m_bgW;r<0?r=0:r>100&&(r=100),e.m_dragLeft_s=r,e.m_dragLeft=r,e.m_s=n.x,e.m_dragging=!0}},e._drag=function(t,n){if(e.m_dragging&&!e.props.disable){var r=e.m_dragLeft_s+100*(n.x-e.m_s)/e.m_bgW;r<0?r=0:r>100&&(r=100),e.m_dragLeft=r,e.props.player.bPlay||e._seek(r)}},e._stop=function(t,n){if(e.m_dragging&&!e.props.disable){e.m_dragging=!1;var r=e.props.player;r.seek(r.duration*e.m_dragLeft/100)}},e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.player,n=e.checkups,r=0,o=t.duration;o>0&&(r=t.viewTime/o*100);var i=0,s=this.m_dragLeft;return i=this.m_dragging?s:r,p.createElement(p.Fragment,null,p.createElement("div",{className:"prog_box"},p.createElement(m.DraggableCore,{onDrag:this._drag,onStart:this._start,onStop:this._stop},p.createElement("div",{className:"prog_bg",ref:this._refBG},p.createElement("div",{className:"prog_bar",style:{width:r+"%"}}),p.createElement("div",{className:"prog_tmp"}),n.map((function(e,t){var n=o>0?1e3*e.dms_end/o*100:0;return p.createElement("span",{key:t,className:"checkup",style:{left:n+"%"}})})),p.createElement(h.ToggleBtn,{className:"prog_btn",style:{left:i+"%"}})))),p.createElement("div",{className:"video_time",style:{width:(t.duration>=6e5?110:135)+"px"}},p.createElement("span",null,y(t.viewTime,t.duration))," / ",p.createElement("span",null,y(t.duration,t.duration))))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);l([d.observable],v.prototype,"m_dragLeft",void 0),v=l([_.observer],v),t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),_=n(2),d=n(4),m=n(3),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){var e;return r(this,c),(e=u.apply(this,arguments))._viewEng=!0,e._viewTrans=!0,e._toggleEng=function(){e._viewEng=!e._viewEng},e}return t=c,(n=[{key:"componentDidUpdate",value:function(e){this.props.view&&!e.view&&(this._viewEng=!0,this._viewTrans=!0)}},{key:"render",value:function(){var e,t=this.props,n=t.inview,r=t.script;return r?(e=this._viewEng?r.dms_eng:p.createElement(p.Fragment,null," "),this._viewTrans?r.dms_kor[m.App.lang]:p.createElement(p.Fragment,null," ")):(e=p.createElement(p.Fragment,null," "),p.createElement(p.Fragment,null," ")),p.createElement("div",{className:"caption_box",style:{display:n?"":"none"}},p.createElement("div",{className:"caption_eng"},p.createElement("span",null,e),p.createElement(d.ToggleBtn,{className:"btn_eng",on:this._viewEng,onClick:this._toggleEng})))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);l([_.observable],h.prototype,"_viewEng",void 0),l([_.observable],h.prototype,"_viewTrans",void 0),h=l([f.observer],h),t.default=h},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),l=n(66),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,a=s(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e))._jsx=l._sentence2jsx(e.script.dms_eng,"closure",void 0,!1,"word"),t}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.on,n=e.viewScript,r=e.studentturn,o=[],i=[];n&&o.push("view"),t&&o.push("on");var s=o.join(" ");n&&i.push("view"),t&&r&&i.push("on");var a=i.join(" ");return c.createElement(c.Fragment,null,c.createElement("span",null,c.createElement("img",{className:a,src:"/content/digenglishCB_lib/D/reading_english/teacher/images/arrow_script.png",draggable:!1})),c.createElement("div",{className:s},this._jsx))}}])&&o(t.prototype,n),r&&o(t,r),u}(c.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getBlockJSX=t._getJSX=t._splitSpace=t._sentence2jsx=void 0;var r=n(0);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,a=new RegExp(/\{(.*?)\}/g),u={key:0},c=[],l=e.replace(/\s\s+/gi," ").replace(/<\s*br\s*\/*\s*>/gi,"<br>").split("<br>");return l.forEach((function(e,l){if(t){for(var p=a.exec(e),f=0,_="",d=[];p;){p.index>f&&(_=e.substring(f,p.index),d.push(i(_,u,s))),_=p[1];var m=n;m||(m=_),o?i(m,u,s):m,d.push(r.createElement("span",{key:u.key++,className:t,"data-correct":_}," ",m," ")),f=a.lastIndex,p=a.exec(e)}f<e.length&&(_=e.substring(f),d.push(i(_,u,s))),c[l]=r.createElement(r.Fragment,{key:u.key++},d)}else c[l]=r.createElement(r.Fragment,{key:u.key++},i(e,u,s))})),c}function i(e,t,n){for(var o=e.split(/\s/g),i=new RegExp(/[\.\!\?\s]/g),s=[],a=0;a<o.length;a++){var u=o[a];if(""!==u){for(var c=[],l=0,p="",f=i.exec(u);f;)f.index>l&&(p=u.substring(l,f.index),c.push(r.createElement("span",{key:t.key++},p))),p=f[0],c.push(p),l=i.lastIndex,f=i.exec(u);l<u.length&&(p=u.substring(l),c.push(r.createElement("span",{key:t.key++},p))),s.push(r.createElement("span",{key:t.key++,className:n},c.map((function(e){return e}))))}}return s}t._sentence2jsx=o,t._splitSpace=i,t._getJSX=function(e){var t=o(e,"block",void 0,!0,"word");return r.createElement(r.Fragment,null,t.map((function(e,n){return n===t.length-1?e:r.createElement(r.Fragment,{key:n},e,r.createElement("br",null))})))},t._getBlockJSX=function(e){var t=o(e,"block",void 0,!0,"word");return r.createElement(r.Fragment,null,t.map((function(e,n){return n===t.length-1?e:r.createElement(r.Fragment,{key:n},e,r.createElement("br",null))})))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var _=n(0),d=n(6),m=n(1),h=n(2),y=n(4),v=n(3),b=n(7),g=n(8),w=n(9),O=n(12),S=n(10),E=n(17),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(l,e);var t,n,a,c=s(l);function l(){var e;return r(this,l),(e=c.apply(this,arguments))._view=!1,e._prog=0,e._selected=0,e._retCnt=0,e._numOfStudent=0,e._returnUsers=[],e._onClose=function(){v.App.pub_playBtnTab(),e._view=!1},e._onSend=function(){if("off"!==e.props.type&&0===e._prog){if("CHECKUP"===e.props.type){var t={msgtype:"v_checkup_send",idx:e.props.checkupIdx};for(b.sendPAD(10,t),e._retCnt=0;e._returnUsers.length>0;)e._returnUsers.pop()}else if("CHECKUPSET"!==e.props.type){var n={msgtype:"READALOUD"===e.props.type?"v_readaloud_send":"v_shadowing_send"};b.sendPAD(10,n)}e._prog=1,v.App.pub_playToPad(),"CHECKUP"===e.props.type&&e.props.actions.setCheckupFnc(e._onReturn),v.App.pub_reloadStudents((function(){return f(u(e),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===this._prog){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,w.wait(500);case 4:if(1===this._prog){e.next=6;break}return e.abrupt("return");case 6:this._prog=2,this.props.onSend(this.props.type),"CHECKUP"!==this.props.type?this._view=!1:(this._retCnt=0,this._numOfStudent=v.App.students.length);case 9:case"end":return e.stop()}}),e,this)})))}))}},e._clickTrue=function(){e._prog>=3||(v.App.pub_playBtnTab(),1===e._selected?e._selected=0:e._selected=1)},e._clickFalse=function(){e._prog>=3||(v.App.pub_playBtnTab(),2===e._selected?e._selected=0:e._selected=2)},e._onReturn=function(t){if(e._view&&d.find(v.App.students,{id:t.id})){e._returnUsers.push(t.id),b.addStudentForStudentReportType6(t.id);var n=e._retCnt+1;n>=e._numOfStudent&&(n=e._numOfStudent),e._retCnt=n}},e._clickReturn=function(){v.App.pub_playBtnTab(),b.startStudentReportProcess(6,e._returnUsers)},e._clickAnswer=function(){if(2===e._prog){v.App.pub_playBtnTab();b.sendPAD(10,{msgtype:"v_checkup_end"}),e._prog=3,e.props.actions.setCheckupFnc(null)}},e}return t=l,(n=[{key:"componentDidUpdate",value:function(e){if("off"!==this.props.type&&"off"===e.type){for(this._view=!0,this._selected=0,this._prog=0,this._retCnt=0,this._numOfStudent=0;this._returnUsers.length>0;)this._returnUsers.pop();this.props.actions.setCheckupFnc(null)}else"off"===this.props.type&&"off"!==e.type&&(this._view=!1,this._selected=0)}},{key:"render",value:function(){var e,t=this.props,n=t.type,r=t.checkupIdx;return t.data,e="READALOUD"===this.props.type?"READ ALONG":"SHADOWING"===this.props.type?"LISTEN & REPEAT":"CHECKUP"===n||"CHECKUPSET"===n?"CHECK UP":n,_.createElement(g.CoverPopup,{className:"v_popup",view:this._view,onClosed:this.props.onClosed},_.createElement("div",null,_.createElement("div",{className:"head"},_.createElement("span",null,e),_.createElement(y.ToggleBtn,{className:"btn_close",onClick:this._onClose})),_.createElement("div",{className:"READALOUD content",style:"READALOUD"===n?void 0:S.NONE},"Read along together."),_.createElement("div",{className:"SHADOWING content",style:"SHADOWING"===n?void 0:S.NONE},"Listen and repeat."),_.createElement("div",{className:"CHECKUPSET content",style:"CHECKUPSET"===n?void 0:S.NONE},"Watch the video and answer."),_.createElement("div",{className:"CHECKUP content",style:"CHECKUP"===n?void 0:S.NONE},_.createElement("div",{className:"question"},_.createElement("span",null,r+1,"."),_.createElement("div",{className:"qtext"},_.createElement(E.default,{view:"CHECKUP"===n,maxLineNum:2,maxFontSize:44,minFontSize:36,lineHeight:160,textAlign:"left"},""))),_.createElement("div",{className:"choice-box"},_.createElement(y.ToggleBtn,{className:"btn_true",on:1===this._selected&&this._prog<3||!1,onClick:this._clickTrue}),_.createElement(y.ToggleBtn,{className:"btn_false",on:2===this._selected&&this._prog<3||!1,onClick:this._clickFalse})),_.createElement("div",{className:"return_cnt_box white",style:{display:this._prog>=2?"":"none"},onClick:this._clickReturn},_.createElement("div",null,this._retCnt,"/",this._numOfStudent)),_.createElement(y.ToggleBtn,{className:"btn_answer",view:this._prog>=2,disabled:3===this._prog,onClick:this._clickAnswer}),_.createElement(y.ToggleBtn,{className:"btn_v_next",view:3===this._prog,onClick:this._onClose})),_.createElement(O.default,{view:this._prog<2,type:"teacher",sended:!1,originY:0,onSend:this._onSend})))}}])&&o(t.prototype,n),a&&o(t,a),l}(_.Component);p([h.observable],k.prototype,"_view",void 0),p([h.observable],k.prototype,"_prog",void 0),p([h.observable],k.prototype,"_selected",void 0),p([h.observable],k.prototype,"_retCnt",void 0),p([h.observable],k.prototype,"_numOfStudent",void 0),k=p([m.observer],k),t.default=k},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),_=n(2),d=n(4),m=n(3),h=n(8),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,a,u=s(c);function c(){var e;return r(this,c),(e=u.apply(this,arguments)).m_view=!1,e.m_curIdx=0,e._onClose=function(){m.App.pub_playBtnTab(),e.m_view=!1,e.m_curIdx=0,e.props.onClosed()},e}return t=c,(n=[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.actions,o=n.data,i=n.view;if(this.props.view&&!e.view){this.m_view=!0,this.m_curIdx=0;var s=o.storybook;r.setNaviView(!0),r.setNavi(0!==this.m_curIdx,!(this.m_curIdx>=s.length-1)),r.setNaviFnc((function(){0!==t.m_curIdx&&(t.m_curIdx--,r.setNavi(0!==t.m_curIdx,!(t.m_curIdx>=s.length-1)))}),(function(){t.m_curIdx>=s.length-1||(t.m_curIdx++,r.setNavi(0!==t.m_curIdx,!(t.m_curIdx>=s.length-1)))}))}else!i&&e.view&&(this.m_view=!1,this.m_curIdx=0)}},{key:"render",value:function(){var e=this.props,t=e.view,n=e.data,r=e.onClosed,o=n.storybook,i=-1*this.m_curIdx*1280;return p.createElement(h.CoverPopup,{className:"t-storybook",view:t&&this.m_view,onClosed:r},p.createElement("div",{className:"page-wrapper",style:{left:i+"px"}},o.map((function(e,t){return p.createElement("div",{key:t},p.createElement("div",{className:"page"},p.createElement("img",{src:m.App.data_url+e.image})))}))),p.createElement(d.ToggleBtn,{className:"btn_back",onClick:this._onClose}))}}])&&o(t.prototype,n),a&&o(t,a),c}(p.Component);l([_.observable],y.prototype,"m_view",void 0),l([_.observable],y.prototype,"m_curIdx",void 0),y=l([f.observer],y),t.default=y},function(e,t,n){}]);