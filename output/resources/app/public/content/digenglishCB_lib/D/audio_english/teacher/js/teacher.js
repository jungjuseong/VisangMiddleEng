!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=25)}([function(e,t){e.exports=React},function(e,t){e.exports=mobxReact},function(e,t){e.exports=mobx},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var o=n(19),i=n(10);function a(e){if(!e)return e;e.displayMode=""+e.displayMode=="2"?"2":"1";var t=e.thumb?e.thumb:"";return(t.startsWith("static/")||""===t)&&(t=t.endsWith("w.jpg")?"".concat("/content/digenglishCB_lib/","/images/default_member_w.jpg"):"".concat("/content/digenglishCB_lib/","/images/default_member_m.jpg")),e.thumb=t,e}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,s;return t=e,s=[{key:"pub_init",value:function(){var t=navigator.userAgent;e._isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t)||/android/i.test(t),e._tempBnd=document.createElement("div"),e._tempBnd.style.display="none",e._tempEl=document.createElement("div"),e._tempBnd.appendChild(e._tempEl),null===document.body?document.addEventListener("DOMContentLoaded",(function(t){document.body.appendChild(e._tempBnd)})):document.body.appendChild(e._tempBnd)}},{key:"pub_load",value:function(t,n,r,o,i,s){e._lesson=o,e._book=r,e._nextBook=i,e._prevBook=s,e._students=[],t&&t.forEach((function(t,n){e._students[n]=a(t)})),e._student=a(n)}},{key:"pub_reloadStudents",value:function(t){i.getStudents((function(n,r){for(;e._students.length>0;)e._students.pop();for(;e._students_inited.length>0;)e._students_inited.pop();for(var o=0,i=n.length;o<i;o++)e.isDvlp?e._students[o]=a(n[o]):e._students[o]=a({id:n[o].id,name:n[o].name,thumb:n[o].defaultThumbnail,avatar:n[o].profileThumbnail,nickname:n[o].nickName,displayMode:n[o].displayMode,inited:!0}),e._students_inited.push(n[o].id);t()}))}},{key:"pub_parseStyle",value:function(t){return e._tempEl.style.cssText=t,e._tempEl.style}},{key:"pub_initAudio",value:function(){e._common_audio=document.getElementById("common_audio"),e._ding_audio=document.getElementById("ding_audio"),e._dingend_audio=document.getElementById("dingend_audio"),e._btn_audio=document.getElementById("btn_audio"),e._correct_audio=document.getElementById("correct_audio"),e._wrong_audio=document.getElementById("wrong_audio"),e._topad_audio=document.getElementById("topad_audio"),e._goodjob_audio=document.getElementById("goodjob_audio"),e._btn_back_audio=document.getElementById("btn_back_audio"),e._btn_page_audio=document.getElementById("btn_page_audio"),e._card_audio=document.getElementById("card_audio"),e._popup_audio=document.getElementById("popup_audio"),e._flips_audio=document.getElementById("card_flips"),e._clock_audio=document.getElementById("clock_audio"),e._write_audio=document.getElementById("write_audio"),e._like_bubble_audio=document.getElementById("like_bubble"),e._all_btn_click_audio=document.getElementById("all_btn_click")}},{key:"pub_playAllBtnClick",value:function(){e._all_btn_click_audio&&(e._all_btn_click_audio.currentTime=0,e._all_btn_click_audio.play())}},{key:"pub_playLikeBubble",value:function(){e._like_bubble_audio&&(e._like_bubble_audio.currentTime=0,e._like_bubble_audio.play())}},{key:"pub_playWrite",value:function(){e._write_audio&&(e._write_audio.currentTime=0,e._write_audio.play())}},{key:"pub_playClock",value:function(){e._clock_audio&&(e._clock_audio.currentTime=4.5,e._clock_audio.play())}},{key:"pub_playFlips",value:function(){e._flips_audio&&(e._flips_audio.currentTime=0,e._flips_audio.play())}},{key:"pub_playPopup",value:function(){e._popup_audio&&(e._popup_audio.currentTime=0,e._popup_audio.play())}},{key:"pub_playCard",value:function(){e._card_audio&&(e._card_audio.currentTime=0,e._card_audio.play())}},{key:"pub_playBtnPage",value:function(){e._btn_page_audio&&(e._btn_page_audio.currentTime=0,e._btn_page_audio.play())}},{key:"pub_playBtnBack",value:function(){e._btn_back_audio&&(e._btn_back_audio.currentTime=0,e._btn_back_audio.play())}},{key:"pub_playGoodjob",value:function(){e._goodjob_audio&&(e._goodjob_audio.currentTime=0,e._goodjob_audio.play())}},{key:"pub_playDing",value:function(){e._ding_audio&&(e._ding_audio.currentTime=0,e._ding_audio.play())}},{key:"pub_playDingend",value:function(){e._dingend_audio&&(e._dingend_audio.currentTime=0,e._dingend_audio.play())}},{key:"pub_playToPad",value:function(){e._topad_audio&&(e._topad_audio.currentTime=0,e._topad_audio.play())}},{key:"pub_playBtnTab",value:function(){e._btn_audio&&(e._btn_audio.currentTime=0,e._btn_audio.play())}},{key:"pub_playCorrect",value:function(){e._correct_audio&&(e._correct_audio.currentTime=0,e._correct_audio.play())}},{key:"pub_playWrong",value:function(){e._wrong_audio&&(e._wrong_audio.currentTime=0,e._wrong_audio.play())}},{key:"pub_playStudentBubble",value:function(){var e=document.getElementById("student_bubble");e&&(e.currentTime=0,e.paused&&e.play())}},{key:"pub_stop",value:function(){null!=e._common_audio.onended&&e._common_audio.onended.call(e._common_audio,new Event("ended")),e._common_audio.oncanplaythrough=null,isNaN(e._common_audio.duration)||e._common_audio.paused||e._common_audio.pause()}},{key:"pub_play",value:function(t,n){e.pub_stop(),t=o.nteString(t,"");var r=o.nteString(e._common_audio.getAttribute("src"),"");if(""!==t||""!==r){""!==t&&r!==t&&(e._common_audio.src=t);var i=function t(r){e._common_audio.onended=null,null!==n&&n(!0),e._common_audio.removeEventListener("error",t)};e._common_audio.onended=function(t){e._common_audio.onended=null,null!==n&&n(!!t),e._common_audio.removeEventListener("error",i)},e._common_audio.addEventListener("error",i),isNaN(e._common_audio.duration)?(e._common_audio.oncanplaythrough=function(t){0!==e._common_audio.currentTime&&(e._common_audio.currentTime=0),e._common_audio.play(),e._common_audio.oncanplaythrough=null},e._common_audio.load()):(0!==e._common_audio.currentTime&&(e._common_audio.currentTime=0),e._common_audio.oncanplaythrough=null,e._common_audio.play())}else null!=n&&n(!0)}},{key:"pub_set",value:function(t,n,r){e._isDvlp=n,e._lang=r,i.set(n)}},{key:"pub_addInitedStudent",value:function(t){for(var n=!0,r=0,o=e._students_inited.length;r<o;r++)e._students_inited[r]===t.id&&(n=!1);n&&e._students_inited.push(t.id);var i=e._start_idx>0&&e._students.length>0&&e._students_inited.length>=e._students.length;return i&&(window.clearTimeout(e._start_idx),e._start_idx=-1),i}},{key:"pub_start",value:function(t){0===e._students.length||e._students_inited.length>=e._students.length?t():e._start_idx=window.setTimeout(t,2e3)}},{key:"pub_clear",value:function(){for(;e._students.length>0;)e._students.pop();for(;e._students_inited.length>0;)e._students_inited.pop()}},{key:"isMobile",get:function(){return e._isMobile}},{key:"tempEl",get:function(){return e._tempEl}},{key:"students",get:function(){return e._students}},{key:"student",get:function(){return e._student}},{key:"lang",get:function(){return e._lang}},{key:"isDvlp",get:function(){return e._isDvlp}},{key:"data_url",get:function(){return e._data_url}},{key:"lesson",get:function(){return e._lesson}},{key:"book",get:function(){return e._book}},{key:"nextBook",get:function(){return e._nextBook}},{key:"prevBook",get:function(){return e._prevBook}}],(n=null)&&r(t.prototype,n),s&&r(t,s),e}();t.App=s,s._isMobile=!1,s._students=[],s._students_inited=[],s._student=null,s._lang="ko",s._isDvlp=!1,s._data_url="../data/",s._lesson="",s._book="",s._nextBook=!1,s._prevBook=!1,s._start_idx=-1,s.isStarted=!1},function(e,t,n){"use strict";function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ImgBtn=t.AudioBtn=t.ToggleBtn=void 0;var m=n(0),h=n(2),y=n(1),v=function(e){s(n,e);var t=u(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).m_pID=-1,r._inited=r._inited.bind(p(r)),r._onClick=r._onClick.bind(p(r)),r}return a(n,[{key:"_inited",value:function(e){var t=this;!this.m_el&&e&&(this.m_el=e,this.props.onRef&&this.props.onRef(e),e.setAttribute("touch-action","none"),e.addEventListener("pointerdown",(function(n){if(!(t.m_pID>=0)){if(t.m_pID=n.pointerId,!t.props.disableCapture)try{e.setPointerCapture(t.m_pID)}catch(e){}t.props.onMouseDown&&t.props.onMouseDown(n)}})),e.addEventListener("pointerup",(function(n){if(t.m_pID===n.pointerId){try{e.releasePointerCapture(t.m_pID)}catch(e){}t.m_pID=-1,t.props.onMouseUp&&t.props.onMouseUp(n)}})),e.addEventListener("pointerleave",(function(n){if(t.props.disableCapture){if(t.m_pID!==n.pointerId)return;try{e.releasePointerCapture(t.m_pID)}catch(e){}t.m_pID=-1}t.props.onMouseLeave&&t.props.onMouseLeave(n)})),e.addEventListener("pointercancel",(function(n){if(t.m_pID===n.pointerId){try{e.releasePointerCapture(t.m_pID)}catch(e){}t.m_pID=-1,t.props.onMouseLeave&&t.props.onMouseLeave(n)}})))}},{key:"_onClick",value:function(e){this.props.onClick&&this.props.onClick(e),this.props.preventEvent&&(e.preventDefault(),e.stopPropagation())}},{key:"componentDidUpdate",value:function(e){if((this.props.disabled&&!e.disabled||!this.props.view&&e.view)&&this.m_pID>=0){try{this.m_el&&this.m_el.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1}}}]),n}(m.Component);_([h.observable],v.prototype,"m_pID",void 0);var b=function(e){s(n,e);var t=u(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).m_on=!1,r.m_on=!0===e.on,r}return a(n,[{key:"componentWillReceiveProps",value:function(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}},{key:"render",value:function(){var e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down");var t=e.join(" "),n=this.props.style;return!1===this.props.view&&(n||(n={}),n.display="none"),m.createElement("button",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,disabled:!0===this.props.disabled,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:n},this.props.children)}}]),n}(v);_([h.observable],b.prototype,"m_on",void 0),b=_([y.observer],b),t.ToggleBtn=b;var g=function(e){s(n,e);var t=u(n);function n(e){return o(this,n),t.call(this,e)}return a(n,[{key:"play",value:function(){var e=this;this.m_on||(this.m_on=!0,this.props.playFnc(this.props.src,(function(t){e.m_on&&(e.m_on=!1,e.props.onPause&&e.props.onPause(t))})))}},{key:"_onClick",value:function(e){this.m_on?(this.props.pauseFnc(),this.m_on=!1):this.play(),r(f(n.prototype),"_onClick",this).call(this,e)}}]),n}(b);_([h.action],g.prototype,"play",null),_([h.action],g.prototype,"_onClick",null),g=_([y.observer],g),t.AudioBtn=g;var w=function(e){s(n,e);var t=u(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).m_on=!1,r.m_on=!0===e.on,r}return a(n,[{key:"componentWillReceiveProps",value:function(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}},{key:"render",value:function(){var e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down"),!0===this.props.disabled&&e.push("disable");var t=e.join(" "),n=this.props.style;return!1===this.props.view&&(n||(n={}),n.display="none"),m.createElement("img",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:n,src:this.props.src,useMap:this.props.useMap})}}]),n}(v);_([h.observable],w.prototype,"m_on",void 0),w=_([y.observer],w),t.ImgBtn=w},function(e,t){e.exports=_},function(e,t,n){e.exports=n(65)()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.MPRState=t.MConfig=t.MPlayer=void 0;var c,u,l,p,f,d,_,m=n(2);!function(e){e.STRETCH="stretch",e.LETTERBOX="letterbox"}(c||(c={})),function(e){e.NONE="none",e.METADATA="metadata",e.AUTO="auto"}(u||(u={})),function(e){e.ORGIN="origin",e.TRANS="trans",e.ALL="all",e.NONE="none"}(l||(l={})),function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.PLAYBACK_ERROR=2]="PLAYBACK_ERROR",e[e.READY=3]="READY",e[e.STANDBY=4]="STANDBY",e[e.BUFFERING=5]="BUFFERING",e[e.PAUSED=6]="PAUSED",e[e.PLAYING=7]="PLAYING"}(p||(p={})),t.MPRState=p,function(e){e[e.UNSET=-1]="UNSET",e[e.CAN_NOT_ALL_DIR=1]="CAN_NOT_ALL_DIR",e[e.CAN_NOT_NEXT_DIR=2]="CAN_NOT_NEXT_DIR",e[e.CAN_ALL_DIR=10]="CAN_ALL_DIR"}(f||(f={})),function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(d||(d={})),function(e){e[e.NETWORK_EMPTY=0]="NETWORK_EMPTY",e[e.NETWORK_IDLE=1]="NETWORK_IDLE",e[e.NETWORK_LOADING=2]="NETWORK_LOADING",e[e.NETWORK_NO_SOURCE=3]="NETWORK_NO_SOURCE"}(_||(_={}));var h=function(){function e(t){r(this,e),this.defaultVolume=100,this.lenOfFvlToFile=25165824,this.sections=[],this.isVideo=t,this.autoPlay=!1,this.controlBox=!0,this.typeOfPosByMouse=10,this.loop=1,this.preload="auto",this.scaleMode="stretch",this.bgColor=-1,this.initTime=0,this.startTime=0,this.endTime=0,this.chkTime=250,this.playBtn=!0,this.closeBtn=!1,this.popupBtn=!1,this.fullscreenBtn=!0,this.volumeBtn=!0,this.centerPlayBtn=!0,this.centerLoading=!0,this.mousePlayPause=!0,this.bDoFullscreen=!0,this.volumeBox=!0,this.speedBtn=!1,this.scroller=!0,this.togglePlayBtn=!0,this.autoBtn=!1,this.langBtn=!1,this.menuOverlap=!0,this.haveScript=!1,this.viewScriptBox=!1,this.bScriptBtn=!1,this.scriptViewLang="none",this.etcData=""}return i(e,[{key:"isLoadControls",value:function(e){return this.controlBox||e&&(this.centerPlayBtn||this.centerLoading||this.viewScriptBox)}},{key:"pcGetURL",value:function(e){return e}},{key:"clone",value:function(){var t=new e(this.isVideo);return t.copy(this),t}},{key:"copy",value:function(e){this.autoPlay=e.autoPlay,this.controlBox=e.controlBox,this.typeOfPosByMouse=e.typeOfPosByMouse,this.loop=e.loop,this.preload=e.preload,this.scaleMode=e.scaleMode,this.bgColor=e.bgColor,this.initTime=e.initTime,this.startTime=e.startTime,this.endTime=e.endTime,this.chkTime=e.chkTime,this.playBtn=e.playBtn,this.closeBtn=e.closeBtn,this.popupBtn=e.popupBtn,this.fullscreenBtn=e.fullscreenBtn,this.volumeBtn=e.volumeBtn,this.centerPlayBtn=e.centerPlayBtn,this.centerLoading=e.centerLoading,this.mousePlayPause=e.mousePlayPause,this.volumeBox=e.volumeBox,this.speedBtn=e.speedBtn,this.scroller=e.scroller,this.togglePlayBtn=e.togglePlayBtn,this.autoBtn=e.autoBtn,this.langBtn=e.langBtn,this.menuOverlap=e.menuOverlap,this.haveScript=e.haveScript,this.viewScriptBox=e.viewScriptBox,this.bScriptBtn=e.bScriptBtn,this.scriptViewLang=e.scriptViewLang,this.defaultVolume=e.defaultVolume,this.etcData=e.etcData}},{key:"isMobile",get:function(){return!1}},{key:"iskdmPC",get:function(){return!1}}]),e}();t.MConfig=h;var y=function(){function e(t){r(this,e),this.m_media=null,this.m_url=null,this.m_startTime=0,this.m_endTime=0,this.m_maxTime=0,this.m_seekTime=-1,this.m_onTimer=-1,this.m_playEnded=!1,this.m_standBy=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=-1,this.m_onstates=[],this.m_ontimes=[],this.m_onends=[],this.m_onendtemps=[],this.m_bPlay=!1,this.m_myState=0,this.m_duration=0,this.m_currentTime=0,this.m_viewTime=0,this.fullscreen=!1,this.m_muted=!1,this.m_config=t,this.m_bPlay=t.autoPlay,this.m_startTime=t.startTime,this.m_endTime=t.endTime,this.mediaInited=this.mediaInited.bind(this),this._onTime=this._onTime.bind(this)}return i(e,[{key:"setStartEndTime",value:function(e,t){this.m_startTime=e,this.m_endTime=t}},{key:"setMuted",value:function(e){this.m_muted=e,this.m_media&&(this.m_media.muted=e)}},{key:"setMutedTemp",value:function(e){this.m_media&&(this.m_media.muted=e)}},{key:"_initTemp",value:function(){this.m_standBy=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=0}},{key:"play",value:function(){this.m_bPlay=!0,this._initTemp(),this.m_playEnded&&this.m_media&&this.m_myState>=3&&(this.m_media.currentTime=this.m_startTime/1e3),this.m_playEnded=!1,this._playOrPause()}},{key:"pause",value:function(){this.m_bPlay=!1,this._initTemp(),this._playOrPause()}},{key:"start",value:function(){this.seek(0),this.play()}},{key:"seek",value:function(e){if(!this.m_media||this.m_myState<3)this.m_seekTime=e;else{if(this._initTemp(),this.m_seekTime=-1,isNaN(e)||e<0)e=0;else if(e>=this.m_duration-100)return e=this.m_duration,void this._playEnded();this.m_playEnded=!1,this.m_media.currentTime=(this.m_startTime+e)/1e3,this._onTimeUpdate(),this.m_viewTime=this.m_currentTime}}},{key:"gotoAndPlay",value:function(e,t,n){if(this.m_standBy=!1,!this.m_media||this.m_duration<=0)return this._load(),this.m_bPlay_temp=!0,this.m_startTime_temp=e,this.m_endTime_temp=t,void(this.m_loop_temp=n);this.m_playEnded=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=e,this.m_endTime_temp=t,e=e>=0?e:this.currentTime,t=t>=0&&t<this.m_duration?t:this.m_duration,this.m_bPlay=!0,e>=t||n<=0?(this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=0):(this.m_endTime_temp>=this.m_duration&&(this.m_endTime_temp=-1),this.m_loop_temp=n,this.m_loopCnt_temp=0,this.m_startTime_temp>=0&&(this.m_media.currentTime=(e+this.m_startTime)/1e3,this._onTimeUpdate(),this.m_viewTime=this.m_currentTime)),this._playOrPause()}},{key:"gotoAndPause",value:function(e){this.m_bPlay=!1,this._initTemp(),this.m_media&&(e=e>=0&&e<this.m_duration?e:this.currentTime,this.m_media.currentTime=(e+this.m_startTime)/1e3,this._onTimeUpdate(),this.m_viewTime=this.m_currentTime,this._playOrPause())}},{key:"connect",value:function(){if(this.m_media){this.m_media;this.m_url&&this.m_myState>=1&&3===this.m_media.networkState&&0===this.m_media.readyState&&(this.m_media.src=this.m_url,this.m_media.load())}}},{key:"unconnect",value:function(){this.m_media&&(this.m_media.paused||this.m_media.pause(),this.m_myState>=1&&(this.m_myState>=3&&(this.m_seekTime=1e3*this.m_media.currentTime-this.m_startTime),this.m_media.src="",this.m_media.load()))}},{key:"_load",value:function(){this.m_media&&this.m_url&&this.m_myState<1&&(this._setState(1),this.m_media.src=this.m_url,this.m_media.load())}},{key:"load",value:function(e){this.m_url=e,this._load()}},{key:"unload",value:function(){this.m_media&&(this.m_media.paused||this.m_media.pause(),this.m_myState>=1&&(this.m_media.src="",this.m_media.load())),this.m_url=null,this.m_bPlay=!1,this.m_bPlay_temp=!1,this.m_startTime=0,this.m_endTime=0,this.m_maxTime=0,this.m_seekTime=-1,this.m_onTimer=-1,this.m_playEnded=!1,this.m_standBy=!1,this.m_bPlay_temp=!1,this.m_startTime_temp=-1,this.m_endTime_temp=-1,this.m_loop_temp=-1,this.m_loopCnt_temp=-1,this.m_duration=0,this.m_currentTime=0,this.m_viewTime=0,this.fullscreen=!1,this.m_muted=!1,this._setState(0)}},{key:"_setState",value:function(e){if(this.m_myState!==e){7===e?this.m_onTimer<0&&(this.m_onTimer=window.requestAnimationFrame(this._onTime)):6===e&&this.m_onTimer>=0&&(window.cancelAnimationFrame(this.m_onTimer),this.m_onTimer=-1);var t=this.m_myState;this.m_myState=e;for(var n=0,r=this.m_onstates.length;n<r;n++)this.m_onstates[n](e,t)}}},{key:"_playOrPause",value:function(){var e=this;if(this.m_media&&!(this.m_myState<3))if(this.m_bPlay){if(this._setState(7),this.m_media.paused){var t=this.m_media.play();t&&t.then((function(t){!e.m_media||e.m_bPlay||e.m_media.paused||e.m_media.pause()})).catch((function(t){!e.m_media||e.m_bPlay||e.m_media.paused||e.m_media.pause()}))}}else this._setState(6),this.m_media.paused||this.m_media.pause()}},{key:"_onTimeUpdate",value:function(){if(this.m_media){var e=1e3*this.m_media.currentTime;if(this.m_loop_temp>0&&this.m_bPlay)if(e<this.m_startTime)e=this.m_startTime;else if(this.m_endTime_temp>0&&e>=this.m_endTime_temp+this.m_startTime){this.m_currentTime=this.m_endTime_temp,this.m_viewTime=this.m_currentTime;for(var t=0,n=this.m_ontimes.length;t<n;t++)this.m_ontimes[t](this.m_currentTime);this._playEnded()}else{this.m_currentTime=e-this.m_startTime;for(var r=0,o=this.m_ontimes.length;r<o;r++)this.m_ontimes[r](this.m_currentTime)}else if(e<this.m_startTime)e=this.m_startTime;else{if(this.m_endTime>0&&e>=this.m_endTime){this.m_currentTime=this.m_endTime-this.m_startTime,this.m_viewTime=this.m_currentTime;for(var i=0,a=this.m_ontimes.length;i<a;i++)this.m_ontimes[i](this.m_currentTime);return void this._playEnded()}this.m_currentTime=e-this.m_startTime;for(var s=0,c=this.m_ontimes.length;s<c;s++)this.m_ontimes[s](this.m_currentTime)}}}},{key:"_playEnded",value:function(){if(this.m_media&&!this.m_playEnded)if(this.m_loop_temp>0&&this.m_bPlay){if(this.m_loopCnt_temp++,this.m_endTime_temp<=0){this.m_bPlay=!1;for(var e=0,t=this.m_onends.length;e<t;e++)this.m_onends[e]()}if(this.m_loopCnt_temp<this.m_loop_temp){var n=this.m_startTime_temp>=0&&this.m_startTime_temp<this.m_duration?this.m_startTime_temp:0;this.m_media.currentTime=(n+this.m_startTime)/1e3,this.m_media.paused&&this.m_media.play()}else{this.m_media.paused||this.m_media.pause(),this.m_bPlay=!1;for(var r=0,o=this.m_onendtemps.length;r<o;r++)this.m_onendtemps[r]()}}else{for(var i=0,a=this.m_onends.length;i<a;i++)this.m_onends[i]();0===this.m_config.loop&&this.m_bPlay?(this.m_media.currentTime=this.m_startTime/1e3,this.m_media.paused&&this.m_media.play()):(this.m_playEnded=!0,this.m_bPlay=!1,this.m_media.paused||this.m_media.pause(),1e3*this.m_media.currentTime<this.m_maxTime-100&&(this.m_media.currentTime=this.m_maxTime/1e3),this.m_currentTime=this.m_maxTime-this.m_startTime,this.m_viewTime=this.m_currentTime,this._setState(6))}}},{key:"reset",value:function(){}},{key:"_onTime",value:function(e){this.m_onTimer>=0&&(this._onTimeUpdate(),this.m_onTimer=window.requestAnimationFrame(this._onTime))}},{key:"mediaInited",value:function(e){var t=this;if(!this.m_media&&e){this.m_media=e;var n=function(n){if(t.m_media){t.m_config;e.duration>0&&(t.m_maxTime<=0?(t.m_maxTime=1e3*e.duration,t.m_endTime>=t.m_maxTime?t.m_endTime=0:t.m_endTime>0&&(t.m_maxTime=t.m_endTime),(t.m_startTime<0||t.m_startTime>=t.m_maxTime)&&(t.m_startTime=0),t.m_duration=t.m_maxTime-t.m_startTime,t.m_bPlay_temp?(t._setState(3),t.gotoAndPlay(t.m_startTime_temp,t.m_endTime_temp,t.m_loop_temp)):t.m_seekTime>0&&t.m_seekTime<t.m_duration?(t._setState(3),t.m_media.currentTime=(t.m_seekTime+t.m_startTime)/1e3):0===t.m_startTime?(t._setState(3),t._playOrPause()):t.m_media.currentTime=t.m_startTime/1e3,t.m_seekTime=-1):t.m_seekTime>=0&&(t.m_seekTime<t.m_duration&&(t.m_media.currentTime=(t.m_seekTime+t.m_startTime)/1e3),t.m_seekTime=-1))}};e.onabort=function(e){console.log("onabort")},e.oncanplay=n,e.oncanplaythrough=n,e.ondurationchange=n,e.onloadeddata=n,e.onloadedmetadata=n,e.onerror=function(e){1===t.m_myState&&t._setState(2)},e.onended=function(e){t.m_media&&(t.m_maxTime<=0||t.m_myState<3||t._playEnded())},e.onpause=function(e){t.m_media&&(t.m_maxTime<=0||t.m_myState<3||t._setState(6))},e.onplaying=function(e){t.m_media&&(t.m_maxTime<=0||t.m_myState<3||!t.m_bPlay?t.m_media.paused||t.m_media.pause():t._setState(7))},e.onseeking=function(e){!t.m_media||t.m_maxTime<=0||t.m_myState>=3&&t._setState(5)},e.onseeked=function(e){if(t.m_media&&!(t.m_maxTime<=0))if(t.m_myState>=3)t._playOrPause();else if(t.m_myState<3&&t.m_startTime>0){Math.abs(t.m_startTime-1e3*t.m_media.currentTime)<100?(t._setState(3),t._playOrPause()):t.m_media.currentTime=t.m_startTime/1e3}},e.ontimeupdate=function(e){t.m_myState<=2||(t._onTimeUpdate(),t.m_viewTime=t.m_currentTime)},this._load()}}},{key:"addOnState",value:function(e){this.m_onstates.indexOf(e)>=0||this.m_onstates.push(e)}},{key:"removeOnState",value:function(e){var t=this.m_onstates.indexOf(e);t<0||this.m_onstates.splice(t,1)}},{key:"addOnTime",value:function(e){this.m_ontimes.indexOf(e)>=0||this.m_ontimes.push(e)}},{key:"removeOnTime",value:function(e){var t=this.m_ontimes.indexOf(e);t<0||this.m_ontimes.splice(t,1)}},{key:"addOnPlayEnd",value:function(e){this.m_onends.indexOf(e)>=0||this.m_onends.push(e)}},{key:"removeOnPlayEnd",value:function(e){var t=this.m_onends.indexOf(e);t<0||this.m_onends.splice(t,1)}},{key:"addOnPlayEndTemp",value:function(e){this.m_onendtemps.indexOf(e)>=0||this.m_onendtemps.push(e)}},{key:"removeOnPlayEndTemp",value:function(e){var t=this.m_onendtemps.indexOf(e);t<0||this.m_onendtemps.splice(t,1)}},{key:"bPlay",get:function(){return this.m_bPlay}},{key:"myState",get:function(){return this.m_myState}},{key:"duration",get:function(){return this.m_duration}},{key:"muted",get:function(){return this.m_muted}},{key:"viewTime",get:function(){return this.m_viewTime}},{key:"media",get:function(){return this.m_media}},{key:"config",get:function(){return this.m_config}},{key:"currentTime",get:function(){return this.m_currentTime}}]),e}();s([m.observable],y.prototype,"m_bPlay",void 0),s([m.observable],y.prototype,"m_myState",void 0),s([m.observable],y.prototype,"m_duration",void 0),s([m.observable],y.prototype,"m_viewTime",void 0),s([m.observable],y.prototype,"fullscreen",void 0),s([m.observable],y.prototype,"m_muted",void 0),s([m.computed],y.prototype,"bPlay",null),s([m.computed],y.prototype,"myState",null),s([m.computed],y.prototype,"duration",null),s([m.computed],y.prototype,"muted",null),s([m.computed],y.prototype,"viewTime",null),t.MPlayer=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(5),d=n(1),_=n(2),m=n(3),h=n(4),y=n(48);function v(e,t){for(var n=.001*Math.round(t/.001),r=0,o=e.length;r<o;r++){var i=e[r];if(n>=i.audio_start&&n<=i.audio_end)return r;if(n<i.audio_start)return-2}return-1}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,s,c=a(u);function u(){var e;return r(this,u),(e=c.apply(this,arguments)).m_curIdx=-1,e.m_viewCountDown=!1,e.m_yourturn=-1,e.m_ytNext=-1,e._view_audio_box=!1,e._refBox=function(t){!e.m_box&&t&&(e.m_box=t)},e._refVideo=function(t){if(t){var n=e.props.player;if(!n.media){n.mediaInited(t),n.load(m.App.data_url+e.props.data.role_play.main_sound);var r=e.props.data.scripts[e.props.idx];n.addOnTime((function(t){var o=e.props,i=o.shadowing,a=o.isShadowPlay,s=o.onChangeScript,c=v(r,t/=1e3);if(console.log(c),e.m_curIdx!==c){if(i){if(!(e.m_yourturn<0))return;if(e.m_curIdx>=0){e.m_ytNext=c,n.pause();var u=r[e.m_curIdx],l=2e3*(u.audio_end-u.audio_start);return void(e.m_yourturn=f.delay((function(){if(e.m_yourturn>=0&&a){if(e.m_curIdx=e.m_ytNext,e.m_yourturn=-1,-1==c)return n.play(),n.pause(),void s(c);s(c),n.play()}}),l))}}e.m_curIdx=c,console.log("onc",c),s(c)}}))}}},e._playClick=function(){m.App.pub_playBtnTab(),e._togglePlay(),e._view_audio_box=!e._view_audio_box,e._view_audio_box?e.props.player.play():e.props.player.pause()},e._togglePlay=function(){var t=e.props,n=t.data,r=t.shadowing,o=t.player,i=t.setShadowPlay,a=t.playerInitTime,s=t.isShadowPlay,c=n.scripts[e.props.idx];if(!e.m_viewCountDown)if(m.App.pub_playBtnTab(),e.m_yourturn>=0&&(e.m_curIdx=e.m_ytNext,clearTimeout(e.m_yourturn),e.m_yourturn=-1),r)i(!s),s?o.pause():o.play();else if(console.log(o.bPlay),o.bPlay)o.pause();else{var u=o.currentTime>=o.duration||o.currentTime<1e3*a?1e3*a:o.currentTime;o.gotoAndPlay(u,1e3*c[c.length-1].audio_end,1)}},e}return t=u,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.data,r=t.player,o=t.roll,i=t.shadowing,a=t.playerInitTime,s=t.setShadowPlay,c=n.scripts[this.props.idx];o!==e.roll&&(this.m_yourturn>=0&&(clearTimeout(this.m_yourturn),this.m_yourturn=-1),this.props.setShadowPlay(!1),""===o?(r.pause(),this.m_viewCountDown=!1):((r.currentTime!==a||r.currentTime<a)&&r.seek(1e3*a),this.m_curIdx=-1,r.pause(),r.setMuted(!1),(r.currentTime!==this.props.playerInitTime||r.currentTime<this.props.playerInitTime)&&r.seek(1e3*this.props.playerInitTime),r.gotoAndPlay(1e3*a,1e3*c[c.length-1].audio_end,1))),i!==e.shadowing&&(this.m_yourturn>=0&&(clearTimeout(this.m_yourturn),this.m_yourturn=-1),s(i),i?((r.currentTime!==a||r.currentTime<a)&&r.seek(1e3*a),this.m_curIdx=-1,r.play(),r.setMuted(!1)):r.pause())}},{key:"render",value:function(){var e=this.props,t=e.player,n=e.shadowing,r=e.isShadowPlay,o=!n&&t.bPlay||n&&r;return p.createElement("div",{className:"video_box",ref:this._refBox},p.createElement("video",{ref:this._refVideo,style:{display:"none"}}),p.createElement("div",{className:"audio"},p.createElement(h.ToggleBtn,{className:"btn_audio",on:o,onClick:this._playClick}),p.createElement(y.default,{player:t,disable:this.m_viewCountDown||n,isPlay:o,togglePlay:this._togglePlay,view:this._view_audio_box})))}}])&&o(t.prototype,n),s&&o(t,s),u}(p.Component);l([_.observable],b.prototype,"m_curIdx",void 0),l([_.observable],b.prototype,"m_viewCountDown",void 0),l([_.observable],b.prototype,"m_yourturn",void 0),l([_.observable],b.prototype,"m_ytNext",void 0),l([_.observable],b.prototype,"_view_audio_box",void 0),b=l([d.observer],b),t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getBlockJSX=t._getJSX=t._splitSpace=t._sentence2jsx=void 0;var r=n(0);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,s=new RegExp(/\{(.*?)\}/g),c={key:0},u=[],l=e.replace(/\s\s+/gi," ").replace(/<\s*br\s*\/*\s*>/gi,"<br>").split("<br>");return l.forEach((function(e,l){if(t){for(var p=s.exec(e),f=0,d="",_=[];p;){p.index>f&&(d=e.substring(f,p.index),_.push(i(d,c,a))),d=p[1];var m=n;m||(m=d),o?i(m,c,a):m,_.push(r.createElement("span",{key:c.key++,className:t,"data-correct":d}," ",m," ")),f=s.lastIndex,p=s.exec(e)}f<e.length&&(d=e.substring(f),_.push(i(d,c,a))),u[l]=r.createElement(r.Fragment,{key:c.key++},_)}else u[l]=r.createElement(r.Fragment,{key:c.key++},i(e,c,a))})),u}function i(e,t,n){for(var o=e.split(/\s/g),i=new RegExp(/[\.\!\?\s]/g),a=[],s=0;s<o.length;s++){var c=o[s];if(""!==c){for(var u=[],l=0,p="",f=i.exec(c);f;)f.index>l&&(p=c.substring(l,f.index),u.push(r.createElement("span",{key:t.key++},p))),p=f[0],u.push(p),l=i.lastIndex,f=i.exec(c);l<c.length&&(p=c.substring(l),u.push(r.createElement("span",{key:t.key++},p))),a.push(r.createElement("span",{key:t.key++,className:n},u.map((function(e){return e}))))}}return a}t._sentence2jsx=o,t._splitSpace=i,t._getJSX=function(e){var t=o(e,"block",void 0,!0,"word");return r.createElement(r.Fragment,null,t.map((function(e,n){return n===t.length-1?e:r.createElement(r.Fragment,{key:n},e,r.createElement("br",null))})))},t._getBlockJSX=function(e){var t=o(e,"block",void 0,!0,"word");return r.createElement(r.Fragment,null,t.map((function(e,n){return n===t.length-1?e:r.createElement(r.Fragment,{key:n},e,r.createElement("br",null))})))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPreviewResultMember=t.getPreviewResultClass=t.getPreviewDmsResult=t.getPreviewResult=t.uploadInclassReport=t.stopVideoRecord=t.startVideoRecord=t.switchCamera=t.stopCamera=t.startCustomCamera=t.startCamera=t.getStudents=t.uploadImageToServer=t.uploadFileToServer=t.stopVoiceRecord=t.startVoiceRecord=t.sendTeacher=t.disableSoftwareKeyboard=t.sendPAD=t.sendPADToID=t.sendLauncher=t.uploadStudentReport=t.addStudentForStudentReportType6=t.hideStudentReportListPage=t.showStudentReportListPage=t.showStudentReportUI=t.hideStudentReportUI=t.startStudentReportProcess=t.finishContentPage=t.set=void 0;var o=n(5),i=!1;t.set=function(e){i=e},t.finishContentPage=function(){if(!i)try{window.tsoc_o.finishContentPage()}catch(e){}},t.startStudentReportProcess=function(e,t,n){if(!i)try{window.tsoc_o.startStudentReportProcess(e,t,n)}catch(e){}},t.hideStudentReportUI=function(){if(!i)try{window.tsoc_o.hideStudentReportUI()}catch(e){}},t.showStudentReportUI=function(){if(!i)try{window.tsoc_o.showStudentReportUI()}catch(e){}},t.showStudentReportListPage=function(){if(!i)try{window.tsoc_o.showStudentReportListPage()}catch(e){}},t.hideStudentReportListPage=function(){if(!i)try{window.tsoc_o.hideStudentReportListPage()}catch(e){}},t.addStudentForStudentReportType6=function(e){if(!i)try{window.tsoc_o.addStudentForStudentReportType6(e)}catch(e){}},t.uploadStudentReport=function(e,t,n){if(!i)try{window.psoc_o.uploadStudentReport(e,t,n)}catch(e){}},t.sendLauncher=function(e,t){if(5!==e||i)if(6!==e||i)if(7!==e||i){if(8===e)if(i)try{window.top.tsoc_o.gotoPrevBook()}catch(e){}else try{window.tsoc_o.gotoPrevBook()}catch(e){}else if(9===e)if(i)try{window.top.tsoc_o.gotoNextBook()}catch(e){}else try{window.tsoc_o.gotoNextBook()}catch(e){}}else try{window.tsoc_o.setTitleBar(t)}catch(e){}else try{window.tsoc_o.showTitleBar()}catch(e){}else try{window.tsoc_o.hideTitleBar()}catch(e){}},t.sendPADToID=function(e,t,n){var r={type:t,data:n};if(i)try{window.top.tsoc_o.sendPADToID(e,r)}catch(e){}else try{window.tsoc_o.sendPADToID(e,r)}catch(e){}},t.sendPAD=function(e,t){var n={type:e,data:t};if(i)try{window.top.tsoc_o.sendAll(n)}catch(e){}else try{window.tsoc_o.sendAll(n)}catch(e){}},t.disableSoftwareKeyboard=function(){try{window.psoc_o.disableSoftwareKeyboard()}catch(e){}},t.sendTeacher=function(e,t){var n={type:e,data:t};if(i)try{window.opener.tsoc_o.sendTeacher(n)}catch(e){}else try{window.psoc_o.sendTeacher(n)}catch(e){}},t.startVoiceRecord=function(){try{window.psoc_o.startVoiceRecord()}catch(e){}},t.stopVoiceRecord=function(){try{window.psoc_o.stopVoiceRecord()}catch(e){}},t.uploadFileToServer=function(e){try{window.psoc_o.uploadFileToServer(e)}catch(e){}},t.uploadImageToServer=function(e){try{window.psoc_o.uploadImageToServer(e)}catch(e){}},t.getStudents=function(e){if(i)if(window.top.tsoc_o)try{window.top.tsoc_o.getStudents(e)}catch(e){}else e([],!1);else try{window.tsoc_o.getStudents(e)}catch(e){}},t.startCamera=function(){if(!i)try{window.psoc_o.startCamera()}catch(e){}},t.startCustomCamera=function(e){if(!i)try{window.psoc_o.startCustomCamera(e)}catch(e){}},t.stopCamera=function(){if(!i)try{window.psoc_o.stopCamera()}catch(e){}},t.switchCamera=function(){if(!i)try{window.psoc_o.switchCamera()}catch(e){}},t.startVideoRecord=function(){if(!i)try{window.psoc_o.startVideoRecord()}catch(e){}},t.stopVideoRecord=function(){if(!i)try{window.psoc_o.stopVideoRecord()}catch(e){}},t.uploadInclassReport=function(e){if(!i)try{window.tsoc_o.uploadInclassReport(e)}catch(e){}},t.getPreviewResult=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i)t([]);else{var n=!1;window.tsoc_o.getPreviewResult((function(e){n||(n=!0,t(e))}),e),o.delay((function(){n||(n=!0,t([]))}),5e3)}})));case 1:case"end":return t.stop()}}),t)})))},t.getPreviewDmsResult=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i)t([]);else{var n=!1;window.tsoc_o.getPreviewDmsResult((function(e){n||(n=!0,t(e))}),e),o.delay((function(){n||(n=!0,t([]))}),5e3)}})));case 1:case"end":return t.stop()}}),t)})))},t.getPreviewResultClass=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i)t([]);else{var n=!1;window.tsoc_o.getPreviewResultClass((function(e){n||(n=!0,t(e))}),e),o.delay((function(){n||(n=!0,t([]))}),5e3)}})));case 1:case"end":return t.stop()}}),t)})))},t.getPreviewResultMember=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i)t([]);else{var n=!1;window.tsoc_o.getPreviewResultMember((function(e){n||(n=!0,t(e))}),e),o.delay((function(){n||(n=!0,t([]))}),5e3)}})));case 1:case"end":return t.stop()}}),t)})))}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Progress=t.CorrectBar=t.StandBar=void 0;var f=n(0),d=function(e){s(n,e);var t=u(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){var e=this.props.percent;return f.createElement("div",{className:"stand_bar",style:{display:e<0?"none":""}},f.createElement("div",{className:"prog_bnd"},f.createElement("div",{className:"prog_bar",style:{width:e<0?"0%":e+"%"}})),f.createElement("div",{className:"data_percent"},e<0?"":e+"%"))}}]),n}(f.Component);t.StandBar=d;var _=function(e){s(n,e);var t=u(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.preview,r=e.result;return f.createElement("div",{className:t},f.createElement("span",{className:"title",style:{display:n<0?"none":""}},"Pre-class"),f.createElement("div",{className:"progress_bar",style:{display:n<0?"none":""}},f.createElement("span",{className:"colorA",style:{width:n+"%"}}),f.createElement("span",{className:"data_percent"},n,"%")),f.createElement("span",{className:"title",style:{display:r<0?"none":""}},"In-class"),f.createElement("div",{className:"progress_bar",style:{display:r<0?"none":""}},f.createElement("span",{className:"colorB",style:{width:r+"%"}}),f.createElement("span",{className:"data_percent"},r,"%")))}}]),n}(f.Component);t.CorrectBar=_;var m=function(e){s(n,e);var t=u(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){return f.createElement(f.Fragment,null,f.createElement("div",{className:"progress_box"},f.createElement("span",{className:"title on"},"SOUND"),f.createElement("div",{className:"progress_bar"},f.createElement("span",{className:"data on",style:{width:"30%"}}),f.createElement("span",{className:"data_percent on"},"30%")),f.createElement("span",{className:"title"},"MEANING"),f.createElement("div",{className:"progress_bar"},f.createElement("span",{className:"data",style:{width:"60%"}}),f.createElement("span",{className:"data_percent"},"60%")),f.createElement("span",{className:"title"},"SPELLING"),f.createElement("div",{className:"progress_bar"},f.createElement("span",{className:"data",style:{width:"50%"}}),f.createElement("span",{className:"data_percent"},"50%")),f.createElement("span",{className:"title"},"SENTENCE"),f.createElement("div",{className:"progress_bar"},f.createElement("span",{className:"data",style:{width:"90%"}}),f.createElement("span",{className:"data_percent"},"90%"))))}}]),n}(f.Component);t.Progress=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CoverPopup=void 0;var d=n(0),_=n(2),m=n(1),h=n(14),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(l,e);var t,n,s,u=a(l);function l(){var e;return r(this,l),(e=u.apply(this,arguments)).m_state="closed",e._open=function(){return f(c(e),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("closed"!==this.m_state){e.next=5;break}return this.m_state="opening",e.next=4,h.wait(100);case 4:this.m_state="open";case 5:case"end":return e.stop()}}),e,this)})))},e._close=function(){return f(c(e),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("open"!==this.m_state){e.next=6;break}return this.m_state="closing",e.next=4,h.wait(400);case 4:this.props.onClosed(),this.m_state="closed";case 6:case"end":return e.stop()}}),e,this)})))},e}return t=l,(n=[{key:"componentDidUpdate",value:function(e){this.props.view!==e.view&&(this.props.view?this._open():this._close())}},{key:"render",value:function(){return d.createElement("div",{className:this.props.className+" "+this.m_state},this.props.children)}}])&&o(t.prototype,n),s&&o(t,s),l}(d.Component);p([_.observable],y.prototype,"m_state",void 0),y=p([m.observer],y),t.CoverPopup=y},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getBounds=t.getTimeStr=t.wait=void 0;var o=n(5);t.wait=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){o.delay(t,e)})));case 1:case"end":return t.stop()}}),t)})))},t.getTimeStr=function(e,t){var n=Math.round(t/1e3),r=Math.round(e/1e3),o=Math.floor(r/60),i=Math.floor(o/60),a="";return o%=60,i>0||n>=3600?(a=i+":",a+=o>=10?o+":":"0"+o+":"):n>=600?a+=o>=10?o+":":"0"+o+":":a=o+":",a+=(r%=60)>=10?r:"0"+r},t.getBounds=function(e){var t={left:0,top:0,width:0,height:0};if(!e)return t;try{var n=e.getBoundingClientRect();t.left=n.left,t.top=n.top,t.width=n.width,t.height=n.height}catch(e){}var r=e.ownerDocument,o=r.body,i=r.documentElement;t.left=t.left-(i.clientLeft||o.clientLeft||0),t.top=t.top-(i.clientTop||o.clientTop||0);var a=r.defaultView;return t.left+=a.pageXOffset||i.scrollLeft||o.scrollLeft,t.top+=a.pageYOffset||i.scrollTop||o.scrollTop,t}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(5),f=n(1),d=n(2),_=n(3),m=n(9),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e))._view=!1,t._hint=!1,t._trans=!1,t._sended=!1,t._characterImage="",t._soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},t._viewTrans=function(){_.App.pub_playBtnTab(),t._trans=!t._trans,t._trans&&(t._trans=!0)},t._viewAnswer=function(e){t.props.onHintClick(),t._hint=!t._hint},t._onClick=function(){t._btnAudio&&t._btnAudio.toggle()};var n=e.data.directive;t._jsx_sentence=m._getJSX(n.kor),t._jsx_eng_sentence=m._getJSX(n.eng);var r="".concat("/content/digenglishCB_lib/D/audio_english/","/teacher/images/"),o=Math.floor(3*Math.random());return t._characterImage=r+["letstalk_bear.png","letstalk_boy.png","letstalk_gir.png"][o],t}return t=c,(n=[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.view,o=n.state;r&&!e.view?(this._view=!0,this._trans=!1,this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize()),p.delay((function(){t._swiper&&(t._swiper.slideTo(0,0),t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300)):!r&&e.view&&(this._view=!1,_.App.pub_stop()),(o.confirmBasicProg>=2||o.confirmHardProg>=2||o.confirmSupProg>=2)&&(this._sended=!0)}},{key:"render",value:function(){return l.createElement(l.Fragment,null)}}])&&r(t.prototype,n),a&&r(t,a),c}(l.Component);u([d.observable],h.prototype,"_view",void 0),u([d.observable],h.prototype,"_hint",void 0),u([d.observable],h.prototype,"_trans",void 0),u([d.observable],h.prototype,"_sended",void 0),u([d.action],h.prototype,"_viewAnswer",void 0),h=u([f.observer],h),t.default=h},function(e,t){e.exports=ReactIdSwiper},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(5),f=n(1),d=n(2),_=n(3),m=n(9),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e))._view=!1,t._hint=!1,t._trans=!1,t._sended=!1,t._soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},t._viewTrans=function(){_.App.pub_playBtnTab(),t._trans=!t._trans,t._trans&&(t._trans=!0),t._doSwipe()},t._viewAnswer=function(e){console.log("viewHint"),t.props.onHintClick(),t._hint=!t._hint,t._doSwipe()},t._onClick=function(){t._btnAudio&&t._btnAudio.toggle()};var n="".concat("/content/digenglishCB_lib/D/audio_english/","/teacher/images/"),r=Math.floor(3*Math.random());t._characterImage=n+["letstalk_bear.png","letstalk_boy.png","letstalk_gir.png"][r];var o=e.data[0].directive;return t._jsx_kor_sentence=m._getJSX(o.kor),t._jsx_eng_sentence=m._getJSX(o.eng),t}return t=c,(n=[{key:"_doSwipe",value:function(){var e=this;this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize()),p.delay((function(){e._swiper&&(e._swiper.slideTo(0,0),e._swiper.update(),e._swiper.scrollbar&&e._swiper.scrollbar.updateSize())}),300)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.view,r=t.state;n&&!e.view?(this._view=!0,this._hint=!1,this._trans=!1,this._doSwipe()):!n&&e.view&&(this._view=!1,_.App.pub_stop()),(r.additionalBasicProg>=2||r.additionalHardProg>=2||r.additionalSupProg>=2)&&(this._sended=!0)}},{key:"render",value:function(){return{}}}])&&r(t.prototype,n),a&&r(t,a),c}(l.Component);u([d.observable],h.prototype,"_view",void 0),u([d.observable],h.prototype,"_hint",void 0),u([d.observable],h.prototype,"_trans",void 0),u([d.observable],h.prototype,"_sended",void 0),h=u([f.observer],h),t.default=h},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._toStringTimestamp=t.getDateStr=t.nteArray=t.intToHTMLcolor=t.nteBool=t.nteString=t.nteFloat=t.nteInt=t.nteUInt=t.getUnicUrl=t.getUnicNum=t.getUnic=void 0;var r=n(29);Date.now||(Date.now=function(){return(new Date).getTime()});var o=0;function i(){return a().toString(36)}function a(){var e=Date.now();return e>o?o=e:o+=1,o}t.getUnic=i,t.getUnicNum=a,t.getUnicUrl=function(e){if(!e)return"";var t=e=e.trim();return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")||(t=t.indexOf("?")>0?t+"&t="+i():t+"?t="+i()),t},t.nteUInt=function(e,t){if(r.isNullOrUndefined(e))return t;if(r.isNumber(e))return isNaN(e)||e<0?t:Math.round(e);var n=parseInt(String(e),10);return isNaN(n)||n<0?t:n},t.nteInt=function(e,t){if(r.isNullOrUndefined(e))return t;if(r.isNumber(e))return Math.round(e);var n=parseInt(String(e),10);return isNaN(n)?t:n},t.nteFloat=function(e,t){if(r.isNullOrUndefined(e))return t;if(r.isNumber(e))return e;var n=parseFloat(String(e));return isNaN(n)?t:n},t.nteString=function(e,t){return r.isNullOrUndefined(e)?t:String(e)},t.nteBool=function(e,t){if(r.isNullOrUndefined(e))return t;if(r.isBoolean(e))return e;var n=String(e);return"true"===n||"false"!==n&&t},t.intToHTMLcolor=function(e){var t=e-0,n=(t=(255&t)<<16|65280&t|(16711680&t)>>>16).toString(16);return n="#000000".substring(0,7-n.length)+n},t.nteArray=function(e){if(e){if(Array.isArray(e))return e;if("string"==typeof e){var t=e;if(t.indexOf("[")>=0&&t.indexOf("]")>0)try{return JSON.parse(t)}catch(e){}}var n=[];return n.push(e),n}return[]},t.getDateStr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",t=new Date,n=t.getFullYear(),r=t.getMonth()+1,o=t.getDate(),i=r<10?"0"+r:""+r,a=o<10?"0"+o:""+o;return n+e+i+e+a},t._toStringTimestamp=function(e){var t=e.getFullYear(),n=e.getMonth()+1+"";parseInt(n,10)<10&&(n="0"+n);var r=e.getDate()+"";return parseInt(r,10)<10&&(r="0"+r),t+"-"+n+"-"+r+" "+e.toTimeString().substr(0,8)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SENDPROG=t.useTeacher=t.tContext=t.TeacherConsumer=t.TeacherProvider=t.TeacherContext=void 0;var m,h=n(0),y=n(5),v=n(2),b=n(3),g=n(10),w=n(39),O=n(40);!function(e){e[e.READY=0]="READY",e[e.SENDING=1]="SENDING",e[e.SENDED=2]="SENDED",e[e.COMPLETE=3]="COMPLETE"}(m||(m={})),t.SENDPROG=m;var P=function(e){s(n,e);var t=u(n);function n(){var e;return r(this,n),(e=t.call(this))._returnUsers=[],e._returnUsersForQuiz=[],e._qnaReturns=[],e.state.hasPreview=!1,e.state.confirmBasicProg=0,e.state.confirmSupProg=0,e.state.confirmHardProg=0,e.state.additionalBasicProg=0,e.state.additionalSupProg=0,e.state.additionalHardProg=0,e.state.dictationProg=[0,0,0],e.state.scriptProg=[0,0,0],e.state.qnaProg=0,e.state.resultConfirmSup={arrayOfCorrect:[],c1:[],c2:[],c3:[],uid:[],url:[]},e.state.resultConfirmBasic={arrayOfCorrect:[],c1:[],c2:[],c3:[],uid:[],url:[]},e.state.resultConfirmHard={c1:[],c2:[],c3:[],uid:[],url:[]},e.state.resultAdditionalSup={arrayOfCorrect:[],c0:[],uid:[],url:[]},e.state.resultAdditionalBasic={arrayOfCorrect:[],c0:[],uid:[],url:[]},e.state.resultAdditionalHard={arrayOfCorrect:[],c0:[],uid:[],url:[]},e.state.resultDictation=[{arrayOfCorrect:[],c0:[],uid:[],url:[]},{arrayOfCorrect:[],c0:[],uid:[],url:[]},{arrayOfCorrect:[],c0:[],uid:[],url:[]}],e.actions.init=function(){e.state.scriptProg=[0,0,0],e.state.qnaProg=0,e._returnUsers=[],e.state.confirmBasicProg<3&&(e.state.confirmBasicProg=0,e._returnUsersForQuiz=[])},e.actions.getData=function(){return e._data},e.actions.getResult=function(){return e.state.resultConfirmSup},e.actions.gotoDirection=function(){return e._setViewDiv("direction")},e.actions.gotoNextBook=function(){return g.sendLauncher(9,null)},e.actions.getReturnUsers=function(){return e._returnUsers},e.actions.clearReturnUsers=function(){return e._returnUsers=[]},e.actions.getReturnUsersForQuiz=function(){return e._returnUsersForQuiz},e.actions.clearReturnUsersForQuiz=function(){return e._returnUsersForQuiz=[]},e.actions.getQnaReturns=function(){return e._qnaReturns},e.actions.clearQnaReturns=function(){e._returnUsers=[];for(var t=0;t<e._data.scripts[0].length;t++)e._qnaReturns[t]={num:0,users:[]};e.actions.setRetCnt(0)},e}return i(n,[{key:"_setViewDiv",value:function(e){var t=this.state.viewDiv;t!==e&&"content"!==t&&y.delay(this.actions.init,300),a(p(n.prototype),"_setViewDiv",this).call(this,e)}},{key:"receive",value:function(e){if(a(p(n.prototype),"receive",this).call(this,e),11===e.type&&e.data){var t=e.data;switch(t.msgtype){case"confirm_return":if(2===this.state.confirmSupProg&&0===t.idx){for(var r=t,o=-1,i=0;i<b.App.students.length;i++)if(b.App.students[i].id===r.id){o=i;break}var s=this.state.resultConfirmSup.uid.indexOf(r.id);if(o>=0&&s<0){var c=[this._data.confirm_sup[0].problem1.answer,this._data.confirm_sup[0].problem2.answer,this._data.confirm_sup[0].problem3.answer],u=r.returns,l=this.state.resultConfirmSup;u.answer1===c[0]&&u.answer2===c[1]&&u.answer3===c[2]?l.arrayOfCorrect.push(!0):l.arrayOfCorrect.push(!1),l.c1.push(u.answer1),l.c2.push(u.answer2),l.c3.push(u.answer3),l.uid.push(r.id),l.url.push(r.imgUrl),console.log(r.imgUrl)}}else if(2===this.state.confirmBasicProg&&1===t.idx){for(var f=t,d=-1,_=0;_<b.App.students.length;_++)if(b.App.students[_].id===f.id){d=_;break}var m=this.state.resultConfirmBasic.uid.indexOf(f.id);if(d>=0&&m<0){var h=[this._data.confirm_nomal[0].item1.answer,this._data.confirm_nomal[0].item2.answer,this._data.confirm_nomal[0].item3.answer],y=f.returns,v=this.state.resultConfirmBasic;y.answer1===h[0]&&y.answer2===h[1]&&y.answer3===h[2]?v.arrayOfCorrect.push(!0):v.arrayOfCorrect.push(!1),v.c1.push(y.answer1),v.c2.push(y.answer2),v.c3.push(y.answer3),v.uid.push(f.id),v.url.push(f.imgUrl)}}else if(2===this.state.confirmHardProg&&2===t.idx){for(var w=t,O=-1,P=0;P<b.App.students.length;P++)if(b.App.students[P].id===w.id){O=P;break}var E=this.state.resultConfirmHard.uid.indexOf(w.id);if(O>=0&&E<0){var T=w.returns,S=this.state.resultConfirmHard;S.c1.push(T.answer1),S.c2.push(T.answer2),S.c3.push(T.answer3),S.uid.push(w.id),S.url.push(w.imgUrl)}}break;case"additional_return":if(2===this.state.additionalSupProg&&0===t.idx){for(var k=t,x=-1,R=0;R<b.App.students.length;R++)if(b.App.students[R].id===k.id){x=R;break}var C=this.state.resultAdditionalSup.uid.indexOf(k.id);if(x>=0&&C<0){for(var j=k.returns,N=this.state.resultAdditionalSup,D=!0,A=0;A<this._data.additional_sup.length;A++){N.c0[A]={c1:[],c2:[],c3:[],uid:[],url:[]};var I=[this._data.additional_sup[A].app_drops[0].correct,this._data.additional_sup[A].app_drops[1].correct,this._data.additional_sup[A].app_drops[2].correct];j[A].answer1===I[0]&&j[A].answer2===I[1]&&j[A].answer3===I[2]||(D=!1),console.log("ret",j[A].answer1),console.log("answers",I),N.c0[A].c1.push(j[A].answer1),N.c0[A].c2.push(j[A].answer2),N.c0[A].c3.push(j[A].answer3)}D?N.arrayOfCorrect.push(!0):N.arrayOfCorrect.push(!1),N.uid.push(k.id),N.url.push(k.imgUrl)}}else if(2===this.state.additionalBasicProg&&1===t.idx){for(var B=t,M=-1,L=0;L<b.App.students.length;L++)if(b.App.students[L].id===B.id){M=L;break}var U=this.state.resultAdditionalBasic.uid.indexOf(B.id);if(M>=0&&U<0){for(var F=B.returns,H=this.state.resultAdditionalBasic,q=!0,z=0;z<this._data.additional_basic.length;z++){H.c0[z]={c1:[],c2:[],c3:[],uid:[],url:[]};var Q=[this._data.additional_basic[z].sentence_answer1,this._data.additional_basic[z].sentence_answer2,this._data.additional_basic[z].sentence_answer3];F[z].answer1===Q[0]&&F[z].answer2===Q[1]&&F[z].answer3===Q[2]||(q=!1),console.log("ret",F[z]),console.log("answers",Q),H.c0[z].c1.push(F[z].answer1),H.c0[z].c2.push(F[z].answer2),H.c0[z].c3.push(F[z].answer3)}q?H.arrayOfCorrect.push(!0):H.arrayOfCorrect.push(!1),H.uid.push(B.id),H.url.push(B.imgUrl)}}else if(2===this.state.additionalHardProg&&2===t.idx){for(var V=t,Y=-1,W=0;W<b.App.students.length;W++)if(b.App.students[W].id===V.id){Y=W;break}var X=this.state.resultAdditionalHard.uid.indexOf(V.id);if(Y>=0&&X<0){for(var G=V.returns,J=this.state.resultAdditionalHard,K=!0,$=0;$<this._data.additional_hard.length;$++){J.c0[$]={c1:[],c2:[],c3:[],uid:[],url:[]};var Z=[this._data.additional_hard[$].sentence1.answer1,this._data.additional_hard[$].sentence1.answer2];G[$].answer1===Z[0]&&G[$].answer2===Z[1]||(K=!1),console.log("ret",G[$]),console.log("answers",Z),J.c0[$].c1.push(G[$].answer1),J.c0[$].c2.push(G[$].answer2)}K?J.arrayOfCorrect.push(!0):J.arrayOfCorrect.push(!1),J.uid.push(V.id),J.url.push(V.imgUrl)}}break;case"dictation_return":if(2===this.state.dictationProg[t.idx]){for(var ee=t,te=-1,ne=0;ne<b.App.students.length;ne++)if(b.App.students[ne].id===ee.id){te=ne;break}var re=this.state.resultDictation[t.idx].uid.indexOf(ee.id),oe=[this._data.dictation_sup,this._data.dictation_basic,this._data.dictation_hard];if(te>=0&&re<0){for(var ie=ee.returns,ae=this.state.resultDictation[t.idx],se=!0,ce=0;ce<oe[t.idx].length;ce++){ae.c0[ce]={c1:[],c2:[],c3:[],uid:[],url:[]};var ue=oe[t.idx][ce],le=[ue.sentence1.answer1,ue.sentence2.answer1,ue.sentence3.answer1];ie[ce].answer1===le[0]&&ie[ce].answer2===le[1]&&ie[ce].answer3===le[2]||(se=!1),console.log("ret",ie[ce]),console.log("answers",le),ae.c0[ce].c1.push(ie[ce].answer1),ae.c0[ce].c2.push(ie[ce].answer2),ae.c0[ce].c3.push(ie[ce].answer3)}se?ae.arrayOfCorrect.push(!0):ae.arrayOfCorrect.push(!1),ae.uid.push(ee.id),ae.url.push(ee.imgUrl)}}break;case"qna_return":if(2===this.state.qnaProg){for(var pe=t,fe=-1,de=0;de<b.App.students.length;de++)if(b.App.students[de].id===pe.id){fe=de;break}var _e=this._returnUsers.indexOf(pe.id);if(fe>=0&&_e<0){for(var me=0;me<pe.returns.length;me++){var he=pe.returns[me];if(he<this._qnaReturns.length){var ye=this._qnaReturns[he].users;ye.indexOf(pe.id)<0&&ye.push(pe.id),this._qnaReturns[he].num=ye.length}}this._returnUsers.push(pe.id),g.addStudentForStudentReportType6(pe.id),this.actions.setRetCnt(this._returnUsers.length)}var ve="qna;",be=this._data.scripts[t.idx];pe.returns.length>0&&pe.returns.forEach((function(e,t){var n=be[e];n&&(ve+="qna;"===ve?n.seq+"|"+n.dms_eng:""+n.seq+"|"+n.dms_eng)}))}}}}},{key:"setData",value:function(e){return _(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i,a,s,c,u,l,p,f,d,_,m,h,y=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=function(e,t,n){for(var r=0;r<n.length;r++)e.includes(n[r].textValue)||(e.push(n[r].textValue),t.push({sum:0,cnt:0,avg:0,txt:""}));for(var o=function(r){var o=n[r].textValue,i=n[r].avgPercent,a=e.findIndex((function(e){return e===o}));t[a].sum+=i,t[a].cnt+=1,t[a].avg=Math.round(t[a].sum/t[a].cnt),t[a].txt=o},i=0;i<n.length;i++)o(i)},this._data=w.initData(e),this.state.hasPreview=!0,n=[this._data.dictation_sup,this._data.dictation_basic,this._data.dictation_hard],r=0;r<this._data.additional_sup.length;r++)this.state.resultAdditionalSup.c0[r]={c1:[],c2:[],c3:[],uid:[],url:[]};for(o=0;o<this._data.additional_basic.length;o++)this.state.resultAdditionalBasic.c0[o]={c1:[],c2:[],c3:[],uid:[],url:[]};for(i=0;i<this._data.additional_hard.length;i++)this.state.resultAdditionalHard.c0[i]={c1:[],c2:[],c3:[],uid:[],url:[]};if(n.map((function(e,t){for(var n=0;n<e.length;n++)y.state.resultDictation[t].c0[n]={c1:[],c2:[],c3:[],uid:[],url:[]}})),s=this._data.scripts,c=this._data.role_play.speakerA.name,u=this._data.role_play.speakerB.name,l=this._data.role_play.speakerC.name,this._data.role_play.speakerD||(this._data.role_play.speakerD={name:"",image_s:"",image_l:""}),this._data.role_play.speakerE||(this._data.role_play.speakerE={name:"",image_s:"",image_l:""}),p=this._data.role_play.speakerD.name,this._data.role_play.speakerE.name,f=[],s.map((function(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.speaker===c?r.roll="A":r.speaker===u?r.roll="B":r.speaker===l?r.roll="C":r.speaker===p?r.roll="D":r.roll="E",y._qnaReturns[n]={num:0,users:[]}}})),console.log("preview Msg~~~",f.length,f),0,m=[],h=[],b.App.isDvlp||"ko"!==b.App.lang){t.next=28;break}return t.next=25,g.getPreviewResultClass(f);case 25:d=t.sent,d.length>0&&(_=d.filter((function(e,t){return 6===e.mttSeq})),a(m,h,_),console.log("text_arr",m,"val_arr",h));case 28:case"end":return t.stop()}}),t,this)})))}}]),n}(O.TeacherContextBase);d([v.observable],P.prototype,"state",void 0),d([v.action],P.prototype,"_setViewDiv",null),t.TeacherContext=P;var E=new P;t.tContext=E;var T=h.createContext(E),S=T.Provider,k=T.Consumer;t.TeacherConsumer=k;var x=function(e){s(n,e);var t=u(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"render",value:function(){return h.createElement(S,{value:E},this.props.children)}}]),n}(h.Component);t.TeacherProvider=x,t.useTeacher=function(e){return function(t){return h.createElement(k,null,(function(t){return h.createElement(e,Object.assign({},t))}))}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(2),f=n(1),d=n(22),_=n(19),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).m_btnH=0,t.m_max=0,t.m_sy=-1,t.m_vy=-1,t.m_time=-1,t.m_bSend=!1,t.m_state={y:0,alpha:1,tDur:0,aDur:0,isOn:!1,disabled:!1},t._ref=function(e){if(!(t.m_max>0)&&e){e.setAttribute("touch-action","none");var n=window.getComputedStyle(e),r=_.nteFloat(n.height,0),o=_.nteFloat(n.bottom,0);r>0&&(t.m_btnH=r,t.m_max=r+o+10,t.props.view||(t.m_state.y=t.m_max))}},t._down=function(e){t.m_state.isOn||t.m_state.disabled||(t.m_state.y=t.props.originY,t.m_state.alpha=1,t.m_state.tDur=0,t.m_state.aDur=0,t.m_state.isOn=!0,t.m_vy=0,t.m_time=Date.now())},t._start=function(e,n){t.m_sy=n.y,t.m_bSend=!0},t._drag=function(e,n){if(t.m_state.isOn&&!t.m_state.disabled){var r=n.y-t.m_sy;"teacher"===t.props.type?(n.deltaY<-1?t.m_bSend=!1:n.deltaY>=0&&(t.m_bSend=!0),r<0&&(r=0)):(n.deltaY>1?t.m_bSend=!1:n.deltaY<=0&&(t.m_bSend=!0),r>0&&(r=0)),!1===t.props.preventDrag&&(t.m_state.y=r+t.props.originY);var o=Date.now();t.m_vy=n.deltaY/(o-t.m_time),t.m_time=o}},t._stop=function(e,n){if(t.m_state.isOn&&!t.m_state.disabled)if(t.m_bSend){var r=.5*t.m_vy*1e3,o=n.y-t.m_sy;"teacher"===t.props.type?(r<t.m_btnH?r=t.m_btnH:r>4*t.m_btnH&&(r=4*t.m_btnH),o<0&&(o=0)):(-1*r<t.m_btnH?r=-t.m_btnH:-1*r>4*t.m_btnH&&(r=-4*t.m_btnH),o>0&&(o=0)),t.m_state.tDur=.5,t.m_state.aDur=.5,t.m_state.alpha=0,t.m_state.y=o+r+t.props.originY,t.props.onSend()}else t.m_state.isOn=!1,t.m_state.tDur=.3,t.m_state.aDur=0,t.m_state.y=t.props.originY},e.sended?(t.m_state.alpha=0,t.m_state.disabled=!0):e.view?(t.m_state.y=e.originY,t.m_state.alpha=1,t.m_state.tDur=.3,t.m_state.aDur=0,t.m_state.isOn=!1,t.m_state.disabled=!1):e.view||(t.m_state.y=e.originY,t.m_state.alpha=0,t.m_state.tDur=.3,t.m_state.aDur=.3,t.m_state.isOn=!1,t.m_state.disabled=!0),t}return t=c,(n=[{key:"componentWillReceiveProps",value:function(e){e.sended&&!this.props.sended?(this.m_state.alpha=0,this.m_state.disabled=!0):e.view&&!this.props.view?(this.m_state.y=e.originY,this.m_state.alpha=1,e.preventUpWhenView?(this.m_state.tDur=0,this.m_state.aDur=.3):(this.m_state.tDur=.3,this.m_state.aDur=0),this.m_state.isOn=!1,this.m_state.disabled=!1):!e.view&&this.props.view?(this.m_state.y=this.m_max,this.m_state.alpha=0,this.m_state.tDur=.3,this.m_state.aDur=.3,this.m_state.isOn=!1,this.m_state.disabled=!0):!e.view||e.sended||this.m_state.isOn||e.originY===this.props.originY||(this.m_state.y=e.originY,this.m_state.tDur=.3,this.m_state.aDur=0)}},{key:"render",value:function(){var e=this.m_state,t=e.y,n=e.tDur,r=e.aDur,o=e.alpha,i=e.isOn,a=e.disabled,s={transform:"translateY(".concat(t,"px)"),transition:"transform ".concat(n,"s, opacity ").concat(r/2,"s ").concat(r/2,"s"),opacity:o,pointerEvents:a||!this.props.view?"none":"auto"},c=[];return"pad"===this.props.type?c.push("fel_toteacher"):c.push("fel_topad"),i&&c.push("on"),l.createElement(d.DraggableCore,{onMouseDown:this._down,onDrag:this._drag,onStart:this._start,onStop:this._stop},l.createElement("button",{ref:this._ref,className:c.join(" "),style:s}))}}])&&r(t.prototype,n),a&&r(t,a),c}(l.Component);u([p.observable],m.prototype,"m_state",void 0),m=u([f.observer],m),t.default=m},function(e,t){e.exports=ReactDraggable},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&c()}function s(){i(a)}function c(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},p=y(0,0,0,0);function f(e){return parseFloat(e)||0}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function _(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=l(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=f(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=f(r.width),c=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=d(r,"left","right")+i),Math.round(c+a)!==n&&(c-=d(r,"top","bottom")+a)),!function(e){return e===l(e).document.documentElement}(e)){var u=Math.round(s+i)-t,_=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(_)&&(c-=_)}return y(o.left,o.top,s,c)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function h(e){return r?m(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):_(e):p}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var v=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=h(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,o,i,a,s,c,l=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),u(c,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),c);u(this,{target:e,contentRect:l})},g=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new v(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!=typeof WeakMap?new WeakMap:new n,O=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new g(t,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}}));var P=void 0!==o.ResizeObserver?o.ResizeObserver:O;t.a=P}).call(this,n(13))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(13))},function(e,t,n){e.exports=n(26)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o=n(0),i=n(18),a=n(3),s=n(10),c=n(33);r.setConfig({ErrorOverlay:function(e){return o.createElement("div",null)}});var u,l={clear:a.App.pub_clear,importLink:c.importLink,importHTML:c.importHTML};u=n(34);var p=!1,f=u,d=f.default,_=f.AppProvider,m=f.appContext;l.set=function(e,t,n){a.App.pub_set(e,t,n),m.setData(e)},l.render=function(){a.App.pub_initAudio(),i.render(o.createElement(_,null,o.createElement(d,null)),document.getElementById("wrap"))},l.init=function(e,t,n,r,o){a.App.pub_load(e,null,t,n,r,o)},l.start=function(){p=!0,setTimeout((function(){return m.start()}),500)},l.receive=function(e){if(4===e.type){var t=e.data;p?t&&t.id&&""!==t.id&&s.sendPADToID(t.id,a.App.isStarted?0:1,null):a.App.pub_addInitedStudent(t)&&(p||(p=!0,m.start()))}else m.receive(e)},l.teachingTool=function(e){},n(67),e.app_o=l}).call(this,n(13))},function(e,t,n){"use strict";e.exports=n(28)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r;function i(e){return i.warnAboutHMRDisabled&&(i.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),o.Children.only(e.children)}i.warnAboutHMRDisabled=!1;var a=function e(){return e.shouldWrapWithAppContainer?function(e){return function(t){return o.createElement(i,null,o.createElement(e,t))}}:function(e){return e}};a.shouldWrapWithAppContainer=!1;t.AppContainer=i,t.hot=a,t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e},t.configureComponent=function(){}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<i;c=r[++n])m(c)||!g(c)?a+=" "+c:a+=" "+s(c);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),_(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,e,r.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&P(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return y(o)||(o=l(e,o,r)),o}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(h(t))return e.stylize(""+t,"number");if(_(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(P(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return p(n)}var u,g="",E=!1,T=["{","}"];(d(n)&&(E=!0,T=["[","]"]),P(n))&&(g=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(g=" "+RegExp.prototype.toString.call(n)),w(n)&&(g=" "+Date.prototype.toUTCString.call(n)),O(n)&&(g=" "+p(n)),0!==a.length||E&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=E?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)x(t,String(a))?i.push(f(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(f(e,t,n,r,o,!0))})),i}(e,n,r,s,a):a.map((function(t){return f(e,n,r,s,t,E)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,g,T)):T[0]+g+T[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),x(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function _(e){return"boolean"==typeof e}function m(e){return null===e}function h(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return g(e)&&"[object RegExp]"===E(e)}function g(e){return"object"==typeof e&&null!==e}function w(e){return g(e)&&"[object Date]"===E(e)}function O(e){return g(e)&&("[object Error]"===E(e)||e instanceof Error)}function P(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(v(i)&&(i=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=_,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=h,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=g,t.isDate=w,t.isError=O,t.isFunction=P,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(31);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=n(32),t._extend=function(e,t){if(!t||!g(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t;if("function"!=typeof(t=e[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=R,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(C,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(30))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new _(e,t)),1!==u.length||l||s(d)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importLink=t.importHTML=void 0,t.importHTML=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="document",r.onload=function(e){if(e){var o=r.response;o&&o.body&&o.body.firstElementChild?t(o.body.firstElementChild):o&&o.documentElement?t(o.documentElement):n("error")}},r.onerror=function(e){n(e)},r.send(null)}))},t.importLink=function(e,t){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="document",r.onload=function(e){if(e){var n=r.response;t(n)}},r.onerror=function(e){n(e)},r.send(null)}))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.appContext=t.AppProvider=void 0;var p=n(0),f=n(35),d=n(1);n(36),n(37);var _=n(38),m=n(20),h=n(20);Object.defineProperty(t,"AppProvider",{enumerable:!0,get:function(){return h.TeacherProvider}}),Object.defineProperty(t,"appContext",{enumerable:!0,get:function(){return h.tContext}});var y=n(41),v=n(3),b=n(43),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,s,c=a(u);function u(){return r(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props.state,t=e.viewDiv,n=e.navi,r=e.directionON,o=this.props.actions,i=o.naviLeft,a=o.naviRight,s=o.onDirectionEndStart,c=o.onDirectionEnded;return p.createElement(p.Fragment,null,p.createElement("div",{id:"preload_hidden",style:{opacity:0}},p.createElement("span",null,"s"),p.createElement("span",{style:{fontWeight:"bold"}},""),p.createElement("span",{className:"set"})," ",p.createElement("span",{className:"unlimit"})," ",p.createElement("span",{className:"start"}),p.createElement("span",{className:"time1"}),p.createElement("span",{className:"time2"})," ",p.createElement("span",{className:"time3"})),p.createElement("div",{className:"content-container"},p.createElement("div",{className:"content-wrapper",style:{left:("direction"===t?0:-1280)+"px"}},p.createElement("div",null,p.createElement(y.default,{className:"video-direction",view:"direction"===t,on:r,isTeacher:!0,video_url:"",video_frame:125,onEndStart:s,onEnd:c},p.createElement("div",{className:"lesson"},v.App.lesson))),p.createElement("div",null,p.createElement(b.default,{view:"content"===t,state:this.props.state,actions:this.props.actions})))),p.createElement(_.Navi,Object.assign({},n,{onLeftClick:i,onRightClick:a})))}}])&&o(t.prototype,n),s&&o(t,s),u}(p.Component);g=l([d.observer],g);var w=m.useTeacher((function(e){return p.createElement(d.Observer,null,(function(){return p.createElement(g,{state:e.state,actions:e.actions})}))}));t.default=f.hot(w)},function(e,t,n){t.hot=function(e){return e}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Navi=void 0;var l=n(0),p=n(2),f=n(1),d=n(4),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).m_on=!1,t.m_isStarted=!1,t._onClick=function(e){t.m_on=!0},t}return t=c,(n=[{key:"componentDidUpdate",value:function(e){this.m_isStarted||!this.props.view||e.view||(this.m_isStarted=!0,this.m_on=!0)}},{key:"render",value:function(){var e=this.m_on?void 0:"off",t={visibility:this.props.view?"visible":"hidden"};return l.createElement(l.Fragment,null,l.createElement("div",{id:"common_navi_left",className:e,style:t},l.createElement("div",null,l.createElement("div",{onClick:this._onClick},l.createElement(d.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),l.createElement(d.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))),l.createElement("div",{id:"common_navi_right",className:e,style:t},l.createElement("div",null,l.createElement("div",{onClick:this._onClick},l.createElement(d.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),l.createElement(d.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))))}}])&&r(t.prototype,n),a&&r(t,a),c}(l.Component);u([p.observable],_.prototype,"m_on",void 0),_=u([f.observer],_),t.Navi=_},function(e,t,n){"use strict";function r(e,t,n,r,o){if(!(!e||e<=0||e>4)){var i={answer:e,correct:"",choices:[],inputed:""};return 1===e?i.correct=t:2===e?i.correct=n:3===e?i.correct=r:4===e&&(i.correct=o),i.correct&&""!==i.correct?t&&""!==t?(i.choices[0]=t,n&&""!==n?(i.choices[1]=n,r&&""!==r?(i.choices[2]=r,o&&""!==o&&(i.choices[3]=o),i):i):null):null:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.drawBalloon=t.initData=void 0,t.initData=function(e){var t=-1,n=[];e.scripts=[];for(var o=0;o<e.script.length;o++){var i=e.script[o];i.script_group!==t&&(-1!==t&&e.scripts.push(n),t=i.script_group,n=[]),n.push(i)}e.scripts.push(n);for(var a=0;a<e.additional_sup.length;a++){var s=e.additional_sup[a];s.app_drops=[];var c=r(s.sentence1.answer,s.sentence1.choice1,s.sentence1.choice2,s.sentence1.choice3,s.sentence1.choice4);c&&(s.app_drops[0]=c,(c=r(s.sentence2.answer,s.sentence2.choice1,s.sentence2.choice2,s.sentence2.choice3,s.sentence2.choice4))&&(s.app_drops[1]=c,(c=r(s.sentence3.answer,s.sentence3.choice1,s.sentence3.choice2,s.sentence3.choice3,s.sentence3.choice4))&&(s.app_drops[2]=c,(c=r(s.sentence4.answer,s.sentence4.choice1,s.sentence4.choice2,s.sentence4.choice3,s.sentence4.choice4))&&(s.app_drops[3]=c))))}return e};i(206,116,225,1);var o=i(34,205,172,1);i(255,186,0,1),i(116,113,236,1);function i(e,t,n,r){return{r:e,g:t,b:n,a:r}}function a(e){var t=e.r,n=e.g,r=e.b,o=e.a;return"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")}t.drawBalloon=function(e,t,n,r,s,c,u,l,p,f,d,_){var m;m=c<t?1.5*(t-c):1.5*(c-(t+r)),p||(p=0),f||(f=5),d||(d=2),_||(_=i(0,0,0,.2));var h,y=(p>0||p<0||f>0||f<0||d>0)&&_.a>0;(h=o).a=1,e.lineCap="butt",e.lineJoin="miter",e.strokeStyle="transparent",e.fillStyle=a(h);var v=e.createLinearGradient(0,0,0,s);v.addColorStop(0,"rgba(255, 255, 255, 1)"),v.addColorStop(1,"rgba(255, 255, 255, 0)");var b=e.createLinearGradient(0,0,0,s);h.a=.4,b.addColorStop(0,a(h)),h.a=1,b.addColorStop(1,a(h)),e.beginPath(),e.moveTo(t+r,n+s-l),l>0&&e.arc(t+r-l,n+s-l,l,0,Math.PI/2),e.lineTo(t+l,n+s),l>0&&e.arc(t+l,n+s-l,l,Math.PI/2,Math.PI),c<t&&(e.lineTo(t,u+m/2),e.lineTo(c,u),e.lineTo(t,u-m/2)),e.lineTo(t,n+l),l>0&&e.arc(t+l,n+l,l,Math.PI,3*Math.PI/2),e.lineTo(t+r-l,n),l>0&&e.arc(t+r-l,n+l,l,3*Math.PI/2,2*Math.PI),c>t&&(e.lineTo(t+r,u-m/2),e.lineTo(c,u),e.lineTo(t+r,u+m/2),e.closePath()),e.closePath(),y?(e.shadowColor=a(_),e.shadowBlur=d,e.shadowOffsetX=p,e.shadowOffsetY=f,e.fill(),e.globalCompositeOperation="destination-out",e.shadowColor="rgba(0, 0, 0, 0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.fill(),e.globalCompositeOperation="source-over",e.fillStyle=v,e.fill(),e.fillStyle=b,e.fill()):(e.globalCompositeOperation="source-over",e.fillStyle=v,e.fill(),e.fillStyle=b,e.fill()),e.globalCompositeOperation="source-over"}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":o(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TeacherContextBase=void 0;var a=n(2),s=n(3),c=n(10),u=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._naviLeftFnc=null,this._naviRightFnc=null,this.state={viewDiv:"direction",directionON:!1,navi:{view:!1,enableLeft:!1,enableRight:!1},svg_bg:{view:!0,bPlay:!1,viewCharactor:!0},retCnt:0,numOfStudent:0},this.actions={onDirectionEndStart:function(){"direction"===t.state.viewDiv&&c.sendPAD(3,null)},onDirectionEnded:function(){"direction"===t.state.viewDiv&&t._setViewDiv("content"),s.App.isStarted=!0},setNaviView:function(e){t.state.navi.view=e},setNavi:function(e,n){t.state.navi.enableLeft=e,t.state.navi.enableRight=n},setNaviFnc:function(e,n){t._naviLeftFnc=e,t._naviRightFnc=n},naviLeft:function(){"direction"===t.state.viewDiv?c.sendLauncher(8,null):(s.App.pub_playBtnPage(),t._naviLeftFnc?t._naviLeftFnc():t._setViewDiv("direction"))},naviRight:function(){"direction"===t.state.viewDiv?(s.App.pub_playBtnPage(),t.state.directionON=!1):(s.App.pub_playBtnPage(),t._naviRightFnc?t._naviRightFnc():c.sendLauncher(9,null))},setRetCnt:function(e){e>t.state.numOfStudent&&(e=t.state.numOfStudent),t.state.retCnt=e},setNumOfStudent:function(e){t.state.numOfStudent=e}}}var t,n,o;return t=e,(n=[{key:"_setViewDiv",value:function(e){this.state.viewDiv!==e&&(s.App.pub_stop(),"direction"===e?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0,c.sendLauncher(5,null),c.sendPAD(1,null),this.state.navi.view=!0,this.state.navi.enableLeft=s.App.prevBook,this.state.navi.enableRight=!0,this._naviLeftFnc=null,this._naviRightFnc=null):(this.state.directionON=!1,this.state.svg_bg.bPlay=!1,this.state.svg_bg.viewCharactor=!1,c.sendLauncher(6,null),c.sendPAD(0,null)),this._naviLeftFnc=null,this._naviRightFnc=null,this.state.numOfStudent=0,this.state.retCnt=0,this.state.viewDiv=e)}},{key:"start",value:function(){"direction"===this.state.viewDiv&&(this.state.directionON=!0,this.state.navi.view=!0,this.state.navi.enableLeft=s.App.prevBook,this.state.navi.enableRight=!0,this.state.svg_bg.bPlay=!0,c.sendLauncher(5,null),c.sendPAD(1,null))}},{key:"receive",value:function(e){}},{key:"uploaded",value:function(e){}},{key:"notify",value:function(e){}},{key:"notifyRecorded",value:function(e){}},{key:"notifyVideoRecord",value:function(e){}}])&&r(t.prototype,n),o&&r(t,o),e}();i([a.observable],u.prototype,"state",void 0),i([a.action],u.prototype,"_setViewDiv",null),i([a.action],u.prototype,"start",null),t.TeacherContextBase=u},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var f=n(0),d=n(2),_=n(1),m=n(5),h=n(14),y=n(42),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,n,a,c=i(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).m_on=!1,t.m_clipView=!1,t.m_imgDiv=null,t._refImg=function(e){e&&void 0!==t.props.video_url&&""!==t.props.video_url&&(t.m_imgDiv=e,t.m_clipView||m.delay((function(){t.m_imgDiv&&(t.m_clipView=!0)}),1250))},t._onClick=function(){t.props.isTeacher&&t._off()},t._off=function(){return p(s(t),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.view||!this.m_on){e.next=6;break}return this.m_on=!1,this.props.onEndStart&&this.props.onEndStart(),e.next=5,h.wait(500);case 5:this.props.view&&!this.m_on&&this.props.onEnd&&this.props.onEnd();case 6:case"end":return e.stop()}}),e,this)})))},t.m_on=e.view&&e.on,t}return t=u,(n=[{key:"_on",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.m_on=!0;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"componentDidUpdate",value:function(e){this.props.view?e.view?this.props.on&&!e.on?this._on():!this.props.on&&e.on&&this._off():this.props.on?this._on():this.m_on=!1:this.m_on=!1}},{key:"render",value:function(){var e=[];return e.push(this.props.className),this.props.view?this.m_on&&e.push("on"):e.push("hide"),f.createElement("div",{className:e.join(" "),onClick:this._onClick},this.props.children,f.createElement("img",{className:"movieclip",src:this.props.video_url,ref:this._refImg,style:this.m_clipView?void 0:y.HIDE}),f.createElement("div",{className:"direction"}))}}])&&r(t.prototype,n),a&&r(t,a),u}(f.Component);l([d.observable],v.prototype,"m_on",void 0),l([d.observable],v.prototype,"m_clipView",void 0),l([d.action],v.prototype,"_off",void 0),v=l([_.observer],v),t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HIDE_ANI=t.NONE=t.HIDE=void 0;t.HIDE={opacity:0,pointerEvents:"none"};t.HIDE_ANI={opacity:0,pointerEvents:"none",transitionProperty:"opacity",transitionDuration:"0.6s"};t.NONE={display:"none"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),_=n(1),m=n(2),h=n(7),y=n(4),v=n(3),b=n(10),g=n(21),w=n(12),O=n(44),P=n(45),E=n(46),T=n(53),S=n(59),k=n(60),x=n(61);function R(e){return 2===e.confirmBasicProg||2===e.confirmSupProg||2===e.confirmHardProg||2===e.additionalBasicProg||2===e.additionalSupProg||2===e.additionalHardProg||-1!==e.dictationProg.indexOf(2)||e.qnaProg>=1}var C=function(e){a(n,e);var t=c(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments))._click=function(){e.props.onClick(e.props.idx)},e}return i(n,[{key:"render",value:function(){var e=this.props,t=e.idx,r=e.on,o=e.tab;return d.createElement("span",{className:r?"on":"",onClick:this._click},["CONFIRM","ADDITIONAL","DICTATION"].includes(o)?n.SUB_TAB_MENU[t]:t+1)}}]),n}(d.Component);C.SUB_TAB_MENU=["","",""];var j=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this,e)).m_player=new h.MPlayer(new h.MConfig(!0)),o.m_player_inittime=0,o.c_popup="off",o._tab="INTRODUCTION",o._tab_save="INTRODUCTION",o._hint=!1,o._view=!1,o._curQidx=0,o._viewClue=!1,o._viewTrans=!1,o._viewScript=!1,o._letstalk=!1,o._popTrans=!1,o._viewResult=!1,o._viewQuiz=!0,o._viewpop=!1,o._roll="",o._shadowing=!1,o._focusIdx=-1,o._isShadowPlay=!1,o._qselected=[],o._onClosepop=function(e){var t=o.props,n=t.actions,r=t.state;v.App.pub_playBtnTab(),v.App.pub_reloadStudents((function(){if(null===e)return o._viewpop=!1,r.confirmHardProg=0,void console.log("null");var t;n.clearReturnUsers(),n.setRetCnt(0),n.setNumOfStudent(v.App.students.length),r.confirmHardProg=1,1===r.confirmHardProg&&(r.confirmHardProg=2,t={msgtype:"confirm_send",idx:2,hint:e},b.sendPAD(10,t),o._viewpop=!1,o._setNavi())}))},o.onSend=function(){var e=o.props,t=e.actions,n=e.state;switch(o._tab){case"INTRODUCTION":return;case"CONFIRM":if(0===o._curQidx&&0!==n.confirmSupProg||1===o._curQidx&&0!==n.confirmBasicProg||2===o._curQidx&&0!==n.confirmHardProg)return;if(0===o._curQidx)n.confirmSupProg=1;else if(1===o._curQidx)n.confirmBasicProg=1;else if(2===o._curQidx)return n.confirmHardProg=2,void(o._viewpop=!0);break;case"ADDITIONAL":if(0===o._curQidx&&0!==n.additionalSupProg||1===o._curQidx&&0!==n.additionalBasicProg||2===o._curQidx&&0!==n.additionalHardProg)return;0===o._curQidx?n.additionalSupProg=1:1===o._curQidx?n.additionalBasicProg=1:2===o._curQidx&&(n.additionalHardProg=1);break;case"DICTATION":for(var r=0;r<3;r++)if(o._curQidx===r&&0!==n.dictationProg[r])return;n.dictationProg[o._curQidx]=1;break;case"SCRIPT":if(0!==n.scriptProg[o._curQidx])return;n.scriptProg[o._curQidx]=1;break;default:return}v.App.pub_playToPad(),v.App.pub_reloadStudents((function(){var e;if(t.clearReturnUsers(),t.setRetCnt(0),t.setNumOfStudent(v.App.students.length),"CONFIRM"===o._tab)switch(o._curQidx){case 0:if(1!==n.confirmSupProg)return;console.log("onsend"),n.confirmSupProg=2,e={msgtype:"confirm_send",idx:0};break;case 1:if(1!==n.confirmBasicProg)return;n.confirmBasicProg=2,e={msgtype:"confirm_send",idx:1};break;case 2:default:return}else if("ADDITIONAL"===o._tab)switch(o._curQidx){case 0:if(1!==n.additionalSupProg)return;n.additionalSupProg=2,e={msgtype:"additional_send",idx:0};break;case 1:if(1!==n.additionalBasicProg)return;n.additionalBasicProg=2,e={msgtype:"additional_send",idx:1};break;case 2:if(1!==n.additionalHardProg)return;n.additionalHardProg=2,e={msgtype:"additional_send",idx:2};break;default:return}else if("DICTATION"===o._tab){if(1!==n.dictationProg[o._curQidx])return;n.dictationProg[o._curQidx]=2,e={msgtype:"dictation_send",idx:o._curQidx}}else{if(1!==n.scriptProg[o._curQidx])return;n.scriptProg[o._curQidx]=2,e={msgtype:"script_send",idx:o._curQidx}}b.sendPAD(10,e),o._setNavi()}))},o._clickConfirmAnswer=function(){var e,t=o.props,n=t.state,r=t.actions;if(("CONFIRM"!==o._tab||!(0===o._curQidx&&2!==n.confirmSupProg||1===o._curQidx&&2!==n.confirmBasicProg||2===o._curQidx&&2!==n.confirmHardProg))&&(v.App.pub_playBtnTab(),"CONFIRM"===o._tab)){switch(o._curQidx){case 0:if(2!==n.confirmSupProg)return;n.confirmSupProg=3,e={msgtype:"confirm_end",idx:0};break;case 1:if(2!==n.confirmBasicProg)return;n.confirmBasicProg=3,e={msgtype:"confirm_end",idx:1};break;case 2:if(2!==n.confirmHardProg)return;n.confirmHardProg=3,e={msgtype:"confirm_end",idx:2};break;default:return}b.sendPAD(10,e),r.setNavi(!0,!0)}},o._clickAdditionalAnswer=function(){var e,t=o.props,n=t.state,r=t.actions;if(v.App.pub_playBtnTab(),"ADDITIONAL"===o._tab){switch(o._curQidx){case 0:if(2!==n.additionalSupProg)return;n.additionalSupProg=3,e={msgtype:"additional_end",idx:0};break;case 1:if(2!==n.additionalBasicProg)return;n.additionalBasicProg=3,e={msgtype:"additional_end",idx:1};break;case 2:if(2!==n.additionalHardProg)return;n.additionalHardProg=3,e={msgtype:"additional_end",idx:2};break;default:return}b.sendPAD(10,e),r.setNavi(!0,!0)}},o._clickDictationAnswer=function(){var e,t=o.props,n=t.state,r=t.actions;if(v.App.pub_playBtnTab(),"DICTATION"===o._tab){if(2!==n.dictationProg[o._curQidx])return;n.dictationProg[o._curQidx]=3,e={msgtype:"dictation_end",idx:o._curQidx},b.sendPAD(10,e),r.setNavi(!0,!0)}},o._goToIntro=function(){alert("go to Intro page"),o.props.actions.gotoDirection()},o._onPage=function(e){var t=o.props,n=t.actions,r=t.state;R(r)||(null!=r.scriptProg.find((function(e){return e>0}))&&(r.scriptProg=[0,0,0],n.clearQnaReturns()),v.App.pub_stop(),v.App.pub_playBtnTab(),b.sendPAD(0,null),o._curQidx=e,n.setNavi("INTRODUCTION"!==o._tab||0!==o._curQidx,!0),o._hint="SCRIPT"===o._tab)},o._clickIntroduction=function(e){var t=o.props,n=t.actions,r=t.state;"INTRODUCTION"!==o._tab&&(R(r)||(null!=r.scriptProg.find((function(e){return e>0}))&&(r.scriptProg=[0,0,0],n.clearQnaReturns()),v.App.pub_stop(),v.App.pub_playBtnTab(),o._curQidx=0,o._hint=!1,o._tab="INTRODUCTION",b.sendPAD(0,null),n.clearQnaReturns(),0===o._curQidx&&n.setNavi(!1,!0)))},o._clickConfirm=function(e){var t=o.props,n=t.actions,r=t.state;"CONFIRM"!==o._tab&&(R(r)||(null!=r.scriptProg.find((function(e){return e>0}))&&(r.scriptProg=[0,0,0],n.clearQnaReturns()),v.App.pub_stop(),v.App.pub_playBtnTab(),b.sendPAD(0,null),o._curQidx=0,o._hint=!1,o._tab="CONFIRM",n.setNavi(!0,!0)))},o._clickAdditional=function(e){var t=o.props,n=t.actions,r=t.state;"ADDITIONAL"!==o._tab&&(R(r)||(null!=r.scriptProg.find((function(e){return e>0}))&&(r.scriptProg=[0,0,0],n.clearQnaReturns()),v.App.pub_stop(),v.App.pub_playBtnTab(),b.sendPAD(0,null),o._curQidx=0,o._hint=!1,o._tab="ADDITIONAL",n.setNavi(!0,!0)))},o._clickDictation=function(e){var t=o.props,n=t.actions,r=t.state;"DICTATION"!==o._tab&&(R(r)||(null!=r.scriptProg.find((function(e){return e>0}))&&(r.scriptProg=[0,0,0],n.clearQnaReturns()),v.App.pub_stop(),v.App.pub_playBtnTab(),b.sendPAD(0,null),o._curQidx=0,o._hint=!1,o._tab="DICTATION",n.setNavi(!0,!0)))},o._clickScript=function(e){var t=o.props,n=t.actions,r=t.state;"SCRIPT"!==o._tab&&(R(r)||(v.App.pub_stop(),v.App.pub_playBtnTab(),b.sendPAD(0,null),o._curQidx=0,o._hint=!1,o._tab="SCRIPT",n.setNavi(!0,!0)))},o._clickPerson=function(e){var t=o.props.actions.getResult();v.App.pub_playBtnTab(),t[o._curQidx]&&(1===e?b.startStudentReportProcess(6,t[o._curQidx].u1):2===e&&b.startStudentReportProcess(6,t[o._curQidx].u2))},o._onPopTrans=function(){v.App.pub_playBtnTab(),o._popTrans=!0,o.props.actions.setNaviView(!1)},o._PopTransClosed=function(){o._popTrans=!1,o.props.actions.setNaviView(!0)},o._letstalkClosed=function(){o._letstalk=!1,o.props.actions.setNaviView(!0)},o.showResult=function(){v.App.pub_playBtnTab(),o._viewResult=!0,o.props.actions.setNaviView(!1)},o._closeResult=function(){o._viewResult=!1,o.props.actions.setNaviView(!0)},o._TabSequence=["INTRODUCTION","CONFIRM","ADDITIONAL","DICTATION","SCRIPT"],o.m_data=e.actions.getData(),o.m_player_inittime=0,o.m_player.addOnPlayEnd((function(){o._focusIdx=-1,o.m_player.setMutedTemp(!1),o._sendDialogueEnd(),""!==o._roll||o._shadowing?o._shadowing&&(o._isShadowPlay=!1):o.props.actions.setNavi(!0,!0)})),o.m_player.addOnState((function(e,t){var n={msgtype:o._shadowing?o._isShadowPlay?"playing":"paused":6!==e&&o.m_player.bPlay?"playing":"paused"};b.sendPAD(10,n)})),o}return i(n,[{key:"componentDidMount",value:function(){this.m_data=this.props.actions.getData()}},{key:"_clearAll",value:function(){var e=this.props.actions;v.App.pub_stop(),this._tab="INTRODUCTION";for(var t=this.m_data.introduction,n=0;n<t.length;n++)this._qselected[n]=-1;for(var r=this.m_data.introduction,o=0;o<r.length;o++)this._qselected[o]=-1;this._curQidx=0,this._hint=!1,this.c_popup="off",this._viewClue=!1,this._viewTrans=!1,this._viewScript=!1,this._roll="",this._isShadowPlay=!1,this._shadowing=!1,this._focusIdx=-1,e.setNavi(!0,!0),e.init(),b.sendPAD(0,null)}},{key:"_sendDialogueEnd",value:function(){b.sendPAD(10,{msgtype:"script_end"})}},{key:"_setNavi",value:function(){var e=this,t=this.props,n=t.state,r=t.actions;r.setNaviView(!0),0===this._curQidx&&"INTRODUCTION"===this._tab?r.setNavi(!1,!0):2===n.confirmBasicProg||2===n.confirmSupProg||2===n.confirmHardProg||2===n.additionalBasicProg||2===n.additionalSupProg||2===n.additionalHardProg||-1!==n.dictationProg.indexOf(2)?r.setNavi(!1,!1):r.setNavi(!0,!0);r.setNaviFnc((function(){var t=e._TabSequence.indexOf(e._tab);0===t?0===e._curQidx?r.gotoDirection():(e._hint=!1,e._curQidx-=1,e._setNavi()):t>0&&(0===e._curQidx?(e._tab=e._TabSequence[t-1],e._curQidx=e.m_data.introduction.length-1):(e._curQidx-=1,e._setNavi(),e._hint=!1,b.sendPAD(0,null)))}),(function(){var t=e._TabSequence.indexOf(e._tab);if(t>=0)if(e._hint=!1,e._curQidx===e.m_data.introduction.length-1){if(2===n.confirmBasicProg||1===n.confirmBasicProg||n.qnaProg>=1)return;e._hint=!1,e._tab=e._TabSequence[t+1],e._curQidx=0}else e._curQidx+=1,e._setNavi()}))}},{key:"componentDidUpdate",value:function(e){var t=this.props.view;t&&!e.view?(this._clearAll(),this._view=!0,this._setNavi(),this._letstalk=!1,this._popTrans=!1):!t&&e.view&&(this.c_popup="off",this._focusIdx=-1,this._roll="",this._isShadowPlay=!1,this._shadowing=!1,v.App.pub_stop())}},{key:"render",value:function(){var e=this,t=this.props,n=t.view,r=t.state,o=t.actions,i=r.qnaProg,a=this.m_data.introduction,s=[this.m_data.dictation_sup,this.m_data.dictation_basic,this.m_data.dictation_hard],c=i>=1,u="INTRODUCTION"===this._tab,l="CONFIRM"===this._tab,p="ADDITIONAL"===this._tab,f="DICTATION"===this._tab,_="SCRIPT"===this._tab,m=!u&&l&&0===this._curQidx&&r.confirmSupProg<2||l&&1===this._curQidx&&r.confirmBasicProg<2||l&&2===this._curQidx&&r.confirmHardProg<2||p&&0===this._curQidx&&r.additionalSupProg<2||p&&1===this._curQidx&&r.additionalBasicProg<2||p&&2===this._curQidx&&r.additionalHardProg<2||f&&r.dictationProg[this._curQidx]<2||_&&r.scriptProg[this._curQidx]<2;return d.createElement("div",{className:"t_writing ",style:{}},d.createElement("div",{className:"close_box"},d.createElement(y.ToggleBtn,{className:"btn_intro",onClick:this._goToIntro})),d.createElement("div",{className:"btn_tabs"},d.createElement(y.ToggleBtn,{className:"btn_tab_introduction",onClick:this._clickIntroduction,on:"INTRODUCTION"===this._tab,disabled:"INTRODUCTION"===this._tab||c}),d.createElement(y.ToggleBtn,{className:"btn_tab_confirm",onClick:this._clickConfirm,on:"CONFIRM"===this._tab,disabled:"CONFIRM"===this._tab||c}),d.createElement(y.ToggleBtn,{className:"btn_tab_additional",onClick:this._clickAdditional,on:"ADDITIONAL"===this._tab,disabled:"ADDITIONAL"===this._tab||c}),d.createElement(y.ToggleBtn,{className:"btn_tab_dictation",onClick:this._clickDictation,on:"DICTATION"===this._tab,disabled:"DICTATION"===this._tab||c}),d.createElement(y.ToggleBtn,{className:"btn_tab_script",onClick:this._clickScript,on:"SCRIPT"===this._tab,disabled:"SCRIPT"===this._tab||c})),d.createElement(y.ToggleBtn,{className:"btn_pop_trans",view:n&&"SCRIPT"===this._tab,on:this._popTrans,onClick:this._onPopTrans}),d.createElement(k.default,{view:this._popTrans,data:this.m_data.scripts[this._curQidx],onClosed:this._PopTransClosed}),d.createElement(O.default,{view:!0===this._viewResult,tap:this._tab,idx:this._curQidx,state:this.props.state,onClosed:this._closeResult}),d.createElement("div",{className:"writing_content_box"},d.createElement("div",{className:"btn_page_box"},a.map((function(t,n){return d.createElement(C,{key:n,tab:e._tab,on:n===e._curQidx,idx:n,onClick:e._onPage})}))),d.createElement("div",{className:"question",style:{display:"INTRODUCTION"===this._tab?"":"none"}},a.map((function(t,r){return d.createElement("div",{key:r,style:{display:r===e._curQidx?"":"none"}},d.createElement(P.default,{view:n&&r===e._curQidx,data:t,onClosed:e._letstalkClosed}))}))),d.createElement("div",{className:"question",style:{display:"CONFIRM"===this._tab?"":"none"}},d.createElement("div",{key:1},d.createElement(E.default,{index:this._curQidx,mdata:this.m_data,onClosed:this._letstalkClosed,onHintClick:this._clickConfirmAnswer,view:n,actions:o,state:r,viewResult:this.showResult}))),d.createElement("div",{className:"question",style:{display:"ADDITIONAL"===this._tab?"":"none"}},d.createElement("div",{key:1},d.createElement(T.default,{view:n,actions:o,state:r,index:this._curQidx,mdata:this.m_data,onClosed:this._letstalkClosed,onHintClick:this._clickAdditionalAnswer,viewResult:this.showResult}))),d.createElement("div",{className:"question",style:{display:"DICTATION"===this._tab?"":"none"}},s.map((function(t,i){return d.createElement("div",{key:i},d.createElement(S.default,{index:i,data:t,onClosed:e._letstalkClosed,onHintClick:e._clickDictationAnswer,view:n&&i===e._curQidx,actions:o,state:r,viewResult:e.showResult}))}))),this.m_data.scripts.map((function(t,i){return d.createElement("div",{key:i,className:"script_container"+("SCRIPT"===e._tab&&i===e._curQidx?"":" hide"),style:{display:"SCRIPT"===e._tab?"":"none"}},d.createElement(x.default,{view:n&&i===e._curQidx&&"SCRIPT"===e._tab,state:r,actions:o,idx:i,script:t}))}))),d.createElement(g.default,{view:m,type:"teacher",sended:!1,originY:0,onSend:this.onSend}),d.createElement(w.CoverPopup,{className:"pop_hint",view:this._viewpop,onClosed:function(){}},d.createElement("div",{className:"pop_bg"},d.createElement(y.ToggleBtn,{className:"btn_close",onClick:function(){return e._onClosepop(null)}}),d.createElement(y.ToggleBtn,{className:"btn_no",onClick:function(){return e._onClosepop(!1)}}),d.createElement(y.ToggleBtn,{className:"btn_yes",onClick:function(){return e._onClosepop(!0)}}),d.createElement("div",{className:"pop_msg"}))))}}]),n}(d.Component);f([m.observable],j.prototype,"c_popup",void 0),f([m.observable],j.prototype,"_tab",void 0),f([m.observable],j.prototype,"_hint",void 0),f([m.observable],j.prototype,"_view",void 0),f([m.observable],j.prototype,"_curQidx",void 0),f([m.observable],j.prototype,"_viewClue",void 0),f([m.observable],j.prototype,"_viewTrans",void 0),f([m.observable],j.prototype,"_viewScript",void 0),f([m.observable],j.prototype,"_letstalk",void 0),f([m.observable],j.prototype,"_popTrans",void 0),f([m.observable],j.prototype,"_viewResult",void 0),f([m.observable],j.prototype,"_viewQuiz",void 0),f([m.observable],j.prototype,"_viewpop",void 0),f([m.observable],j.prototype,"_roll",void 0),f([m.observable],j.prototype,"_shadowing",void 0),f([m.observable],j.prototype,"_focusIdx",void 0),f([m.observable],j.prototype,"_isShadowPlay",void 0),f([m.observable],j.prototype,"_qselected",void 0),j=f([_.observer],j),t.default=j},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(1),f=n(2),d=n(4),_=n(3),m=n(12),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e))._view=!1,t._onClosePopup=function(){_.App.pub_playBtnTab(),t._view=!1},t}return t=c,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.view;t&&!e.view?this._view=!0:!t&&e.view&&(this._view=!1,_.App.pub_stop())}},{key:"findStudentName",value:function(e){var t=-1;return _.App.students.map((function(n,r){n.name===e&&(t=r)})),t}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.onClosed,o=n.state,i=n.idx,a=n.tap,s=[o.resultConfirmSup,o.resultConfirmBasic,o.resultConfirmHard],c=[o.resultAdditionalSup,o.resultAdditionalBasic,o.resultAdditionalHard],u=[],p=[];switch(a){case"ADDITIONAL":u=c[i].uid,p=c[i].url;break;case"CONFIRM":u=s[i].uid,p=s[i].url;break;case"DICTATION":u=o.resultDictation[i].uid,p=o.resultDictation[i].url}return console.log("uiduid",o.resultConfirmSup.uid.length),console.log("uid",u[0]),console.log(null===(e=_.App.students[0])||void 0===e?void 0:e.name),console.log("resulturl",p[0]),l.createElement(l.Fragment,null,l.createElement(m.CoverPopup,{className:"result_view",view:this._view,onClosed:r},l.createElement("div",{className:"pop_bg"},l.createElement(d.ToggleBtn,{className:"btn_letstalk_close",onClick:this._onClosePopup}),l.createElement("div",{className:"popbox"},l.createElement("div",{className:"content"},l.createElement("div",{className:"table"},u.map((function(e,n){var r,o,i="";return void 0!==p[n]&&(i=p[n][0]),l.createElement("div",{key:n},l.createElement("img",{className:"thumnail",src:i}),l.createElement("div",{className:"status"},l.createElement("div",{className:"s_img"},l.createElement("img",{src:null===(r=_.App.students[t.findStudentName(e)])||void 0===r?void 0:r.thumb})),l.createElement("p",{className:"s_name"},null===(o=_.App.students[t.findStudentName(e)])||void 0===o?void 0:o.nickname),l.createElement("div",{className:"score"})))}))))))))}}])&&r(t.prototype,n),a&&r(t,a),c}(l.Component);u([f.observable],h.prototype,"_view",void 0),h=u([p.observer],h),t.default=h},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(5),f=n(1),d=n(2),_=n(4),m=n(3),h=n(9),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e))._view=!1,t._hint=!1,t._viewAnswer=function(){m.App.pub_playBtnTab(),t._hint=!t._hint,t._swiper&&(t._swiper.slideTo(0,0),t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize()),p.delay((function(){t._swiper&&(t._swiper.slideTo(0,0),t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300)},t._onClick=function(){t._btnAudio&&t._btnAudio.toggle()},t._jsx_sentence=h._getJSX(e.data.questions),t._jsx_hint=h._getJSX(e.data.ex_answer);var n=Math.floor(3*Math.random());return t._character=0===n?"/content/digenglishCB_lib/D/audio_english/teacher/images/letstalk_bear.png":1===n?"/content/digenglishCB_lib/D/audio_english/teacher/images/letstalk_boy.png":"/content/digenglishCB_lib/D/audio_english/teacher/images/letstalk_girl.png",t}return t=c,(n=[{key:"componentDidUpdate",value:function(e){var t=this;this.props.view&&!e.view?(this._view=!0,this._hint=!1,this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize()),p.delay((function(){t._swiper&&(t._swiper.slideTo(0,0),t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300)):!this.props.view&&e.view&&(this._view=!1,m.App.pub_stop())}},{key:"render",value:function(){var e=this.props.data;return l.createElement(l.Fragment,null,l.createElement("div",{className:"intro_question_bg",style:{display:this._view?"":"none"}},l.createElement(_.ToggleBtn,{className:"btn_example",on:this._hint,onClick:this._viewAnswer}),l.createElement("div",{className:"quiz_box"},l.createElement("div",{className:"white_board"},l.createElement("div",{className:"image_box"},l.createElement("img",{src:m.App.data_url+e.img,draggable:!1}))),l.createElement("div",{className:"sentence_box"},l.createElement("div",null,l.createElement("div",{className:"question_box",onClick:this._onClick},this._jsx_sentence))),l.createElement("div",{className:"speechbubble_box"},l.createElement("div",{className:this._hint?" view-hint":""},l.createElement("div",{className:"sample"+(this._hint?" hide":"")}),l.createElement("div",{className:"hint"+(this._hint?"":" hide")},this._jsx_hint))))))}}])&&r(t.prototype,n),a&&r(t,a),c}(l.Component);u([d.observable],y.prototype,"_view",void 0),u([d.observable],y.prototype,"_hint",void 0),y=u([f.observer],y),t.default=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(5),d=n(1),_=n(3),m=n(47),h=n(50),y=n(51),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,s,c=a(u);function u(){var e;return r(this,u),(e=c.apply(this,arguments))._soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},e}return t=u,(n=[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.view;n&&!e.view?(this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize()),f.delay((function(){t._swiper&&(t._swiper.slideTo(0,0),t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300)):!n&&e.view&&_.App.pub_stop()}},{key:"render",value:function(){var e=this.props,t=e.mdata,n=e.view,r=e.index,o=e.onClosed,i=e.onHintClick,a=e.state,s=e.actions,c=e.viewResult;return p.createElement(p.Fragment,null,p.createElement(m.default,{view:n&&0===r,actions:s,state:a,data:t.confirm_sup[0],onClosed:o,onHintClick:i,viewResult:c}),p.createElement(h.default,{view:n&&1===r,actions:s,state:a,data:t.confirm_nomal[0],onClosed:o,onHintClick:i,viewResult:c}),p.createElement(y.default,{view:n&&2===r,actions:s,state:a,data:t.confirm_hard[0],onClosed:o,onHintClick:i,viewResult:c}))}}])&&o(t.prototype,n),s&&o(t,s),u}(p.Component);v=l([d.observer],v),t.default=v},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(1),f=n(2),d=n(4),_=n(3),m=n(11),h=n(15),y=n(7),v=n(8),b=(n(16).default,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e))._toggle=[null,null,null],t.m_player=new y.MPlayer(new y.MConfig(!0)),t._jsx_questions=[],t._jsx_answers=[],t._onClickTrue=function(e){t._disable_toggle||(t._toggle[e]=!0)},t._onClickFalse=function(e){t._disable_toggle||(t._toggle[e]=!1)},t._getToggleState=function(e){return t._hint?null===t._toggle[e]?"":t._toggle[e]?"on_true_t":"on_false_t":null===t._toggle[e]?"":t._toggle[e]?"on_true":"on_false"},t._viewAnswer=function(e){!1===t._disable_toggle&&(t.props.onHintClick(),t._toggle[0]=t._answer_dic["".concat(t._jsx_answers[0])],t._toggle[1]=t._answer_dic["".concat(t._jsx_answers[1])],t._toggle[2]=t._answer_dic["".concat(t._jsx_answers[2])],t._disable_toggle=t._hint=!0)},t._jsx_questions.push(e.data.problem1),t._jsx_questions.push(e.data.problem2),t._jsx_questions.push(e.data.problem3),t._jsx_answers.push(e.data.problem1.answer),t._jsx_answers.push(e.data.problem2.answer),t._jsx_answers.push(e.data.problem3.answer),t._answer_dic={1:!0,2:!1},t._disable_toggle=!1,t}return t=c,(n=[{key:"render",value:function(){var e=this,t=this.props,n=(t.data,t.state),r=t.actions,o=t.viewResult,i=this._trans?this._jsx_eng_sentence:this._jsx_sentence,a=-1;return n.confirmSupProg>=3&&(a=n.numOfStudent>0?Math.round(100*n.resultConfirmSup.arrayOfCorrect.filter((function(e){return!0===e})).length/n.numOfStudent):0)>100&&(a=100),console.log("tsetset",n.resultConfirmSup.url),l.createElement(l.Fragment,null,l.createElement("div",{className:"confirm_question_bg",style:{display:this._view?"":"none"}},l.createElement("div",{className:"subject_rate"+(this._sended?"":" hide"),onClick:o},n.resultConfirmSup.uid.length,"/",_.App.students.length),l.createElement(m.CorrectBar,{className:"correct_answer_rate"+(this._sended?"":" hide"),preview:-1,result:a}),l.createElement(d.ToggleBtn,{className:"btn_answer"+(this._sended?"":" hide"),on:this._hint,onClick:this._viewAnswer}),l.createElement("div",{className:"quiz_box"},l.createElement("div",{className:"white_board"},l.createElement(d.ToggleBtn,{className:"btn_trans",on:this._trans,onClick:this._viewTrans}),l.createElement("div",{className:"sentence_box"},l.createElement("div",null,l.createElement("div",{className:"question_box",onClick:this._onClick},i,l.createElement("div",{className:"video_container"},l.createElement(v.default,{data:r.getData(),idx:2,isShadowPlay:!1,onChangeScript:function(){},player:this.m_player,playerInitTime:0,roll:"",setShadowPlay:function(e){},shadowing:!1,stopClick:function(){}}))))),l.createElement("div",{className:"sup_question"},this._jsx_questions.map((function(t,n){return l.createElement("div",{key:n},l.createElement("p",null,n+1,". ",t.question),l.createElement("div",{className:"toggle_bundle "+e._getToggleState(n)},l.createElement("div",{className:"true",onClick:function(){return e._onClickTrue(n)}}),l.createElement("div",{className:"false",onClick:function(){return e._onClickFalse(n)}})))})))))))}}])&&r(t.prototype,n),a&&r(t,a),c}(h.default));u([f.observable],b.prototype,"_toggle",void 0),u([f.action],b.prototype,"_viewAnswer",void 0),b=u([p.observer],b),t.default=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),d=n(4),_=n(49),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,s,c=a(u);function u(){return r(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.player,n=e.view,r=e.disable,o=e.isPlay,i=e.togglePlay;return p.createElement("div",{className:"control",style:{display:n?"":"none"}},p.createElement("div",{className:"control_over"},p.createElement("div",{className:"brake_point",style:{left:"134px"}},"1"),p.createElement("div",{className:"brake_point",style:{left:"233px"}},"2")),p.createElement("div",{className:"control_left"},p.createElement(d.ToggleBtn,{className:"btn_play_pause",on:o,onClick:i})),p.createElement("div",{className:"control_top"},p.createElement("div",null,p.createElement(_.default,{player:t,disable:r}))))}}])&&o(t.prototype,n),s&&o(t,s),u}(p.Component);m=l([f.observer],m),t.default=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(5),d=n(1),_=n(2),m=n(22),h=n(4);var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,s,c=a(u);function u(){var e;return r(this,u),(e=c.apply(this,arguments)).m_dragLeft=0,e.m_dragging=!1,e.m_bgW=0,e.m_s=0,e.m_dragLeft_s=0,e._seek=f.throttle((function(t){e.props.disable||e.props.player.seek(e.props.player.duration*t/100)}),300,{leading:!1}),e._refBG=function(t){!e.m_bg&&t&&(e.m_bg=t)},e._start=function(t,n){if(e.m_bg&&!e.props.disable&&!(e.props.player.duration<=0||(e.m_bgW=e.m_bg.getBoundingClientRect().width,e.m_bgW<=0))){var r=100*n.x/e.m_bgW;r<0?r=0:r>100&&(r=100),e.m_dragLeft_s=r,e.m_dragLeft=r,e.m_s=n.x,e.m_dragging=!0}},e._drag=function(t,n){if(e.m_dragging&&!e.props.disable){var r=e.m_dragLeft_s+100*(n.x-e.m_s)/e.m_bgW;r<0?r=0:r>100&&(r=100),e.m_dragLeft=r,e.props.player.bPlay||e._seek(r)}},e._stop=function(t,n){if(e.m_dragging&&!e.props.disable){e.m_dragging=!1;var r=e.props.player;r.seek(r.duration*e.m_dragLeft/100)}},e}return t=u,(n=[{key:"render",value:function(){var e=this.props.player,t=0;e.duration>0&&(t=e.viewTime/e.duration*100);var n=0,r=this.m_dragLeft;return n=this.m_dragging?r:t,p.createElement(p.Fragment,null,p.createElement("div",{className:"prog_box"},p.createElement(m.DraggableCore,{onDrag:this._drag,onStart:this._start,onStop:this._stop},p.createElement("div",{className:"prog_bg",ref:this._refBG},p.createElement("div",{className:"prog_bar",style:{width:t+"%"}}),p.createElement("div",{className:"prog_tmp"}),p.createElement(h.ToggleBtn,{className:"prog_btn",style:{left:n+"%"}})))))}}])&&o(t.prototype,n),s&&o(t,s),u}(p.Component);l([_.observable],y.prototype,"m_dragLeft",void 0),y=l([d.observer],y),t.default=y},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(1),f=n(2),d=n(4),_=n(3),m=n(7),h=n(11),y=n(8),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e))._jsx_hints=[0,0,0],t.m_player=new m.MPlayer(new m.MConfig(!0)),t._viewAnswer=function(e){t._hint||(t.props.onHintClick(),t._hint=!0)};var n=e.data;return t._jsx_hints=[n.item1.answer,n.item2.answer,n.item3.answer],t}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.state,n=e.data,r=e.actions,o=e.viewResult,i=n,a=this._trans?this._jsx_eng_sentence:this._jsx_sentence,s=-1;return t.confirmBasicProg>=3&&(s=t.numOfStudent>0?Math.round(100*t.resultConfirmBasic.arrayOfCorrect.filter((function(e){return!0===e})).length/t.numOfStudent):0)>100&&(s=100),l.createElement(l.Fragment,null,l.createElement("div",{className:"confirm_question_bg",style:{display:this._view?"":"none"}},l.createElement("div",{className:"subject_rate"+(this._sended?"":" hide"),onClick:o},this.props.state.resultConfirmBasic.uid.length,"/",_.App.students.length),l.createElement(h.CorrectBar,{className:"correct_answer_rate"+(this._sended?"":" hide"),preview:-1,result:s}),l.createElement(d.ToggleBtn,{className:"btn_answer"+(this._sended?"":" hide"),on:this._hint,onClick:this._viewAnswer}),l.createElement("div",{className:"quiz_box"},l.createElement("div",{className:"white_board basic"},l.createElement(d.ToggleBtn,{className:"btn_trans",on:this._trans,onClick:this._viewTrans}),l.createElement("div",{className:"sentence_box"},l.createElement("div",null,l.createElement("div",{className:"question_box",onClick:this._onClick},a,l.createElement("div",{className:"video_container"},l.createElement(y.default,{data:r.getData(),idx:2,isShadowPlay:!1,onChangeScript:function(){},player:this.m_player,playerInitTime:0,roll:"",setShadowPlay:function(e){},shadowing:!1,stopClick:function(){}}))))),l.createElement("div",{className:"image_box"},l.createElement("img",{src:_.App.data_url+i.item1.img,draggable:!1}),l.createElement("img",{src:_.App.data_url+i.item2.img,draggable:!1}),l.createElement("img",{src:_.App.data_url+i.item3.img,draggable:!1}))),l.createElement("div",{className:"speechbubble_box"},l.createElement("div",{className:this._hint?" view-hint":""},l.createElement("div",{className:"sample"+(this._hint?" hide":"")}),l.createElement("div",{className:"hint"+(this._hint?"":" hide")},this._jsx_hints[0],",",this._jsx_hints[1],",",this._jsx_hints[2]))))))}}])&&r(t.prototype,n),a&&r(t,a),c}(n(15).default);u([f.action],v.prototype,"_viewAnswer",void 0),v=u([p.observer],v),t.default=v},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(1),f=n(2),d=n(4),_=n(3),m=n(52),h=n(7),y=n(8),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e))._jsx_questions=[],t.m_player=new h.MPlayer(new h.MConfig(!0)),t._viewAnswer=function(e){t.props.onHintClick(),t._hint=!0};var n=e.data;return t._jsx_questions.push(n.problem1),t._jsx_questions.push(n.problem1),t._jsx_questions.push(n.problem1),t}return t=c,(n=[{key:"render",value:function(){var e=this,t=this.props,n=(t.data,t.state),r=t.actions,o=t.viewResult,i=this._trans?this._jsx_eng_sentence:this._jsx_sentence,a=!1;return n.confirmHardProg>=2&&(a=!0),l.createElement(l.Fragment,null,l.createElement("div",{className:"confirm_question_bg",style:{display:this._view?"":"none"}},l.createElement("div",{className:"subject_rate"+(this._sended&&a?"":" hide"),onClick:o},n.resultConfirmHard.uid.length,"/",_.App.students.length),l.createElement(d.ToggleBtn,{className:"btn_example"+(this._sended&&a?"":" hide"),on:this._hint,onClick:this._viewAnswer}),l.createElement("div",{className:"quiz_box"},l.createElement("div",{className:"white_board"},l.createElement(d.ToggleBtn,{className:"btn_trans",on:this._trans,onClick:this._viewTrans}),l.createElement("div",{className:"sentence_box"},l.createElement("div",null,l.createElement("div",{className:"question_box",onClick:this._onClick},i,l.createElement("div",{className:"video_container"},l.createElement(y.default,{data:r.getData(),idx:2,isShadowPlay:!1,onChangeScript:function(){},player:this.m_player,playerInitTime:0,roll:"",setShadowPlay:function(e){},shadowing:!1,stopClick:function(){}}))))),l.createElement("div",{className:"hard_question"},this._jsx_questions.map((function(t,n){return l.createElement("div",{key:n},l.createElement("div",null,n+1,". ",t.question),l.createElement("div",{className:"answer_box"},l.createElement("div",{className:"sample"+(e._hint?" hide":"")}),l.createElement("div",{className:"hint"+(e._hint?"":" hide")},m.parseBlock(t.answer,"block"))))})))))))}}])&&r(t.prototype,n),a&&r(t,a),c}(n(15).default);u([f.action],v.prototype,"_viewAnswer",void 0),v=u([p.observer],v),t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sentence2jsx=t.parseUnscramble=t.parseBlock=void 0;var r=n(0);function o(e,t,n){for(var o=e.split(/\s/g),i=new RegExp(/[\.\!\?\s]/g),a=[],s=0;s<o.length;s++){var c=o[s];if(""!==c){for(var u=[],l=i.exec(c),p=0,f="";l;)l.index>p&&(f=c.substring(p,l.index),u.push(r.createElement("span",{key:t.key++},f))),f=l[0],u.push(f),p=i.lastIndex,l=i.exec(c);p<c.length&&(f=c.substring(p),u.push(r.createElement("span",{key:t.key++},f))),a.push(r.createElement("span",{key:t.key++,className:n},u.map((function(e){return e}))))}}return a}t.parseBlock=function(e,t,n){for(var o=[],i=new RegExp(/\{(.*?)\}/g),a=i.exec(e),s=0,c=0,u="";a;){a.index>s&&(u=e.substring(s,a.index),o.push(u)),u=a[1];var l=n;l||(l=u),o.push(r.createElement("span",{key:c++,className:t,"data-correct":u},l)),s=i.lastIndex,a=i.exec(e)}return s<e.length&&(u=e.substring(s),o.push(u)),o},t.parseUnscramble=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=e.split(" "),i=!1,a=[],s=0;s<o.length;s++){var c=o[s],u=c.lastIndexOf("{"),l=c.lastIndexOf("}");i?(a[a.length-1]=a[a.length-1]+" "+c,l>u&&(i=!1)):(a.push(c),u>l&&(i=!0))}for(var p=0,f=[],d=n?[]:null,_=0;_<a.length;_++){for(var m=a[_],h=new RegExp(/\{(.*?)\}/g),y=h.exec(m),v=0,b="",g=[];y;)y.index>v&&(b=m.substring(v,y.index),g.push(b)),b=y[1],g.push(r.createElement("span",{key:p++,className:t},b)),d&&d.push(b),v=h.lastIndex,y=h.exec(m);v<m.length&&(b=m.substring(v),g.push(b)),_>0&&f.push(" "),f.push(r.createElement("div",{key:p++},g.map((function(e){return e}))))}if(d&&n)for(var w,O=0;(w=d.length)>0;){var P=Math.floor(Math.random()*w);0===O&&0===P&&d.length>1||P<w&&(n.push(d[P]),d.splice(P,1),O++)}return r.createElement(r.Fragment,null,f.map((function(e){return e})))},t.sentence2jsx=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block",i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,c=new RegExp(/\{(.*?)\}/g),u={key:0},l=[],p=e.replace(/\s\s+/gi," ").replace(/<\s*br\s*\/*\s*>/gi,"<br>").split("<br>");return p.forEach((function(e,p){if(n){for(var f=c.exec(e),d=0,_="",m=[];f;){f.index>d&&(_=e.substring(d,f.index),m.push(o(_,u,s))),_=f[1];var h=i;h||(h=_),t=a?o(h,u,s):h,m.push(r.createElement("span",{key:u.key++,className:n,"data-correct":_},t)),d=c.lastIndex,f=c.exec(e)}d<e.length&&(_=e.substring(d),m.push(o(_,u,s))),l[p]=r.createElement(r.Fragment,{key:u.key++},m)}else l[p]=r.createElement(r.Fragment,{key:u.key++},o(e,u,s))})),l}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(5),d=n(1),_=n(2),m=n(3),h=n(54),y=n(57),v=n(58),b=(n(16).default,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,s,c=a(u);function u(){var e;return r(this,u),(e=c.apply(this,arguments))._view=!1,e._hint=!1,e._trans=!1,e._zoom=!1,e._zoomImgUrl="",e._soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},e}return t=u,(n=[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.view;n&&!e.view?(this._view=!0,this._hint=!1,this._trans=!1,this._zoom=!1,this._zoomImgUrl="",this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize()),f.delay((function(){t._swiper&&(t._swiper.slideTo(0,0),t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300)):!n&&e.view&&(this._view=!1,this._zoom=!1,this._zoomImgUrl="",m.App.pub_stop())}},{key:"render",value:function(){var e=this.props,t=e.mdata,n=e.view,r=e.index,o=e.onClosed,i=e.onHintClick,a=e.actions,s=e.state,c=e.viewResult;return p.createElement(p.Fragment,null,p.createElement(h.default,{view:n&&0===r,actions:a,state:s,data:t.additional_sup,onClosed:o,onHintClick:i,viewResult:c}),p.createElement(y.default,{view:n&&1===r,actions:a,state:s,data:t.additional_basic,onClosed:o,onHintClick:i,viewResult:c}),p.createElement(v.default,{view:n&&2===r,actions:a,state:s,data:t.additional_hard,onClosed:o,onHintClick:i,viewResult:c}))}}])&&o(t.prototype,n),s&&o(t,s),u}(p.Component));l([_.observable],b.prototype,"_view",void 0),l([_.observable],b.prototype,"_hint",void 0),l([_.observable],b.prototype,"_trans",void 0),l([_.observable],b.prototype,"_zoom",void 0),l([_.observable],b.prototype,"_zoomImgUrl",void 0),b=l([d.observer],b),t.default=b},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(1),f=n(2),d=n(4),_=n(3),m=n(7),h=n(8),y=n(55),v=n(11),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e))._renderCnt=0,t._prog=0,t.m_player=new m.MPlayer(new m.MConfig(!0)),t._done="",t._viewAnswer=function(e){console.log("viewHint"),t._prog=3,t._done="done",t.props.onHintClick(),t._hint=!t._hint,t._doSwipe()},t}return t=c,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.view,o=t.state,i=t.actions,a=t.viewResult,s=this._trans?this._jsx_eng_sentence:this._jsx_kor_sentence,c=-1,u=n;return o.additionalSupProg>=3&&(c=o.numOfStudent>0?Math.round(100*o.resultAdditionalSup.arrayOfCorrect.filter((function(e){return!0===e})).length/o.numOfStudent):0)>100&&(c=100),l.createElement(l.Fragment,null,l.createElement("div",{className:"additional_question_bg",style:{display:this._view?"":"none"}},l.createElement("div",{className:"subject_rate"+(this._sended?"":" hide"),onClick:a},o.resultAdditionalSup.uid.length,"/",_.App.students.length),l.createElement(d.ToggleBtn,{className:"btn_answer"+(this._sended?"":" hide"),on:this._hint,onClick:this._viewAnswer}),l.createElement(v.CorrectBar,{className:"correct_answer_rate"+(this._sended?"":" hide"),preview:-1,result:c}),l.createElement("div",{className:"quiz_box"},l.createElement("div",{className:"white_board "+this._done},l.createElement(d.ToggleBtn,{className:"btn_trans",on:this._trans,onClick:this._viewTrans}),l.createElement("div",{className:"sentence_box"},l.createElement("div",null,l.createElement("div",{className:"question_box",onClick:this._onClick},s,l.createElement("div",{className:"video_container"},l.createElement(h.default,{data:i.getData(),idx:2,isShadowPlay:!1,onChangeScript:function(){},player:this.m_player,playerInitTime:0,roll:"",setShadowPlay:function(e){},shadowing:!1,stopClick:function(){}}))))),l.createElement("div",{className:"table_box"},u.map((function(t,n){return l.createElement("div",{key:n},l.createElement(y.default,{viewCorrect:3===e._prog,disableSelect:3===e._prog,viewResult:3===e._prog,inview:r,graphic:t,className:"type_3",maxWidth:1e3,renderCnt:e._renderCnt,optionBoxPosition:"bottom",viewBtn:!1,idx:n}))})))))))}}])&&r(t.prototype,n),a&&r(t,a),c}(n(17).default);u([f.observable],b.prototype,"_renderCnt",void 0),u([f.observable],b.prototype,"_prog",void 0),b=u([p.observer],b),t.default=b},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(2),f=n(1),d=n(5),_=n(4),m=n(56),h=(n(16).default,p.observable([0]),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,n,s,c=i(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).m_view=!1,t._drop=!1,t.SELECT_KEY=0,t._sbox=[],t._totalNumOfSentnc=0,t._opt=!0,t._refSelect=function(e,n){t._sbox[n]||!e||n<0||(t._sbox[n]=e,t._initSBox())},t._onSelect=function(e,n){var r=t.props.graphic.app_drops;n<r.length&&r[n]&&(r[n].inputed=e),t.props.onChange&&t.props.onChange(e,n)},t._parseBlock=function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bottom",i=e.sentence,a=i.split("<br>"),s=0,c=l.createElement(l.Fragment,null,a.map((function(i,a){for(var c,u=new RegExp(/\{(.*?)\}/g),p=u.exec(i),f=0,d="",_=[];p;)p.index>f&&(d=i.substring(f,p.index),c=l.createElement("span",{key:t.SELECT_KEY++,dangerouslySetInnerHTML:{__html:d}}),_.push(c)),d=p[1],s<e.app_drops.length?(_.push(function(i){return l.createElement(m.default,{key:t.SELECT_KEY++,ref:function(e){return n(e,i)},text:d,correct:e.app_drops[i].correct,options:e.app_drops[i].choices,boxPositon:o,onChange:function(e){return r(e,i)},idx:t.props.idx,className:t.props.className,totalStncNum:t._totalNumOfSentnc,sentncNum:i,isStudent:!1})}(s)),s++):_.push(d),f=u.lastIndex,p=u.exec(i);var h="";return f<i.length&&((d=i.substring(f)).indexOf("_add_")>=0?(h="add",c=l.createElement("span",{key:t.SELECT_KEY++,dangerouslySetInnerHTML:{__html:d.split("_add_")[1]}})):c=l.createElement("span",{key:t.SELECT_KEY++,dangerouslySetInnerHTML:{__html:d}}),_.push(c)),l.createElement("li",{key:a,className:h},l.createElement("div",null,_))})));return c},t._refSwiper=function(e){!t.m_swiper&&e&&(t.m_swiper=e.swiper)};for(var n=e.graphic,r=n.sentence1,o=n.sentence2,i=n.sentence3,s=n.sentence4,p=[r.answer,o.answer,i.answer,s.answer],f=0;f<p.length;f++){if(void 0===p[f]||0===p[f])return a(t);t._totalNumOfSentnc++}return t}return t=u,(n=[{key:"componentDidMount",value:function(){for(;this._sbox.length>0;)this._sbox.pop();console.log("didmount"),this._jsx=this._parseBlock(this.props.graphic,this._refSelect,this._onSelect,this.props.optionBoxPosition)}},{key:"componentWillReceiveProps",value:function(e){if(e.graphic!==this.props.graphic){for(;this._sbox.length>0;)this._sbox.pop();this._jsx=this._parseBlock(e.graphic,this._refSelect,this._onSelect,this.props.optionBoxPosition)}}},{key:"_initSBox",value:function(){var e=this,t=this.props.graphic.app_drops;this._sbox.forEach((function(n,r){n&&(n.clear(),r<t.length&&t[r]&&n.setValue(t[r].inputed),n.setDisableSelect(!0===e.props.disableSelect),n.setViewResult(!0===e.props.viewResult),n.setViewCorrect(!0===e.props.viewCorrect))}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.inview&&!e.inview&&this.m_swiper&&(this.m_swiper.slideTo(0,0),d.delay((function(){t.m_swiper&&(t.m_swiper.update(),t.m_swiper.scrollbar&&t.m_swiper.scrollbar.updateSize(),t.m_swiper.wrapperEl.children[0].clientHeight<=t.m_swiper.height?t._opt=!0:t._opt=!1)}),100)),this.props.inview&&!e.inview&&this._initSBox(),this.props.renderCnt!==e.renderCnt&&this._initSBox(),this.props.disableSelect!==e.disableSelect&&this._sbox.forEach((function(e,n){e&&e.setDisableSelect(!0===t.props.disableSelect)})),this.props.viewResult!==e.viewResult&&this._sbox.forEach((function(e,n){e&&e.setViewResult(!0===t.props.viewResult)})),this.props.viewCorrect!==e.viewCorrect&&this._sbox.forEach((function(e,n){e&&e.setViewCorrect(!0===t.props.viewCorrect)}))}},{key:"render",value:function(){return this._cont=l.createElement("div",{className:"content-box"},l.createElement("div",null,l.createElement("ul",{className:"content"},this._jsx))),l.createElement("div",{className:"table-item "+this.props.className,style:{maxWidth:this.props.maxWidth+"px",zIndex:100-this.props.idx}},this._cont,l.createElement(_.ToggleBtn,{className:"table-item-btn",view:!0===this.props.viewBtn,onClick:this.props.onClickBtn}))}}])&&r(t.prototype,n),s&&r(t,s),u}(l.Component));u([p.observable],h.prototype,"m_view",void 0),u([p.observable],h.prototype,"_opt",void 0),h=u([f.inject(),f.observer],h),t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),_=n(5),m=n(2),h=n(1),y=n(4),v=n(3),b=function(e){a(n,e);var t=c(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments))._onClick=function(){e.props.onClick(e.props.text),v.App.pub_playBtnTab()},e}return i(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.text;e.onClick;return d.createElement("div",{className:t,onClick:this._onClick},n)}}]),n}(d.Component),g=2,w=m.observable([0]),O=function(e){a(n,e);var t=c(n);function n(e){var o;return r(this,n),(o=t.call(this,e))._value="",o._on=!1,o._disableSelect=!1,o._viewResult=!1,o._viewCorrect=!1,o._zidx=2,o._onSelect=function(e){o._on&&(o._on=!1,o._disableSelect||(o._value=e,o.props.onChange(e)))},o._toggle=function(){if(v.App.pub_playBtnTab(),o._box){var e=o._box.querySelector(".options-box"),t=o._box.querySelector(".options-box.on");if(e){for(var n=o._box.getBoundingClientRect(),r=o._box.parentElement,i=o.props.className.startsWith("type_6")?"swiper-container":"table-item";r&&!r.className.startsWith(i);)r=r.parentElement;n.bottom,r.getBoundingClientRect().bottom,e.offsetHeight;o._boxPositon="bottom"}else o._boxPositon=o.props.boxPositon;if(o._on&&t)o._zidx=2,o._on=!1;else{var a=document.querySelectorAll(".select-box");if(a)for(var s=0;s<a.length;s++){var c=a[s].querySelector(".btn-drop"),u=a[s].querySelector(".options-box");c&&c.classList.remove("on"),u&&u.classList.remove("on")}o._on?(o._on=!1,_.delay((function(){o._zidx=g++,o._on=!0}),10)):(o._zidx=g++,o._on=!0)}o.props.idx&&o.props.idx>=0&&(w[0]=o.props.idx)}},o._refBox=function(e){!o._box&&e&&(o._box=e)},o._boxDown=function(e){e&&o._mouseDown(e.nativeEvent)},o._mouseDown=function(e){e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),o._toggle())},o._boxPositon=e.boxPositon,o}return i(n,[{key:"off",value:function(){v.App.pub_playBtnTab(),this._on=!1}},{key:"clear",value:function(){this._zidx=2,this._value="",this._disableSelect=!1,this._viewResult=!1,this._viewCorrect=!1,this._on=!1}},{key:"setValue",value:function(e){for(var t="",n=0;n<this.props.options.length;n++)if(this.props.options[n]===e){t=e;break}this._value=t}},{key:"setDisableSelect",value:function(e){this._disableSelect=e}},{key:"setViewResult",value:function(e){this._viewResult=e,e&&(this._on=!1)}},{key:"setViewCorrect",value:function(e){e&&(this._value=this.props.correct),this._viewCorrect=e,this._on=!1}},{key:"render",value:function(){var e=this,t=this.props,n=(t.text,t.correct),r=t.options,o=(t.boxPositon,this._value),i="";return this._viewCorrect?o=n:this._viewResult&&(i=this._value===n?"correct":"wrong",o=n),d.createElement("div",{className:"select-box",ref:this._refBox},d.createElement("div",{className:"text-box "+i,onPointerDown:this._boxDown},d.createElement("div",{className:"size-box"},r.map((function(e,t){return d.createElement("div",{key:t},e)}))),o),d.createElement(y.ToggleBtn,{className:"btn-drop",on:this._on,onMouseDown:this._mouseDown}),d.createElement("div",{className:"options-box "+this._boxPositon+(this._on?" on":""),style:{zIndex:this._zidx}},r.map((function(t,r){var o="";return e._viewResult?o=t===n?"correct":t===e._value?"on":"wrong":t===e._value&&(o="on"),d.createElement(b,{key:r,className:o,text:t,onClick:e._onSelect})}))))}}]),n}(d.Component);f([m.observable],O.prototype,"_value",void 0),f([m.observable],O.prototype,"_on",void 0),f([m.observable],O.prototype,"_viewResult",void 0),f([m.observable],O.prototype,"_viewCorrect",void 0),O=f([h.observer],O),t.default=O},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),d=n(4),_=n(3),m=n(11),h=n(7),y=n(8),v=n(9),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,s,c=a(u);function u(){var e;return r(this,u),(e=c.apply(this,arguments)).m_player=new h.MPlayer(new h.MConfig(!0)),e}return t=u,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.state,o=t.actions,i=t.viewResult,a=this._trans?this._jsx_eng_sentence:this._jsx_kor_sentence,s=-1,c=n;return r.additionalBasicProg>=3&&(s=r.numOfStudent>0?Math.round(100*r.resultAdditionalBasic.arrayOfCorrect.filter((function(e){return!0===e})).length/r.numOfStudent):0)>100&&(s=100),p.createElement(p.Fragment,null,p.createElement("div",{className:"additional_question_bg",style:{display:this._view?"":"none"}},p.createElement("div",{className:"subject_rate"+(this._sended?"":" hide"),onClick:i},r.resultAdditionalBasic.uid.length,"/",_.App.students.length),p.createElement(d.ToggleBtn,{className:"btn_answer"+(this._sended?"":" hide"),on:this._hint,onClick:this._viewAnswer}),p.createElement(m.CorrectBar,{className:"correct_answer_rate"+(this._sended?"":" hide"),preview:-1,result:s}),p.createElement("div",{className:"quiz_box"},p.createElement("div",{className:"white_board"},p.createElement(d.ToggleBtn,{className:"btn_trans",on:this._trans,onClick:this._viewTrans}),p.createElement("div",{className:"sentence_box"},p.createElement("div",null,p.createElement("div",{className:"question_box",onClick:this._onClick},a,p.createElement("div",{className:"video_container"},p.createElement(y.default,{data:o.getData(),idx:2,isShadowPlay:!1,onChangeScript:function(){},player:this.m_player,playerInitTime:0,roll:"",setShadowPlay:function(e){},shadowing:!1,stopClick:function(){}}))))),p.createElement("div",{className:"basic_question"},c.map((function(t,n){var r=[t.sentence_answer1,t.sentence_answer2,t.sentence_answer3];return p.createElement("div",{key:n},p.createElement("div",null,p.createElement("p",{className:"number"},n+1,"."),p.createElement("p",null,v._getJSX(t.sentence))),p.createElement("div",null,r.map((function(t,n){return p.createElement("div",{key:n,className:"answer_box"},p.createElement("div",{className:"sample"+(e._hint?" hide":""),style:{borderBottom:""!==t?"":"none"}}),p.createElement("div",{className:"hint"+(e._hint?"":" hide"),style:{borderBottom:""!==t?"":"none"}},t))}))))})))))))}}])&&o(t.prototype,n),s&&o(t,s),u}(n(17).default);b=l([f.observer],b),t.default=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),d=n(4),_=n(3),m=n(7),h=n(8),y=n(11),v=n(9),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,s,c=a(u);function u(){var e;return r(this,u),(e=c.apply(this,arguments)).m_player=new m.MPlayer(new m.MConfig(!0)),e}return t=u,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.state,o=t.actions,i=t.viewResult,a=this._trans?this._jsx_eng_sentence:this._jsx_kor_sentence,s=-1,c=n;return r.additionalHardProg>=3&&(s=r.numOfStudent>0?Math.round(100*r.resultAdditionalHard.arrayOfCorrect.filter((function(e){return!0===e})).length/r.numOfStudent):0)>100&&(s=100),p.createElement(p.Fragment,null,p.createElement("div",{className:"additional_question_bg",style:{display:this._view?"":"none"}},p.createElement("div",{className:"subject_rate"+(this._sended?"":" hide"),onClick:i},r.resultAdditionalHard.uid.length,"/",_.App.students.length),p.createElement(d.ToggleBtn,{className:"btn_answer"+(this._sended?"":" hide"),on:this._hint,onClick:this._viewAnswer}),p.createElement(y.CorrectBar,{className:"correct_answer_rate"+(this._sended?"":" hide"),preview:-1,result:s}),p.createElement("div",{className:"quiz_box"},p.createElement("div",{className:"white_board"},p.createElement(d.ToggleBtn,{className:"btn_trans",on:this._trans,onClick:this._viewTrans}),p.createElement("div",{className:"sentence_box"},p.createElement("div",null,p.createElement("div",{className:"question_box",onClick:this._onClick},a,p.createElement("div",{className:"video_container"},p.createElement(h.default,{data:o.getData(),idx:2,isShadowPlay:!1,onChangeScript:function(){},player:this.m_player,playerInitTime:0,roll:"",setShadowPlay:function(e){},shadowing:!1,stopClick:function(){}}))))),p.createElement("div",{className:"hard_question"},c.map((function(t,n){return p.createElement("div",{key:n},p.createElement("p",{className:"number"},n+1,"."),p.createElement("p",null,v._getJSX(t.sentence)),p.createElement("div",{className:"answer_bundle"},p.createElement("div",{className:"answer_box"},p.createElement("div",{className:"hint"+(e._hint?"":" hide")},t.sentence1.answer1)),"  ",p.createElement("div",{className:"answer_box"},p.createElement("div",{className:"hint"+(e._hint?"":" hide")},t.sentence1.answer2))))})))))))}}])&&o(t.prototype,n),s&&o(t,s),u}(n(17).default);b=l([f.observer],b),t.default=b},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(5),f=n(1),d=n(2),_=n(4),m=n(3),h=n(7),y=n(8),v=n(9),b=n(11),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e))._view=!1,t._hint=!1,t._trans=!1,t._sended=!1,t.m_player=new h.MPlayer(new h.MConfig(!0)),t._jsx_question=[],t._jsx_question_answers=[],t.refText=function(e,n){!t._boxs[n]&&e&&(t._boxs[n]=e)},t._viewTrans=function(){m.App.pub_playBtnTab(),t._trans=!t._trans,t._trans&&(t._trans=!0),t._swiper&&(t._swiper.slideTo(0,0),t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize()),p.delay((function(){t._swiper&&(t._swiper.slideTo(0,0),t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300)},t._viewAnswer=function(e){t.props.onHintClick(),t._hint=!t._hint,t._boxs&&t._boxs.forEach((function(e,n){var r=t._jsx_question_answers[n];if(e){var o=e.querySelectorAll(".block");if(!o)return;o.forEach((function(e,t){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(document.createTextNode(r[t]))}))}}))},t._onClick=function(){t._btnAudio&&t._btnAudio.toggle()},t._boxs=[null,null,null],t.boxnum=0,t._jsx_sentence=v._getJSX(e.data[0].directive.kor),t._jsx_eng_sentence=v._getJSX(e.data[0].directive.eng),e.data.forEach((function(n,r){t._jsx_question.push(n.sentence),t._jsx_question_answers.push([e.data[r].sentence1.answer1,e.data[r].sentence2.answer1,e.data[r].sentence3.answer1,e.data[r].sentence4.answer1])}));var n="".concat("/content/digenglishCB_lib/D/audio_english/","/teacher/images/"),r=Math.floor(3*Math.random());return t._characterImage=n+["letstalk_bear.png","letstalk_boy.png","letstalk_gir.png"][r],t}return t=c,(n=[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.view,o=n.state,i=n.index;r&&!e.view?(this._view=!0,this._hint=!1,this._trans=!1,this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize()),p.delay((function(){t._swiper&&(t._swiper.slideTo(0,0),t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300)):!this.props.view&&e.view&&(this._view=!1,m.App.pub_stop()),o.dictationProg[i]>=2&&(this._sended=!0)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.data,t.state),r=t.index,o=t.actions,i=t.viewResult,a=this._trans?this._jsx_eng_sentence:this._jsx_sentence,s=-1;return n.dictationProg[r]>=3&&(s=n.numOfStudent>0?Math.round(100*n.resultDictation[r].arrayOfCorrect.filter((function(e){return!0===e})).length/n.numOfStudent):0)>100&&(s=100),l.createElement(l.Fragment,null,l.createElement("div",{className:"dict_question_bg",style:{display:this._view?"":"none"}},l.createElement("div",{className:"subject_rate"+(this._sended?"":" hide"),onClick:i},n.resultDictation[r].uid.length,"/",m.App.students.length),l.createElement(_.ToggleBtn,{className:"btn_answer"+(this._sended?"":" hide"),on:this._hint,onClick:this._viewAnswer}),l.createElement(b.CorrectBar,{className:"correct_answer_rate"+(this._sended?"":" hide"),preview:-1,result:s}),l.createElement("div",{className:"quiz_box"},l.createElement("div",{className:"white_board"},l.createElement(_.ToggleBtn,{className:"btn_trans",on:this._trans,onClick:this._viewTrans}),l.createElement("div",{className:"sentence_box"},l.createElement("div",null,l.createElement("div",{className:"question_box",onClick:this._onClick},a,l.createElement("div",{className:"video_container"},l.createElement(y.default,{data:o.getData(),idx:2,isShadowPlay:!1,onChangeScript:function(){},player:this.m_player,playerInitTime:0,roll:"",setShadowPlay:function(e){},shadowing:!1,stopClick:function(){}}))))),l.createElement("div",{className:"dict_question"},this.props.data.map((function(t,n){return e.boxnum=n,l.createElement("div",{key:n,className:"blank_sentence",ref:function(t){return e.refText(t,n)}},l.createElement("p",null,n+1,"."),l.createElement("p",null,v._getJSX(e._jsx_question[n])))})))))))}}])&&r(t.prototype,n),a&&r(t,a),c}(l.Component);u([d.observable],g.prototype,"_view",void 0),u([d.observable],g.prototype,"_hint",void 0),u([d.observable],g.prototype,"_trans",void 0),u([d.observable],g.prototype,"_sended",void 0),g=u([f.observer],g),t.default=g},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var f=n(0),d=n(5),_=n(1),m=n(2),h=n(4),y=n(3),v=n(12),b=n(9),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,o,c=s(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e))._view=!1,t._jsx_sentences=[],t._onClosePopup=function(){y.App.pub_playBtnTab(),t._view=!1},t._onClick=function(){t._btnAudio&&t._btnAudio.toggle()};var n,o=r(e.data);try{for(o.s();!(n=o.n()).done;){var i=n.value;t._jsx_sentences.push({eng:b._getJSX(i.dms_eng),kor:b._getJSX(i.dms_kor)})}}catch(e){o.e(e)}finally{o.f()}return t}return t=u,(n=[{key:"componentDidUpdate",value:function(e){var t=this;this._jsx_sentences.length=0;var n,o=r(this.props.data);try{for(o.s();!(n=o.n()).done;){var i=n.value;this._jsx_sentences.push({eng:b._getJSX(i.dms_eng),kor:b._getJSX(i.dms_kor)})}}catch(e){o.e(e)}finally{o.f()}var a=this.props.view;a&&!e.view?(this._view=!0,this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize()),d.delay((function(){t._swiper&&(t._swiper.slideTo(0,0),t._swiper.update(),t._swiper.scrollbar&&t._swiper.scrollbar.updateSize())}),300)):!a&&e.view&&(this._view=!1,y.App.pub_stop())}},{key:"render",value:function(){var e=this,t=this.props.onClosed;return f.createElement(f.Fragment,null,f.createElement(v.CoverPopup,{className:"pop_trans",view:this._view,onClosed:t},f.createElement("div",{className:"pop_bg"},f.createElement(h.ToggleBtn,{className:"btn_letstalk_close",onClick:this._onClosePopup}),f.createElement("div",{className:"popbox"},f.createElement("div",{className:"sentence_box"},f.createElement("div",null,this._jsx_sentences.map((function(t,n){return f.createElement(f.Fragment,null,f.createElement("div",{className:"question_box",onClick:e._onClick},t.eng),f.createElement("div",{className:"kor_question_box",onClick:e._onClick},t.kor))}))))))))}}])&&i(t.prototype,n),o&&i(t,o),u}(f.Component);p([m.observable],g.prototype,"_view",void 0),g=p([_.observer],g),t.default=g},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(5),f=n(1),d=n(2),_=n(7),m=n(3),h=n(10),y=n(62),v=n(63),b=n(8),g=n(4),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).m_player=new _.MPlayer(new _.MConfig(!0)),t.m_player_inittime=t.props.script[0].audio_start,t._tab="SCRIPT",t.c_popup="off",t._view=!1,t._viewClue=!1,t._viewTrans=!1,t._viewScript=!1,t._roll="",t._shadowing=!1,t._focusIdx=-1,t._isShadowPlay=!1,t._lastFocusIdx=-1,t._selected=[],t._refScriptContainer=function(e){!t._scontainer&&e&&(t._scontainer=e)},t._qnaReturnsClick=function(e){if("SCRIPT"===t._tab&&!(t.props.state.qnaProg<2)){var n=t.props.actions.getQnaReturns();e>=n.length||n[e].users.length<=0||(m.App.pub_playBtnTab(),h.startStudentReportProcess(6,n[e].users))}},t._clickItem=function(e,n){""!==t._roll||t._shadowing||t.m_player.gotoAndPlay(1e3*n.audio_start,1e3*n.audio_end,1)},t._stopClick=function(){t._sendFocusIdx(-1),t._lastFocusIdx=-1,t._focusIdx=-1,t.m_player.setMutedTemp(!1),t._sendDialogueEnd();var e="A"===t._roll||"B"===t._roll||t._shadowing;t._isShadowPlay=!1,e||t._setNavi()},t._onChangeScript=function(e){var n=t.m_data.scripts[t.props.idx];if(e>=0&&e<n.length){if(""!==t._roll||t._shadowing){var r=n[e];""!==t._roll&&t.m_player.setMutedTemp(t._roll===r.roll)}t._lastFocusIdx=e,t._focusIdx=e}else t._focusIdx=-1,""!==t._roll&&t.m_player.setMutedTemp(!1);t._sendFocusIdx(e)},t._setShadowPlay=function(e){if(t._shadowing){t._isShadowPlay=e;var n={msgtype:e?"playing":"paused"};h.sendPAD(10,n)}else t._isShadowPlay=e},t._toggleScript=function(){m.App.pub_playBtnTab(),t._viewScript=!t._viewScript},t._onQAClick=function(){var e=t.props,n=e.state,r=e.actions;if(console.log("onQAcilck"),0===n.qnaProg)m.App.pub_playBtnTab(),t.c_popup="Q&A",t.props.actions.setNavi(!1,!1);else if(n.qnaProg>=1){m.App.pub_playBtnTab();var o={msgtype:"qna_end",idx:t.props.idx};h.sendPAD(10,o),n.qnaProg=0,r.clearQnaReturns(),r.setNavi(!0,!0)}},t._onRollClick=function(){var e=t.props,n=e.state,r=e.actions;n.scriptProg[t.props.idx]>=2&&!t._shadowing&&(m.App.pub_playBtnTab(),""===t._roll?(t.c_popup="ROLE PLAY",t.m_player.pause(),r.setNavi(!1,!1)):(t._lastFocusIdx=-1,t._focusIdx=-1,t.m_player.setMutedTemp(!1),t._roll="",t._sendDialogueEnd(),r.setNavi(!0,!0)))},t._onShadowClick=function(){var e=t.props,n=(e.state,e.actions);m.App.pub_playBtnTab(),t._shadowing?(t._isShadowPlay=!1,t._shadowing=!1,n.setNavi(!0,!0)):(t._lastFocusIdx=-1,t._focusIdx=-1,t._sendFocusIdx(-1),t.c_popup="SHADOWING",t.m_player.pause(),t._sendDialogueEnd(),n.setNavi(!1,!1))},t._onPopupSend=function(e){var n=t.props,r=n.state,o=n.actions,i=n.idx;if("Q&A"===t.c_popup){if(r.qnaProg>0)return;r.qnaProg=1,m.App.pub_playToPad();var a={msgtype:"qna_send",idx:i};h.sendPAD(10,a),p.delay((function(){1===r.qnaProg&&(r.qnaProg=2)}),300)}else if("ROLE PLAY"===t.c_popup){if(2!==r.scriptProg[t.props.idx])return;if(""!==t._roll||""===e)return;(t.m_player.currentTime!==t.m_player_inittime||t.m_player.currentTime<t.m_player_inittime)&&t.m_player.gotoAndPause(1e3*t.m_player_inittime),m.App.pub_playToPad(),t._lastFocusIdx=0,t._focusIdx=-1,t.m_player.setMuted(!1),t.m_player.setMutedTemp(!1);var s={msgtype:"roll_send",idx:i,roll:e};h.sendPAD(10,s),p.delay((function(){2===r.scriptProg[t.props.idx]&&(t._roll=e)}),300)}else if("SHADOWING"===t.c_popup){if(2!==r.scriptProg[t.props.idx])return;if(t._shadowing)return;(t.m_player.currentTime!==t.m_player_inittime||t.m_player.currentTime<t.m_player_inittime)&&t.m_player.gotoAndPause(1e3*t.m_player_inittime),m.App.pub_playToPad(),t._lastFocusIdx=0,t._focusIdx=-1,t.m_player.setMuted(!1),t.m_player.setMutedTemp(!1);h.sendPAD(10,{msgtype:"shadowing_send"}),p.delay((function(){2===r.scriptProg[t.props.idx]&&(t._shadowing=!0)}),300)}o.setNavi(!1,!1)},t._onPopupClosed=function(){"SCRIPT"!==t._tab||0!==t.props.state.qnaProg||""!==t._roll||t._shadowing||t.props.actions.setNavi(!0,!0),t.c_popup="off"},t.m_data=e.actions.getData(),t.m_player_inittime=t.props.script[0].audio_start,t.m_player.addOnPlayEnd((function(){t._lastFocusIdx=-1,t._focusIdx=-1,t.m_player.setMutedTemp(!1),t._sendDialogueEnd(),""!==t._roll||t._shadowing?t._shadowing&&(t._isShadowPlay=!1):t.props.actions.setNavi(!0,!0)})),t.m_player.addOnState((function(e,n){var r={msgtype:t._shadowing?t._isShadowPlay?"playing":"paused":6!==e&&t.m_player.bPlay?"playing":"paused"};h.sendPAD(10,r)})),t}return t=c,(n=[{key:"componentDidMount",value:function(){this.m_data=this.props.actions.getData()}},{key:"_sendFocusIdx",value:function(e){var t={msgtype:"focusidx",idx:this.props.idx,fidx:e};h.sendPAD(10,t)}},{key:"_sendDialogueEnd",value:function(){h.sendPAD(10,{msgtype:"script_end"})}},{key:"_setNavi",value:function(){var e=this.props,t=e.state,n=e.actions,r=e.idx,o=t.confirmBasicProg;n.setNaviView(!0);var i=!0,a=!0;0===r&&"INTRODUCTION"===this._tab?i=!1:2===o&&(0===r&&(i=!1),r===this.m_data.introduction.length-1&&(a=!1)),n.setNavi(i,a)}},{key:"componentDidUpdate",value:function(e){var t=this.props.view;t&&!e.view?(this._view=!0,this._setNavi(),this.m_player.bPlay&&this.m_player.pause()):!t&&e.view&&(this.m_player.bPlay&&this.m_player.pause(),this._lastFocusIdx=-1,this._focusIdx=-1,this._roll="",this._isShadowPlay=!1,this._shadowing=!1,m.App.pub_stop())}},{key:"render",value:function(){var e=this.props,t=e.view,n=e.state,r=e.script,o=e.idx;return n.confirmBasicProg,l.createElement(l.Fragment,null,l.createElement(g.ToggleBtn,{className:"btn_script_show"+(this._viewScript?" on":""),on:this._viewScript,onClick:this._toggleScript}),l.createElement("div",{className:"video_container"},l.createElement(b.default,{data:this.m_data,idx:o,isShadowPlay:this._isShadowPlay,onChangeScript:this._onChangeScript,player:this.m_player,playerInitTime:this.m_player_inittime,roll:this._roll,setShadowPlay:this._setShadowPlay,shadowing:this._shadowing,stopClick:this._stopClick})),l.createElement(v.default,{ref:this._refScriptContainer,view:t,role:this.m_data.role_play,script:r,idx:o,focusIdx:this._focusIdx,selected:this._selected,qnaReturns:this.props.actions.getQnaReturns(),qnaReturnsClick:this._qnaReturnsClick,roll:this._roll,shadowing:this._shadowing,clickThumb:this._clickItem,noSwiping:this._shadowing&&this._isShadowPlay||!this._shadowing&&this.m_player.bPlay,viewClue:this._viewClue,viewScript:this._viewScript,viewTrans:this._viewTrans,numRender:n.retCnt}),l.createElement("div",{className:"bottom"},l.createElement(g.ToggleBtn,{className:"btn_QA",view:t,on:n.qnaProg>=1,disabled:n.scriptProg[this.props.idx]<2,onClick:this._onQAClick}),l.createElement(g.ToggleBtn,{className:"btn_role",view:t,on:"A"===this._roll||"B"===this._roll,disabled:n.scriptProg[this.props.idx]<2,onClick:this._onRollClick}),l.createElement(g.ToggleBtn,{className:"btn_shadowing",view:t,on:this._shadowing,disabled:n.scriptProg[this.props.idx]<2,onClick:this._onShadowClick})),l.createElement(y.default,{type:this.c_popup,view:"Q&A"===this.c_popup||"ROLE PLAY"===this.c_popup||"SHADOWING"===this.c_popup,imgA:this.m_data.role_play.speakerA.image_l,imgB:this.m_data.role_play.speakerB.image_l,onSend:this._onPopupSend,onClosed:this._onPopupClosed}))}}])&&r(t.prototype,n),a&&r(t,a),c}(l.Component);u([d.observable],w.prototype,"_tab",void 0),u([d.observable],w.prototype,"c_popup",void 0),u([d.observable],w.prototype,"_view",void 0),u([d.observable],w.prototype,"_viewClue",void 0),u([d.observable],w.prototype,"_viewTrans",void 0),u([d.observable],w.prototype,"_viewScript",void 0),u([d.observable],w.prototype,"_roll",void 0),u([d.observable],w.prototype,"_shadowing",void 0),u([d.observable],w.prototype,"_focusIdx",void 0),u([d.observable],w.prototype,"_isShadowPlay",void 0),w=u([f.observer],w),t.default=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),_=n(1),m=n(2),h=n(4),y=n(14),v=n(3),b=n(21),g=n(12),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(l,e);var t,n,s,u=a(l);function l(){var e;return r(this,l),(e=u.apply(this,arguments)).m_view=!1,e.m_sendView=!1,e.m_roll="",e.onSend=function(){return f(c(e),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.onSend(this.m_roll),e.next=3,y.wait(400);case 3:this.m_view=!1;case 4:case"end":return e.stop()}}),e,this)})))},e._onClose=function(){e.m_view=!1},e._onRollA=function(){"ROLE PLAY"===e.props.type&&(v.App.pub_playBtnTab(),e.m_roll="A",e.m_sendView=!0)},e._onRollB=function(){"ROLE PLAY"===e.props.type&&(v.App.pub_playBtnTab(),e.m_roll="B",e.m_sendView=!0)},e}return t=l,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.type,r=t.view;r&&!e.view?(this.m_view=!0,this.m_sendView="ROLE PLAY"!==n,this.m_roll=""):!r&&e.view&&(this.m_view=!1,this.m_sendView=!1,this.m_roll="")}},{key:"render",value:function(){var e=this.props,t=e.view,n=e.type,r=e.onClosed,o=e.imgA,i=e.imgB;return d.createElement(g.CoverPopup,{className:"compre_popup "+this.props.type,view:t&&this.m_view,onClosed:r},d.createElement("span",null,"SHADOWING"===this.props.type?"LISTEN & REPEAT":n),d.createElement(h.ToggleBtn,{className:"btn_close",onClick:this._onClose}),d.createElement("div",{className:"popup_content"},d.createElement("span",null,"Do you have any questions?"),d.createElement("span",null,"Choose the role."),d.createElement("span",null,"Listen and repeat."),d.createElement("div",{className:"img_box"},d.createElement("div",{className:"A"+("A"===this.m_roll?" on":"")},d.createElement("span",{className:"icon_check A"}),d.createElement("img",{src:v.App.data_url+o,onClick:this._onRollA})),d.createElement("div",{className:"B"+("B"===this.m_roll?" on":"")},d.createElement("span",{className:"icon_check B"}),d.createElement("img",{src:v.App.data_url+i,onClick:this._onRollB})))),d.createElement(b.default,{view:this.m_sendView,preventUpWhenView:!0,type:"teacher",sended:!1,originY:0,onSend:this.onSend}))}}])&&o(t.prototype,n),s&&o(t,s),l}(d.Component);p([m.observable],w.prototype,"m_view",void 0),p([m.observable],w.prototype,"m_sendView",void 0),p([m.observable],w.prototype,"m_roll",void 0),w=p([_.observer],w),t.default=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),f=n(1),d=n(64),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,s,c=a(u);function u(){var e;return r(this,u),(e=c.apply(this,arguments)).m_soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,noSwipingClass:"swiper-no-swiping",scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},e._refSwiper=function(t){!e.m_swiper&&t&&(e.m_swiper=t.swiper)},e}return t=u,(n=[{key:"scrollTo",value:function(e,t){this.m_swiper.slideTo(e-1<0?0:e-1,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.view,r=t.shadowing,o=t.noSwiping,i=t.focusIdx,a=t.viewTrans,s=t.roll;if(this.m_swiper){var c=!1;if(e.focusIdx!==i&&i>=0){var u=i-1;u<0&&(u=0),this.m_swiper.slideTo(u)}n!==e.view&&(c=!0,this.m_swiper.slideTo(0,0)),s!==e.roll&&""!==s&&(c=!0,this.m_swiper.slideTo(0)),r&&!e.shadowing&&(c=!0,this.m_swiper.slideTo(0)),o!==e.noSwiping&&(c=!0,this.m_soption.noSwiping=o,this.m_swiper.params.noSwiping=o,this.m_soption.followFinger=!o,this.m_swiper.params.followFinger=!o,this.m_soption.scrollbar&&(this.m_soption.scrollbar.draggable=!o),this.m_swiper.params.scrollbar&&(this.m_swiper.params.scrollbar.draggable=!o),o?(this.m_soption.noSwipingClass="swiper-wrapper",this.m_swiper.params.noSwipingClass="swiper-wrapper"):(this.m_soption.noSwipingClass="swiper-no-swiping",this.m_swiper.params.noSwipingClass="swiper-no-swiping"));var l=-1;a!==e.viewTrans&&(o||(l=this.m_swiper.activeIndex),c=!0),c&&this.props.view&&(this.m_swiper.update(),this.m_swiper.scrollbar&&this.m_swiper.scrollbar.updateSize(),l>=0&&this.m_swiper.slideTo(l,0))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.view,r=t.script,o=t.role,i=t.selected,a=t.roll,s=t.numRender,c=t.shadowing,u=t.viewClue,l=t.viewScript,f=t.viewTrans,_=t.qnaReturns,m=t.focusIdx,h=o.speakerA.image_s,y=o.speakerB.image_s,v=o.speakerC.image_s,b=o.speakerD.image_s,g=o.speakerE.image_s,w=["script_box"].join(" ");return p.createElement(p.Fragment,null,p.createElement("div",{className:"swiper-container"},r.map((function(t,r){var o;o="E"===t.roll?g:"D"===t.roll?b:"C"===t.roll?v:"B"===t.roll?y:h;var s=i.indexOf(r),O=r<_.length?_[r].num:0;return p.createElement("div",{className:w,key:"script_"+r},p.createElement(d.default,{view:n,script:t,image_s:o,idx:r,focus:r===m,selected:s>=0,numOfReturn:O,roll:t.roll,sroll:a,shadowing:c,clickThumb:e.props.clickThumb,clickText:e.props.clickText,qnaReturnsClick:e.props.qnaReturnsClick,compDiv:"DIALOGUE",viewClue:u,viewScript:l,viewTrans:f}))}))),p.createElement("div",{style:{display:"none"}},s))}}])&&o(t.prototype,n),s&&o(t,s),u}(p.Component);_=l([f.observer],_),t.default=_},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),p=n(2),f=n(1),d=n(68),_=n(3),m=n(4);function h(e,t,n,r){return{r:e,g:t,b:n,a:r}}function y(e){var t=e.r,n=e.g,r=e.b,o=e.a;return"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")}var v=h(255,250,23,1),b=h(0,0,0,.2),g=h(150,40,202,1),w=h(0,42,227,1),O=h(193,55,169,1),P=h(255,114,0,1),E=h(0,146,238,1),T=h(150,40,202,1),S=h(0,42,227,1),k=h(193,55,169,1),x=h(255,114,0,1),R=h(0,146,238,1),C={brdThick:2,bgColor:g,brdColor:v,shadowX:0,shadowY:0,shadowBlur:0,shadowColor:v},j={brdThick:2,bgColor:w,brdColor:v,shadowX:0,shadowY:0,shadowBlur:0,shadowColor:v},N={brdThick:2,bgColor:O,brdColor:v,shadowX:0,shadowY:0,shadowBlur:0,shadowColor:v},D={brdThick:2,bgColor:P,brdColor:v,shadowX:0,shadowY:0,shadowBlur:0,shadowColor:v},A={brdThick:2,bgColor:E,brdColor:v,shadowX:0,shadowY:0,shadowBlur:0,shadowColor:v},I=(h(255,255,255,1),h(0,0,0,.2),{brdThick:2,bgColor:b,brdColor:T,shadowX:2,shadowY:6,shadowBlur:10,shadowColor:h(0,0,0,.2)}),B={brdThick:2,bgColor:b,brdColor:S,shadowX:2,shadowY:6,shadowBlur:10,shadowColor:h(0,0,0,.2)},M={brdThick:2,bgColor:b,brdColor:k,shadowX:2,shadowY:6,shadowBlur:10,shadowColor:h(0,0,0,.2)},L={brdThick:2,bgColor:b,brdColor:x,shadowX:2,shadowY:6,shadowBlur:10,shadowColor:h(0,0,0,.2)},U={brdThick:2,bgColor:b,brdColor:R,shadowX:2,shadowY:6,shadowBlur:10,shadowColor:h(0,0,0,.2)},F=!1,H=-1,q=Number.MIN_VALUE,z=Number.MIN_VALUE,Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,a,s=i(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).m_width=0,t.m_height=0,t.m_viewScript=!1,t._refCanvas=function(e){!t.m_ctx&&e&&(t.m_canvas=e,t.m_ctx=e.getContext("2d"),t._draw())},t._onResize=function(e,n){t.m_width===e&&t.m_height===n||t.m_ctx&&(t.m_width=e,t.m_height=n,t._draw())},t._onClickThumb=function(e){t.props.clickThumb(t.props.idx,t.props.script)},t._onTextDown=function(e){var n=e.target;F=n&&n.classList.contains("btn_student"),H=t.props.idx,q=e.clientX,z=e.clientY},t._onTextUp=function(e){var n=H===t.props.idx&&Math.abs(q-e.clientX)<30&&Math.abs(z-e.clientY)<30;H=-1,q=Number.MIN_VALUE,z=Number.MIN_VALUE,n&&("DIALOGUE"===t.props.compDiv?(_.App.pub_playBtnTab(),t.m_viewScript=!t.m_viewScript):F&&t.props.qnaReturnsClick&&t.props.qnaReturnsClick(t.props.idx))},t._onTextCancel=function(e){H=-1,q=Number.MIN_VALUE,z=Number.MIN_VALUE};var n=e.script.dms_eng,r=(n=n.replace(/<\s*br\s*\/*\s*>/gi,"<br>")).split("<br>");return t.m_jsx=l.createElement(l.Fragment,null,r.map((function(e,t){var n=e.split(" ").map((function(e,n){return 0===n?l.createElement("span",{key:t+"_"+n,className:"block"},e):l.createElement(l.Fragment,{key:t+"_"+n},l.createElement("span",{className:"space"}," "),l.createElement("span",{className:"block"},e))}));return 0===t?n:l.createElement(l.Fragment,{key:t},l.createElement("br",null),n)}))),r=(n=(n=e.script.dms_kor).replace(/<\s*br\s*\/*\s*>/gi,"<br>")).split("<br>"),t.m_trans=l.createElement(l.Fragment,null,r.map((function(e,t){var n=e.split(" ").map((function(e,n){return 0===n?l.createElement("span",{key:t+"_"+n,className:"block"},e):l.createElement(l.Fragment,{key:t+"_"+n},l.createElement("span",{className:"space"}," "),l.createElement("span",{className:"block"},e))}));return 0===t?n:l.createElement(l.Fragment,{key:t},l.createElement("br",null),n)}))),t.m_clue=l.createElement(l.Fragment,null),t.m_prog=l.createElement(l.Fragment,null),t}return t=c,(n=[{key:"_draw",value:function(){var e,t=this.props,n=t.view,r=t.focus,o=t.selected,i=t.roll,a=t.compDiv;this.m_canvas&&0!==this.m_width&&0!==this.m_height&&(this.m_ctx.clearRect(0,0,this.m_canvas.width,this.m_canvas.height),this.m_canvas.width=this.m_width+15,this.m_canvas.height=this.m_height+20,n&&"DIALOGUE"===a)&&(r||o?"A"===i?(e=C).brdColor=T:"B"===i?(e=j).brdColor=S:"C"===i?(e=N).brdColor=k:"D"===i?(e=D).brdColor=x:(e=A).brdColor=R:e="A"===i?I:"B"===i?B:"C"===i?M:"D"===i?L:U,function(e,t,n,r,o,i,a,s,c){var u=c.brdThick,l=c.brdColor,p=c.bgColor,f=c.shadowX,d=c.shadowY,_=c.shadowBlur,m=c.shadowColor,h=1.8*(t-i),v=(0!==f||0!==d||_>0)&&m.a>0,b=p.a;v&&b<1&&(p.a=1),e.lineWidth=u,e.lineCap="butt",e.lineJoin="miter",e.strokeStyle=y(l),e.fillStyle=y(p),e.beginPath(),e.moveTo(t+r,n+o-s),s>0&&e.arc(t+r-s,n+o-s,s,0,Math.PI/2),e.lineTo(t+s,n+o),s>0&&e.arc(t+s,n+o-s,s,Math.PI/2,Math.PI),e.lineTo(t,a+h/2),e.lineTo(i,a),e.lineTo(t,a-h/2),e.lineTo(t,n+s),s>0&&e.arc(t+s,n+s,s,Math.PI,3*Math.PI/2),e.lineTo(t+r-s,n),s>0&&e.arc(t+r-s,n+s,s,3*Math.PI/2,2*Math.PI),e.closePath(),v?(e.shadowColor=y(m),e.shadowBlur=_,e.shadowOffsetX=f,e.shadowOffsetY=d,e.fill(),b<1?(e.globalCompositeOperation="destination-out",e.shadowColor="rgba(0, 0, 0, 0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.fill(),u>0&&e.stroke(),e.globalCompositeOperation="source-over",p.a=b,e.fillStyle=y(p),e.fill(),u>0&&e.stroke()):u>0&&(e.shadowColor="rgba(0, 0, 0, 0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.stroke())):(e.fill(),u>0&&e.stroke()),e.globalCompositeOperation="source-over"}(this.m_ctx,12,10,this.m_width-12-1,this.m_height,2,38,10,e))}},{key:"componentDidUpdate",value:function(e){this.props.focus===e.focus&&this.props.selected===e.selected&&this.props.view===e.view&&this.props.compDiv===e.compDiv&&this.props.viewTrans===e.viewTrans&&this.props.sroll===e.sroll&&this.props.shadowing===e.shadowing||(H=-1,q=Number.MIN_VALUE,z=Number.MIN_VALUE,this._draw()),this.props.viewScript!==e.viewScript&&(this.m_viewScript=this.props.viewScript),this.props.compDiv!==e.compDiv&&(this.m_viewScript="COMPREHENSION"===this.props.compDiv)}},{key:"render",value:function(){var e=this.props,t=(e.script,e.roll),n=e.sroll,r=e.focus,o=(e.viewClue,e.viewTrans),i=e.shadowing,a=e.numOfReturn,s=["roll"+t];s.push("teacher"),this.props.selected&&s.push("focus"),this.m_viewScript||s.push("hide-script"),""!==n&&n===t&&(s.push("in-roll"),r&&s.push("on-roll")),r&&i&&s.push("shadowing");var c=o?this.m_trans:this.m_jsx,u=s.join(" ");return l.createElement(l.Fragment,null,l.createElement("div",{className:"thumb "+u,onClick:this._onClickThumb},l.createElement("div",{className:"progress"},this.m_prog),l.createElement("img",{className:"img_cls",src:_.App.data_url+this.props.image_s,draggable:!1}),l.createElement("div",{className:"img_cls"}),l.createElement("span",null)),l.createElement("div",{className:"ballon "+u,onPointerDown:this._onTextDown,onPointerUp:this._onTextUp,onPointerCancel:this._onTextCancel,onPointerLeave:this._onTextCancel},l.createElement("canvas",{ref:this._refCanvas}),l.createElement("span",{className:o?"view-trans":""},l.createElement("span",null,c),l.createElement("div",{className:"student-clue"},l.createElement(m.ToggleBtn,{className:"btn_student single",view:a>0},a),this.m_clue)),l.createElement(d.default,{handleHeight:!0,handleWidth:!0,onResize:this._onResize})))}}])&&r(t.prototype,n),a&&r(t,a),c}(l.Component);u([p.observable],Q.prototype,"m_viewScript",void 0),Q=u([f.observer],Q),t.default=Q},function(e,t,n){"use strict";var r=n(66);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"withResizeDetector",(function(){return de}));var r=n(0),o=n.n(r),i=n(18),a=n(23),s=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r},c=n(6);var u=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},l=n(24),p="object"==typeof self&&self&&self.Object===Object&&self,f=l.a||p||Function("return this")(),d=function(){return f.Date.now()},_=f.Symbol,m=Object.prototype,h=m.hasOwnProperty,y=m.toString,v=_?_.toStringTag:void 0;var b=function(e){var t=h.call(e,v),n=e[v];try{e[v]=void 0;var r=!0}catch(e){}var o=y.call(e);return r&&(t?e[v]=n:delete e[v]),o},g=Object.prototype.toString;var w=function(e){return g.call(e)},O=_?_.toStringTag:void 0;var P=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":O&&O in Object(e)?b(e):w(e)};var E=function(e){return null!=e&&"object"==typeof e};var T=function(e){return"symbol"==typeof e||E(e)&&"[object Symbol]"==P(e)},S=/^\s+|\s+$/g,k=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,R=/^0o[0-7]+$/i,C=parseInt;var j=function(e){if("number"==typeof e)return e;if(T(e))return NaN;if(u(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=u(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(S,"");var n=x.test(e);return n||R.test(e)?C(e.slice(2),n?2:8):k.test(e)?NaN:+e},N=Math.max,D=Math.min;var A=function(e,t,n){var r,o,i,a,s,c,l=0,p=!1,f=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=r,i=o;return r=o=void 0,l=t,a=e.apply(i,n)}function h(e){return l=e,s=setTimeout(v,t),p?m(e):a}function y(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-l>=i}function v(){var e=d();if(y(e))return b(e);s=setTimeout(v,function(e){var n=t-(e-c);return f?D(n,i-(e-l)):n}(e))}function b(e){return s=void 0,_&&r?m(e):(r=o=void 0,a)}function g(){var e=d(),n=y(e);if(r=arguments,o=this,c=e,n){if(void 0===s)return h(c);if(f)return clearTimeout(s),s=setTimeout(v,t),m(c)}return void 0===s&&(s=setTimeout(v,t)),a}return t=j(t)||0,u(n)&&(p=!!n.leading,i=(f="maxWait"in n)?N(j(n.maxWait)||0,t):i,_="trailing"in n?!!n.trailing:_),g.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=o=s=void 0},g.flush=function(){return void 0===s?a:b(d())},g};var I=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return u(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),A(e,t,{leading:r,maxWait:t,trailing:o})},B={debounce:A,throttle:I},M=function(e){return"function"==typeof e},L=function(){return"undefined"==typeof window};function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(a,e);var t,n,r,o,i=(t=a,function(){var e,n=V(t);if(Q()){var r=V(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return z(this,e)});function a(){return F(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(){return this.props.children}}])&&H(n.prototype,r),o&&H(n,o),a}(r.PureComponent);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?K(e):t}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(p,e);var t,n,c,u,l=(t=p,function(){var e,n=Z(t);if($()){var r=Z(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return J(this,e)});function p(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),ee(K(t=l.call(this,e)),"cancelHandler",(function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)})),ee(K(t),"rafClean",(function(){t.raf&&t.raf.cancel&&(t.raf.cancel(),t.raf=null)})),ee(K(t),"toggleObserver",(function(e){var n=t.getElement();n&&t.resizeObserver[e]&&t.resizeObserver[e](n)})),ee(K(t),"getElement",(function(){var e=t.props,n=e.querySelector,r=e.targetDomEl;if(!L()){if(n)return document.querySelector(n);if(r&&((o=r)instanceof Element||o instanceof HTMLDocument))return r;var o,a=t.element&&Object(i.findDOMNode)(t.element);if(a)return a.parentElement}})),ee(K(t),"createUpdater",(function(){return t.rafClean(),t.raf=s((function(e){var n=e.width,r=e.height,o=t.props.onResize;M(o)&&o(n,r),t.setState({width:n,height:r})})),t.raf})),ee(K(t),"createResizeHandler",(function(e){var n=t.state,r=n.width,o=n.height,i=t.props,a=i.handleWidth,s=i.handleHeight;if(a||s){var c=t.createUpdater();e.forEach((function(e){var n=e&&e.contentRect||{},i=n.width,u=n.height,l=a&&r!==i||s&&o!==u;!t.skipOnMount&&l&&!L()&&c({width:i,height:u}),t.skipOnMount=!1}))}})),ee(K(t),"onRef",(function(e){t.element=e})),ee(K(t),"getRenderType",(function(){var e=t.props,n=e.render,o=e.children;return M(n)?"renderProp":M(o)?"childFunction":Object(r.isValidElement)(o)?"child":Array.isArray(o)?"childArray":"parent"})),ee(K(t),"getTargetComponent",(function(){var e=t.props,n=e.render,o=e.children,i=e.nodeType,a=t.state,s={width:a.width,height:a.height};switch(t.getRenderType()){case"renderProp":return Object(r.cloneElement)(n(s),{key:"resize-detector"});case"childFunction":return Object(r.cloneElement)(o(s));case"child":return Object(r.cloneElement)(o,s);case"childArray":return o.map((function(e){return!!e&&Object(r.cloneElement)(e,s)}));default:return Object(r.createElement)(i)}}));var n=e.skipOnMount,o=e.refreshMode,c=e.refreshRate,u=e.refreshOptions;t.state={width:void 0,height:void 0},t.skipOnMount=n,t.raf=null,t.element=null,t.unmounted=!1;var f=B[o];return t.resizeHandler=f?f(t.createResizeHandler,c,u):t.createResizeHandler,t.resizeObserver=new a.a(t.resizeHandler),t}return n=p,(c=[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return o.a.createElement(Y,{ref:this.onRef},this.getTargetComponent())}}])&&X(n.prototype,c),u&&X(n,u),p}(r.PureComponent);te.propTypes={handleWidth:c.bool,handleHeight:c.bool,skipOnMount:c.bool,refreshRate:c.number,refreshMode:c.string,refreshOptions:Object(c.shape)({leading:c.bool,trailing:c.bool}),querySelector:c.string,targetDomEl:c.any,onResize:c.func,render:c.func,children:c.any,nodeType:c.node},te.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,onResize:null,render:void 0,children:null,nodeType:"div"};var ne=te;function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),e}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){return function(){var t,n=fe(e);if(pe()){var r=fe(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return le(this,t)}}function le(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return function(n){se(i,n);var r=ue(i);function i(){return oe(this,i),r.apply(this,arguments)}return ae(i,[{key:"render",value:function(){return o.a.createElement(ne,t,o.a.createElement(e,this.props))}}]),i}(r.Component)};t.default=ne}]);